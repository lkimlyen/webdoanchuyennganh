function postCommentNews(n,t,i,r,u,f,e,o){$.post("/tin-tuc/Ajax/Comment/AddComment",{NewsID:n,NewsCommentID:t,Title:r,CustomerID:i,content:u,email:e,name:f},function(){$(".fs-popup-close").trigger("click"),jfpts.utility.notifySuccessCenter("Bình luận của bạn đang được xử lý và sẽ được phản hồi trong 30 phút"),chat.server.notifyCommentNews(r),o.show()})}function actionCommentNewsV3(n,t){if($(n).hasClass("loading-action-comment")!=!0){var r=$(n).attr("data-action")=="True",i=parseInt($(n).closest(".fshop-cmt-relate").find(".fshop-cmt-numlike").text().replace('<img src="/Content/v3/images/icon-numlike.png" alt="">',""));$(n).addClass("loading-action-comment").html('<i class="glyphicon glyphicon-refresh glyphicon-refresh-animate"><\/i>'),$.post(r?"/tin-tuc/Ajax/Comment/Like":"/tin-tuc/Ajax/Comment/UnLike",{CommentID:t},function(t){t.Erros?jfpts.utility.notifyWarningCenter(t.Message):($(n).removeClass("loading-action-comment"),i=i<0?0:i,r?($(n).text("Bỏ thích"),$(n).attr("data-action","False"),$(n).closest(".fshop-cmt-relate").find(".fshop-cmt-numlike").html('<img src="/Content/v3/images/icon-numlike.png" alt=""> '+(i+1).toString())):($(n).text("Thích"),$(n).attr("data-action","True"),$(n).closest(".fshop-cmt-relate").find(".fshop-cmt-numlike").html('<img src="/Content/v3/images/icon-numlike.png" alt=""> '+(i-1).toString())))})}}(function(n){var u={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",responsiveWidth:!1},f=n(window),s=n(document),t=[],e=f.height(),r=function(){for(var u=f.scrollTop(),h=s.height(),c=h-e,l=u>c?c-u:0,r,o=0;o<t.length;o++){var i=t[o],a=i.stickyWrapper.offset().top,v=a-i.topSpacing-l;u<=v?i.currentTop!==null&&(i.stickyElement.css("width","").css("position","").css("top",""),i.stickyElement.trigger("sticky-end",[i]).parent().removeClass(i.className),i.currentTop=null):(r=h-i.stickyElement.outerHeight()-i.topSpacing-i.bottomSpacing-u-l,r=r<0?r+i.topSpacing:i.topSpacing,i.currentTop!=r&&(i.stickyElement.css("width",i.stickyElement.width()).css("position","fixed").css("top",r),typeof i.getWidthFrom!="undefined"&&i.stickyElement.css("width",n(i.getWidthFrom).width()),i.stickyElement.trigger("sticky-start",[i]).parent().addClass(i.className),i.currentTop=r))}},o=function(){var r,i;for(e=f.height(),r=0;r<t.length;r++)i=t[r],typeof i.getWidthFrom!="undefined"&&i.responsiveWidth===!0&&i.stickyElement.css("width",n(i.getWidthFrom).width())},i={init:function(i){var r=n.extend({},u,i);return this.each(function(){var i=n(this),f=i.attr("id"),s=f?f+"-"+u.wrapperClassName:u.wrapperClassName,o=n("<div><\/div>").attr("id",f+"-sticky-wrapper").addClass(r.wrapperClassName),e;i.wrapAll(o),r.center&&i.parent().css({width:i.outerWidth(),marginLeft:"auto",marginRight:"auto"}),i.css("float")=="right"&&i.css({float:"none"}).parent().css({float:"right"}),e=i.parent(),e.css("height",i.outerHeight()),t.push({topSpacing:r.topSpacing,bottomSpacing:r.bottomSpacing,stickyElement:i,currentTop:null,stickyWrapper:e,className:r.className,getWidthFrom:r.getWidthFrom,responsiveWidth:r.responsiveWidth})})},update:r,unstick:function(){return this.each(function(){for(var r=n(this),u=-1,i=0;i<t.length;i++)t[i].stickyElement.get(0)==r.get(0)&&(u=i);u!=-1&&(t.splice(u,1),r.unwrap(),r.removeAttr("style"))})}};window.addEventListener?(window.addEventListener("scroll",r,!1),window.addEventListener("resize",o,!1)):window.attachEvent&&(window.attachEvent("onscroll",r),window.attachEvent("onresize",o)),n.fn.sticky=function(t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.sticky");else return i.init.apply(this,arguments)},n.fn.unstick=function(t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.sticky");else return i.unstick.apply(this,arguments)},n(function(){setTimeout(r,0)})})(jQuery),function(){var t,n;t=this.jQuery||window.jQuery,n=t(window),t.fn.stick_in_parent=function(i){var e,s,r,u,o,c,f,l,h,a;for(null==i&&(i={}),f=i.sticky_class,s=i.inner_scrolling,c=i.recalc_every,o=i.parent,u=i.offset_top,r=i.spacer,e=i.bottoming,null==u&&(u=0),null==o&&(o=void 0),null==s&&(s=!0),null==f&&(f="is_stuck"),null==e&&(e=!0),l=function(i,h,l,a,v,y,p,w){var tt,et,g,ut,b,k,ft,it,rt,d,nt;if(!i.data("sticky_kit")){if(i.data("sticky_kit",!0),k=i.parent(),null!=o&&(k=k.closest(o)),!k.length)throw"failed to find stick parent";if(tt=g=!1,(d=null!=r?r&&i.closest(r):t("<div />"))&&d.css("position",i.css("position")),ft=function(){var n,t,e;if(!w&&(n=parseInt(k.css("border-top-width"),10),t=parseInt(k.css("padding-top"),10),h=parseInt(k.css("padding-bottom"),10),l=k.offset().top+n+t,a=k.height(),g&&(tt=g=!1,null==r&&(i.insertAfter(d),d.detach()),i.css({position:"",top:"",width:"",bottom:""}).removeClass(f),e=!0),v=i.offset().top-parseInt(i.css("margin-top"),10)-u,y=i.outerHeight(!0),p=i.css("float"),d&&d.css({width:i.outerWidth(!0),height:y,display:i.css("display"),"vertical-align":i.css("vertical-align"),float:p}),e))return nt()},ft(),y!==a)return ut=void 0,b=u,rt=c,nt=function(){var t,it,o,nt;if(!w&&(null!=rt&&(--rt,0>=rt&&(rt=c,ft())),o=n.scrollTop(),null!=ut&&(it=o-ut),ut=o,g?(e&&(nt=o+y+b>a+l,tt&&!nt&&(tt=!1,i.css({position:"fixed",bottom:"",top:b}).trigger("sticky_kit:unbottom"))),o<v&&(g=!1,b=u,null==r&&("left"!==p&&"right"!==p||i.insertAfter(d),d.detach()),t={position:"",width:"",top:""},i.css(t).removeClass(f).trigger("sticky_kit:unstick")),s&&(t=n.height(),y+u>t&&!tt&&(b-=it,b=Math.max(t-y,b),b=Math.min(u,b),g&&i.css({top:b+"px"})))):o>v&&(g=!0,t={position:"fixed",top:b},t.width="border-box"===i.css("box-sizing")?i.outerWidth()+"px":i.width()+"px",i.css(t).addClass(f),null==r&&(i.after(d),"left"!==p&&"right"!==p||d.append(i)),i.trigger("sticky_kit:stick")),g&&e&&(null==nt&&(nt=o+y+b>a+l),!tt&&nt)))return tt=!0,"static"===k.css("position")&&k.css({position:"relative"}),i.css({position:"absolute",bottom:h,top:"auto"}).trigger("sticky_kit:bottom")},it=function(){return ft(),nt()},et=function(){return w=!0,n.off("touchmove",nt),n.off("scroll",nt),n.off("resize",it),t(document.body).off("sticky_kit:recalc",it),i.off("sticky_kit:detach",et),i.removeData("sticky_kit"),i.css({position:"",bottom:"",top:"",width:""}),k.position("position",""),g?(null==r&&("left"!==p&&"right"!==p||i.insertAfter(d),d.remove()),i.removeClass(f)):void 0},n.on("touchmove",nt),n.on("scroll",nt),n.on("resize",it),t(document.body).on("sticky_kit:recalc",it),i.on("sticky_kit:detach",et),setTimeout(nt,0)}},h=0,a=this.length;h<a;h++)i=this[h],l(t(i));return this}}.call(this),!function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):"undefined"!=typeof exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){"use strict";var t=window.Slick||{};t=function(){function t(t,r){var f,u=this;u.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:n(t),appendDots:n(t),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous<\/button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next<\/button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(n,t){return'<button type="button" data-role="none" role="button" aria-required="false" tabindex="0">'+(t+1)+"<\/button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},u.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},n.extend(u,u.initials),u.activeBreakpoint=null,u.animType=null,u.animProp=null,u.breakpoints=[],u.breakpointSettings=[],u.cssTransitions=!1,u.hidden="hidden",u.paused=!1,u.positionProp=null,u.respondTo=null,u.rowCount=1,u.shouldClick=!0,u.$slider=n(t),u.$slidesCache=null,u.transformType=null,u.transitionType=null,u.visibilityChange="visibilitychange",u.windowWidth=0,u.windowTimer=null,f=n(t).data("slick")||{},u.options=n.extend({},u.defaults,f,r),u.currentSlide=u.options.initialSlide,u.originalSettings=u.options,"undefined"!=typeof document.mozHidden?(u.hidden="mozHidden",u.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(u.hidden="webkitHidden",u.visibilityChange="webkitvisibilitychange"),u.autoPlay=n.proxy(u.autoPlay,u),u.autoPlayClear=n.proxy(u.autoPlayClear,u),u.changeSlide=n.proxy(u.changeSlide,u),u.clickHandler=n.proxy(u.clickHandler,u),u.selectHandler=n.proxy(u.selectHandler,u),u.setPosition=n.proxy(u.setPosition,u),u.swipeHandler=n.proxy(u.swipeHandler,u),u.dragHandler=n.proxy(u.dragHandler,u),u.keyHandler=n.proxy(u.keyHandler,u),u.autoPlayIterator=n.proxy(u.autoPlayIterator,u),u.instanceUid=i++,u.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,u.registerBreakpoints(),u.init(!0),u.checkResponsive(!0)}var i=0;return t}(),t.prototype.addSlide=t.prototype.slickAdd=function(t,i,r){var u=this;if("boolean"==typeof i)r=i,i=null;else if(0>i||i>=u.slideCount)return!1;u.unload(),"number"==typeof i?0===i&&0===u.$slides.length?n(t).appendTo(u.$slideTrack):r?n(t).insertBefore(u.$slides.eq(i)):n(t).insertAfter(u.$slides.eq(i)):r===!0?n(t).prependTo(u.$slideTrack):n(t).appendTo(u.$slideTrack),u.$slides=u.$slideTrack.children(this.options.slide),u.$slideTrack.children(this.options.slide).detach(),u.$slideTrack.append(u.$slides),u.$slides.each(function(t,i){n(i).attr("data-slick-index",t)}),u.$slidesCache=u.$slides,u.reinit()},t.prototype.animateHeight=function(){var n=this,t;1===n.options.slidesToShow&&n.options.adaptiveHeight===!0&&n.options.vertical===!1&&(t=n.$slides.eq(n.currentSlide).outerHeight(!0),n.$list.animate({height:t},n.options.speed))},t.prototype.animateSlide=function(t,i){var u={},r=this;r.animateHeight(),r.options.rtl===!0&&r.options.vertical===!1&&(t=-t),r.transformsEnabled===!1?r.options.vertical===!1?r.$slideTrack.animate({left:t},r.options.speed,r.options.easing,i):r.$slideTrack.animate({top:t},r.options.speed,r.options.easing,i):r.cssTransitions===!1?(r.options.rtl===!0&&(r.currentLeft=-r.currentLeft),n({animStart:r.currentLeft}).animate({animStart:t},{duration:r.options.speed,easing:r.options.easing,step:function(n){n=Math.ceil(n),r.options.vertical===!1?(u[r.animType]="translate("+n+"px, 0px)",r.$slideTrack.css(u)):(u[r.animType]="translate(0px,"+n+"px)",r.$slideTrack.css(u))},complete:function(){i&&i.call()}})):(r.applyTransition(),t=Math.ceil(t),u[r.animType]=r.options.vertical===!1?"translate3d("+t+"px, 0px, 0px)":"translate3d(0px,"+t+"px, 0px)",r.$slideTrack.css(u),i&&setTimeout(function(){r.disableTransition(),i.call()},r.options.speed))},t.prototype.asNavFor=function(t){var r=this,i=r.options.asNavFor;i&&null!==i&&(i=n(i).not(r.$slider)),null!==i&&"object"==typeof i&&i.each(function(){var i=n(this).slick("getSlick");i.unslicked||i.slideHandler(t,!0)})},t.prototype.applyTransition=function(n){var t=this,i={};i[t.transitionType]=t.options.fade===!1?t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:"opacity "+t.options.speed+"ms "+t.options.cssEase,t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(n).css(i)},t.prototype.autoPlay=function(){var n=this;n.autoPlayTimer&&clearInterval(n.autoPlayTimer),n.slideCount>n.options.slidesToShow&&n.paused!==!0&&(n.autoPlayTimer=setInterval(n.autoPlayIterator,n.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var n=this;n.autoPlayTimer&&clearInterval(n.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var n=this;n.options.infinite===!1?1===n.direction?(n.currentSlide+1===n.slideCount-1&&(n.direction=0),n.slideHandler(n.currentSlide+n.options.slidesToScroll)):(0==n.currentSlide-1&&(n.direction=1),n.slideHandler(n.currentSlide-n.options.slidesToScroll)):n.slideHandler(n.currentSlide+n.options.slidesToScroll)},t.prototype.buildArrows=function(){var t=this;t.options.arrows===!0&&(t.$prevArrow=n(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=n(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),t.options.infinite!==!0&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},t.prototype.buildDots=function(){var i,r,t=this;if(t.options.dots===!0&&t.slideCount>t.options.slidesToShow){for(r='<ul class="'+t.options.dotsClass+'">',i=0;i<=t.getDotCount();i+=1)r+="<li>"+t.options.customPaging.call(this,t,i)+"<\/li>";r+="<\/ul>",t.$dots=n(r).appendTo(t.options.appendDots),t.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,i){n(i).attr("data-slick-index",t).data("originalStyling",n(i).attr("style")||"")}),t.$slidesCache=t.$slides,t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?n('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),(t.options.centerMode===!0||t.options.swipeToSlide===!0)&&(t.options.slidesToScroll=1),n("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.options.draggable===!0&&t.$list.addClass("draggable")},t.prototype.buildRows=function(){var t,i,r,f,c,u,e,n=this,o,s,h;if(f=document.createDocumentFragment(),u=n.$slider.children(),n.options.rows>1){for(e=n.options.slidesPerRow*n.options.rows,c=Math.ceil(u.length/e),t=0;c>t;t++){for(o=document.createElement("div"),i=0;i<n.options.rows;i++){for(s=document.createElement("div"),r=0;r<n.options.slidesPerRow;r++)h=t*e+(i*n.options.slidesPerRow+r),u.get(h)&&s.appendChild(u.get(h));o.appendChild(s)}f.appendChild(o)}n.$slider.html(f),n.$slider.children().children().children().css({width:100/n.options.slidesPerRow+"%",display:"inline-block"})}},t.prototype.checkResponsive=function(t,i){var f,u,e,r=this,o=!1,s=r.$slider.width(),h=window.innerWidth||n(window).width();if("window"===r.respondTo?e=h:"slider"===r.respondTo?e=s:"min"===r.respondTo&&(e=Math.min(h,s)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){u=null;for(f in r.breakpoints)r.breakpoints.hasOwnProperty(f)&&(r.originalSettings.mobileFirst===!1?e<r.breakpoints[f]&&(u=r.breakpoints[f]):e>r.breakpoints[f]&&(u=r.breakpoints[f]));null!==u?null!==r.activeBreakpoint?(u!==r.activeBreakpoint||i)&&(r.activeBreakpoint=u,"unslick"===r.breakpointSettings[u]?r.unslick(u):(r.options=n.extend({},r.originalSettings,r.breakpointSettings[u]),t===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(t)),o=u):(r.activeBreakpoint=u,"unslick"===r.breakpointSettings[u]?r.unslick(u):(r.options=n.extend({},r.originalSettings,r.breakpointSettings[u]),t===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(t)),o=u):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,t===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(t),o=u),t||o===!1||r.$slider.trigger("breakpoint",[r,o])}},t.prototype.changeSlide=function(t,i){var f,e,o,r=this,u=n(t.target),s;switch(u.is("a")&&t.preventDefault(),u.is("li")||(u=u.closest("li")),o=0!=r.slideCount%r.options.slidesToScroll,f=o?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,t.data.message){case"previous":e=0===f?r.options.slidesToScroll:r.options.slidesToShow-f,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-e,!1,i);break;case"next":e=0===f?r.options.slidesToScroll:f,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+e,!1,i);break;case"index":s=0===t.data.index?0:t.data.index||u.index()*r.options.slidesToScroll,r.slideHandler(r.checkNavigable(s),!1,i),u.children().trigger("focus");break;default:return}},t.prototype.checkNavigable=function(n){var t,i,u=this,r;if(t=u.getNavigableIndexes(),i=0,n>t[t.length-1])n=t[t.length-1];else for(r in t){if(n<t[r]){n=i;break}i=t[r]}return n},t.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&(n("li",t.$dots).off("click.slick",t.changeSlide),t.options.pauseOnDotsHover===!0&&t.options.autoplay===!0&&n("li",t.$dots).off("mouseenter.slick",n.proxy(t.setPaused,t,!0)).off("mouseleave.slick",n.proxy(t.setPaused,t,!1))),t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide)),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),n(document).off(t.visibilityChange,t.visibility),t.$list.off("mouseenter.slick",n.proxy(t.setPaused,t,!0)),t.$list.off("mouseleave.slick",n.proxy(t.setPaused,t,!1)),t.options.accessibility===!0&&t.$list.off("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&n(t.$slideTrack).children().off("click.slick",t.selectHandler),n(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),n(window).off("resize.slick.slick-"+t.instanceUid,t.resize),n("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),n(window).off("load.slick.slick-"+t.instanceUid,t.setPosition),n(document).off("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.cleanUpRows=function(){var n,t=this;t.options.rows>1&&(n=t.$slides.children().children(),n.removeAttr("style"),t.$slider.html(n))},t.prototype.clickHandler=function(n){var t=this;t.shouldClick===!1&&(n.stopImmediatePropagation(),n.stopPropagation(),n.preventDefault())},t.prototype.destroy=function(t){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),n(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.options.arrows===!0&&(i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove()),i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove())),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){n(this).attr("style",n(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.unslicked=!0,t||i.$slider.trigger("destroy",[i])},t.prototype.disableTransition=function(n){var t=this,i={};i[t.transitionType]="",t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(n).css(i)},t.prototype.fadeSlide=function(n,t){var i=this;i.cssTransitions===!1?(i.$slides.eq(n).css({zIndex:i.options.zIndex}),i.$slides.eq(n).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(n),i.$slides.eq(n).css({opacity:1,zIndex:i.options.zIndex}),t&&setTimeout(function(){i.disableTransition(n),t.call()},i.options.speed))},t.prototype.fadeSlideOut=function(n){var t=this;t.cssTransitions===!1?t.$slides.eq(n).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(n),t.$slides.eq(n).css({opacity:0,zIndex:t.options.zIndex-2}))},t.prototype.filterSlides=t.prototype.slickFilter=function(n){var t=this;null!==n&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(n).appendTo(t.$slideTrack),t.reinit())},t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){var n=this;return n.currentSlide},t.prototype.getDotCount=function(){var n=this,t=0,i=0,r=0;if(n.options.infinite===!0)for(;t<n.slideCount;)++r,t=i+n.options.slidesToShow,i+=n.options.slidesToScroll<=n.options.slidesToShow?n.options.slidesToScroll:n.options.slidesToShow;else if(n.options.centerMode===!0)r=n.slideCount;else for(;t<n.slideCount;)++r,t=i+n.options.slidesToShow,i+=n.options.slidesToScroll<=n.options.slidesToShow?n.options.slidesToScroll:n.options.slidesToShow;return r-1},t.prototype.getLeft=function(n){var f,r,i,t=this,u=0;return t.slideOffset=0,r=t.$slides.first().outerHeight(!0),t.options.infinite===!0?(t.slideCount>t.options.slidesToShow&&(t.slideOffset=-1*t.slideWidth*t.options.slidesToShow,u=-1*r*t.options.slidesToShow),0!=t.slideCount%t.options.slidesToScroll&&n+t.options.slidesToScroll>t.slideCount&&t.slideCount>t.options.slidesToShow&&(n>t.slideCount?(t.slideOffset=-1*(t.options.slidesToShow-(n-t.slideCount))*t.slideWidth,u=-1*(t.options.slidesToShow-(n-t.slideCount))*r):(t.slideOffset=-1*t.slideCount%t.options.slidesToScroll*t.slideWidth,u=-1*t.slideCount%t.options.slidesToScroll*r))):n+t.options.slidesToShow>t.slideCount&&(t.slideOffset=(n+t.options.slidesToShow-t.slideCount)*t.slideWidth,u=(n+t.options.slidesToShow-t.slideCount)*r),t.slideCount<=t.options.slidesToShow&&(t.slideOffset=0,u=0),t.options.centerMode===!0&&t.options.infinite===!0?t.slideOffset+=t.slideWidth*Math.floor(t.options.slidesToShow/2)-t.slideWidth:t.options.centerMode===!0&&(t.slideOffset=0,t.slideOffset+=t.slideWidth*Math.floor(t.options.slidesToShow/2)),f=t.options.vertical===!1?-1*n*t.slideWidth+t.slideOffset:-1*n*r+u,t.options.variableWidth===!0&&(i=t.slideCount<=t.options.slidesToShow||t.options.infinite===!1?t.$slideTrack.children(".slick-slide").eq(n):t.$slideTrack.children(".slick-slide").eq(n+t.options.slidesToShow),f=i[0]?-1*i[0].offsetLeft:0,t.options.centerMode===!0&&(i=t.options.infinite===!1?t.$slideTrack.children(".slick-slide").eq(n):t.$slideTrack.children(".slick-slide").eq(n+t.options.slidesToShow+1),f=i[0]?-1*i[0].offsetLeft:0,f+=(t.$list.width()-i.outerWidth())/2)),f},t.prototype.getOption=t.prototype.slickGetOption=function(n){var t=this;return t.options[n]},t.prototype.getNavigableIndexes=function(){var i,n=this,t=0,r=0,u=[];for(n.options.infinite===!1?i=n.slideCount:(t=-1*n.options.slidesToScroll,r=-1*n.options.slidesToScroll,i=2*n.slideCount);i>t;)u.push(t),t=r+n.options.slidesToScroll,r+=n.options.slidesToScroll<=n.options.slidesToShow?n.options.slidesToScroll:n.options.slidesToShow;return u},t.prototype.getSlick=function(){return this},t.prototype.getSlideCount=function(){var u,i,r,t=this;return r=t.options.centerMode===!0?t.slideWidth*Math.floor(t.options.slidesToShow/2):0,t.options.swipeToSlide===!0?(t.$slideTrack.find(".slick-slide").each(function(u,f){if(f.offsetLeft-r+n(f).outerWidth()/2>-1*t.swipeLeft)return i=f,!1}),u=Math.abs(n(i).attr("data-slick-index")-t.currentSlide)||1):t.options.slidesToScroll},t.prototype.goTo=t.prototype.slickGoTo=function(n,t){var i=this;i.changeSlide({data:{message:"index",index:parseInt(n)}},t)},t.prototype.init=function(t){var i=this;n(i.$slider).hasClass("slick-initialized")||(n(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots()),t&&i.$slider.trigger("init",[i]),i.options.accessibility===!0&&i.initADA()},t.prototype.initArrowEvents=function(){var n=this;n.options.arrows===!0&&n.slideCount>n.options.slidesToShow&&(n.$prevArrow.on("click.slick",{message:"previous"},n.changeSlide),n.$nextArrow.on("click.slick",{message:"next"},n.changeSlide))},t.prototype.initDotEvents=function(){var t=this;t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&n("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),t.options.dots===!0&&t.options.pauseOnDotsHover===!0&&t.options.autoplay===!0&&n("li",t.$dots).on("mouseenter.slick",n.proxy(t.setPaused,t,!0)).on("mouseleave.slick",n.proxy(t.setPaused,t,!1))},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),n(document).on(t.visibilityChange,n.proxy(t.visibility,t)),t.$list.on("mouseenter.slick",n.proxy(t.setPaused,t,!0)),t.$list.on("mouseleave.slick",n.proxy(t.setPaused,t,!1)),t.options.accessibility===!0&&t.$list.on("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&n(t.$slideTrack).children().on("click.slick",t.selectHandler),n(window).on("orientationchange.slick.slick-"+t.instanceUid,n.proxy(t.orientationChange,t)),n(window).on("resize.slick.slick-"+t.instanceUid,n.proxy(t.resize,t)),n("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),n(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),n(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.initUI=function(){var n=this;n.options.arrows===!0&&n.slideCount>n.options.slidesToShow&&(n.$prevArrow.show(),n.$nextArrow.show()),n.options.dots===!0&&n.slideCount>n.options.slidesToShow&&n.$dots.show(),n.options.autoplay===!0&&n.autoPlay()},t.prototype.keyHandler=function(n){var t=this;n.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===n.keyCode&&t.options.accessibility===!0?t.changeSlide({data:{message:"previous"}}):39===n.keyCode&&t.options.accessibility===!0&&t.changeSlide({data:{message:"next"}}))},t.prototype.lazyLoad=function(){function f(t){n("img[data-lazy]",t).each(function(){var t=n(this),i=n(this).attr("data-lazy"),r=document.createElement("img");r.onload=function(){t.animate({opacity:0},100,function(){t.attr("src",i).animate({opacity:1},200,function(){t.removeAttr("data-lazy").removeClass("slick-loading")})})},r.src=i})}var e,r,i,u,t=this;t.options.centerMode===!0?t.options.infinite===!0?(i=t.currentSlide+(t.options.slidesToShow/2+1),u=i+t.options.slidesToShow+2):(i=Math.max(0,t.currentSlide-(t.options.slidesToShow/2+1)),u=2+(t.options.slidesToShow/2+1)+t.currentSlide):(i=t.options.infinite?t.options.slidesToShow+t.currentSlide:t.currentSlide,u=i+t.options.slidesToShow,t.options.fade===!0&&(i>0&&i--,u<=t.slideCount&&u++)),e=t.$slider.find(".slick-slide").slice(i,u),f(e),t.slideCount<=t.options.slidesToShow?(r=t.$slider.find(".slick-slide"),f(r)):t.currentSlide>=t.slideCount-t.options.slidesToShow?(r=t.$slider.find(".slick-cloned").slice(0,t.options.slidesToShow),f(r)):0===t.currentSlide&&(r=t.$slider.find(".slick-cloned").slice(-1*t.options.slidesToShow),f(r))},t.prototype.loadSlider=function(){var n=this;n.setPosition(),n.$slideTrack.css({opacity:1}),n.$slider.removeClass("slick-loading"),n.initUI(),"progressive"===n.options.lazyLoad&&n.progressiveLazyLoad()},t.prototype.next=t.prototype.slickNext=function(){var n=this;n.changeSlide({data:{message:"next"}})},t.prototype.orientationChange=function(){var n=this;n.checkResponsive(),n.setPosition()},t.prototype.pause=t.prototype.slickPause=function(){var n=this;n.autoPlayClear(),n.paused=!0},t.prototype.play=t.prototype.slickPlay=function(){var n=this;n.paused=!1,n.autoPlay()},t.prototype.postSlide=function(n){var t=this;t.$slider.trigger("afterChange",[t,n]),t.animating=!1,t.setPosition(),t.swipeLeft=null,t.options.autoplay===!0&&t.paused===!1&&t.autoPlay(),t.options.accessibility===!0&&t.initADA()},t.prototype.prev=t.prototype.slickPrev=function(){var n=this;n.changeSlide({data:{message:"previous"}})},t.prototype.preventDefault=function(n){n.preventDefault()},t.prototype.progressiveLazyLoad=function(){var r,i,t=this;r=n("img[data-lazy]",t.$slider).length,r>0&&(i=n("img[data-lazy]",t.$slider).first(),i.attr("src",i.attr("data-lazy")).removeClass("slick-loading").load(function(){i.removeAttr("data-lazy"),t.progressiveLazyLoad(),t.options.adaptiveHeight===!0&&t.setPosition()}).error(function(){i.removeAttr("data-lazy"),t.progressiveLazyLoad()}))},t.prototype.refresh=function(t){var i=this,r=i.currentSlide;i.destroy(!0),n.extend(i,i.initials,{currentSlide:r}),i.init(),t||i.changeSlide({data:{message:"index",index:r}},!1)},t.prototype.registerBreakpoints=function(){var u,f,i,t=this,r=t.options.responsive||null;if("array"===n.type(r)&&r.length){t.respondTo=t.options.respondTo||"window";for(u in r)if(i=t.breakpoints.length-1,f=r[u].breakpoint,r.hasOwnProperty(u)){for(;i>=0;)t.breakpoints[i]&&t.breakpoints[i]===f&&t.breakpoints.splice(i,1),i--;t.breakpoints.push(f),t.breakpointSettings[f]=r[u].settings}t.breakpoints.sort(function(n,i){return t.options.mobileFirst?n-i:i-n})}},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.checkResponsive(!1,!0),t.options.focusOnSelect===!0&&n(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses(0),t.setPosition(),t.$slider.trigger("reInit",[t]),t.options.autoplay===!0&&t.focusHandler()},t.prototype.resize=function(){var t=this;n(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=n(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},t.prototype.removeSlide=t.prototype.slickRemove=function(n,t,i){var r=this;return"boolean"==typeof n?(t=n,n=t===!0?0:r.slideCount-1):n=t===!0?--n:n,r.slideCount<1||0>n||n>r.slideCount-1?!1:(r.unload(),i===!0?r.$slideTrack.children().remove():r.$slideTrack.children(this.options.slide).eq(n).remove(),r.$slides=r.$slideTrack.children(this.options.slide),r.$slideTrack.children(this.options.slide).detach(),r.$slideTrack.append(r.$slides),r.$slidesCache=r.$slides,r.reinit(),void 0)},t.prototype.setCSS=function(n){var r,u,t=this,i={};t.options.rtl===!0&&(n=-n),r="left"==t.positionProp?Math.ceil(n)+"px":"0px",u="top"==t.positionProp?Math.ceil(n)+"px":"0px",i[t.positionProp]=n,t.transformsEnabled===!1?t.$slideTrack.css(i):(i={},t.cssTransitions===!1?(i[t.animType]="translate("+r+", "+u+")",t.$slideTrack.css(i)):(i[t.animType]="translate3d("+r+", "+u+", 0px)",t.$slideTrack.css(i)))},t.prototype.setDimensions=function(){var n=this,t;n.options.vertical===!1?n.options.centerMode===!0&&n.$list.css({padding:"0px "+n.options.centerPadding}):(n.$list.height(n.$slides.first().outerHeight(!0)*n.options.slidesToShow),n.options.centerMode===!0&&n.$list.css({padding:n.options.centerPadding+" 0px"})),n.listWidth=n.$list.width(),n.listHeight=n.$list.height(),n.options.vertical===!1&&n.options.variableWidth===!1?(n.slideWidth=Math.ceil(n.listWidth/n.options.slidesToShow),n.$slideTrack.width(Math.ceil(n.slideWidth*n.$slideTrack.children(".slick-slide").length))):n.options.variableWidth===!0?n.$slideTrack.width(5e3*n.slideCount):(n.slideWidth=Math.ceil(n.listWidth),n.$slideTrack.height(Math.ceil(n.$slides.first().outerHeight(!0)*n.$slideTrack.children(".slick-slide").length))),t=n.$slides.first().outerWidth(!0)-n.$slides.first().width(),n.options.variableWidth===!1&&n.$slideTrack.children(".slick-slide").width(n.slideWidth-t)},t.prototype.setFade=function(){var i,t=this;t.$slides.each(function(r,u){i=-1*t.slideWidth*r,t.options.rtl===!0?n(u).css({position:"relative",right:i,top:0,zIndex:t.options.zIndex-2,opacity:0}):n(u).css({position:"relative",left:i,top:0,zIndex:t.options.zIndex-2,opacity:0})}),t.$slides.eq(t.currentSlide).css({zIndex:t.options.zIndex-1,opacity:1})},t.prototype.setHeight=function(){var n=this,t;1===n.options.slidesToShow&&n.options.adaptiveHeight===!0&&n.options.vertical===!1&&(t=n.$slides.eq(n.currentSlide).outerHeight(!0),n.$list.css("height",t))},t.prototype.setOption=t.prototype.slickSetOption=function(t,i,r){var f,e,u=this;if("responsive"===t&&"array"===n.type(i))for(e in i)if("array"!==n.type(u.options.responsive))u.options.responsive=[i[e]];else{for(f=u.options.responsive.length-1;f>=0;)u.options.responsive[f].breakpoint===i[e].breakpoint&&u.options.responsive.splice(f,1),f--;u.options.responsive.push(i[e])}else u.options[t]=i;r===!0&&(u.unload(),u.reinit())},t.prototype.setPosition=function(){var n=this;n.setDimensions(),n.setHeight(),n.options.fade===!1?n.setCSS(n.getLeft(n.currentSlide)):n.setFade(),n.$slider.trigger("setPosition",[n])},t.prototype.setProps=function(){var n=this,t=document.body.style;n.positionProp=n.options.vertical===!0?"top":"left","top"===n.positionProp?n.$slider.addClass("slick-vertical"):n.$slider.removeClass("slick-vertical"),(void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.msTransition)&&n.options.useCSS===!0&&(n.cssTransitions=!0),n.options.fade&&("number"==typeof n.options.zIndex?n.options.zIndex<3&&(n.options.zIndex=3):n.options.zIndex=n.defaults.zIndex),void 0!==t.OTransform&&(n.animType="OTransform",n.transformType="-o-transform",n.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(n.animType=!1)),void 0!==t.MozTransform&&(n.animType="MozTransform",n.transformType="-moz-transform",n.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(n.animType=!1)),void 0!==t.webkitTransform&&(n.animType="webkitTransform",n.transformType="-webkit-transform",n.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(n.animType=!1)),void 0!==t.msTransform&&(n.animType="msTransform",n.transformType="-ms-transform",n.transitionType="msTransition",void 0===t.msTransform&&(n.animType=!1)),void 0!==t.transform&&n.animType!==!1&&(n.animType="transform",n.transformType="transform",n.transitionType="transition"),n.transformsEnabled=null!==n.animType&&n.animType!==!1},t.prototype.setSlideClasses=function(n){var u,i,r,f,t=this;i=t.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),t.$slides.eq(n).addClass("slick-current"),t.options.centerMode===!0?(u=Math.floor(t.options.slidesToShow/2),t.options.infinite===!0&&(n>=u&&n<=t.slideCount-1-u?t.$slides.slice(n-u,n+u+1).addClass("slick-active").attr("aria-hidden","false"):(r=t.options.slidesToShow+n,i.slice(r-u+1,r+u+2).addClass("slick-active").attr("aria-hidden","false")),0===n?i.eq(i.length-1-t.options.slidesToShow).addClass("slick-center"):n===t.slideCount-1&&i.eq(t.options.slidesToShow).addClass("slick-center")),t.$slides.eq(n).addClass("slick-center")):n>=0&&n<=t.slideCount-t.options.slidesToShow?t.$slides.slice(n,n+t.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=t.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(f=t.slideCount%t.options.slidesToShow,r=t.options.infinite===!0?t.options.slidesToShow+n:n,t.options.slidesToShow==t.options.slidesToScroll&&t.slideCount-n<t.options.slidesToShow?i.slice(r-(t.options.slidesToShow-f),r+f).addClass("slick-active").attr("aria-hidden","false"):i.slice(r,r+t.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===t.options.lazyLoad&&t.lazyLoad()},t.prototype.setupInfinite=function(){var i,r,u,t=this;if(t.options.fade===!0&&(t.options.centerMode=!1),t.options.infinite===!0&&t.options.fade===!1&&(r=null,t.slideCount>t.options.slidesToShow)){for(u=t.options.centerMode===!0?t.options.slidesToShow+1:t.options.slidesToShow,i=t.slideCount;i>t.slideCount-u;i-=1)r=i-1,n(t.$slides[r]).clone(!0).attr("id","").attr("data-slick-index",r-t.slideCount).prependTo(t.$slideTrack).addClass("slick-cloned");for(i=0;u>i;i+=1)r=i,n(t.$slides[r]).clone(!0).attr("id","").attr("data-slick-index",r+t.slideCount).appendTo(t.$slideTrack).addClass("slick-cloned");t.$slideTrack.find(".slick-cloned").find("[id]").each(function(){n(this).attr("id","")})}},t.prototype.setPaused=function(n){var t=this;t.options.autoplay===!0&&t.options.pauseOnHover===!0&&(t.paused=n,n?t.autoPlayClear():t.autoPlay())},t.prototype.selectHandler=function(t){var i=this,u=n(t.target).is(".slick-slide")?n(t.target):n(t.target).parents(".slick-slide"),r=parseInt(u.attr("data-slick-index"));return r||(r=0),i.slideCount<=i.options.slidesToShow?(i.setSlideClasses(r),i.asNavFor(r),void 0):(i.slideHandler(r),void 0)},t.prototype.slideHandler=function(n,t,i){var u,f,o,e,s=null,r=this;return t=t||!1,r.animating===!0&&r.options.waitForAnimate===!0||r.options.fade===!0&&r.currentSlide===n||r.slideCount<=r.options.slidesToShow?void 0:(t===!1&&r.asNavFor(n),u=n,s=r.getLeft(u),e=r.getLeft(r.currentSlide),r.currentLeft=null===r.swipeLeft?e:r.swipeLeft,r.options.infinite===!1&&r.options.centerMode===!1&&(0>n||n>r.getDotCount()*r.options.slidesToScroll)?(r.options.fade===!1&&(u=r.currentSlide,i!==!0?r.animateSlide(e,function(){r.postSlide(u)}):r.postSlide(u)),void 0):r.options.infinite===!1&&r.options.centerMode===!0&&(0>n||n>r.slideCount-r.options.slidesToScroll)?(r.options.fade===!1&&(u=r.currentSlide,i!==!0?r.animateSlide(e,function(){r.postSlide(u)}):r.postSlide(u)),void 0):(r.options.autoplay===!0&&clearInterval(r.autoPlayTimer),f=0>u?0!=r.slideCount%r.options.slidesToScroll?r.slideCount-r.slideCount%r.options.slidesToScroll:r.slideCount+u:u>=r.slideCount?0!=r.slideCount%r.options.slidesToScroll?0:u-r.slideCount:u,r.animating=!0,r.$slider.trigger("beforeChange",[r,r.currentSlide,f]),o=r.currentSlide,r.currentSlide=f,r.setSlideClasses(r.currentSlide),r.updateDots(),r.updateArrows(),r.options.fade===!0?(i!==!0?(r.fadeSlideOut(o),r.fadeSlide(f,function(){r.postSlide(f)})):r.postSlide(f),r.animateHeight(),void 0):(i!==!0?r.animateSlide(s,function(){r.postSlide(f)}):r.postSlide(f),void 0)))},t.prototype.startLoad=function(){var n=this;n.options.arrows===!0&&n.slideCount>n.options.slidesToShow&&(n.$prevArrow.hide(),n.$nextArrow.hide()),n.options.dots===!0&&n.slideCount>n.options.slidesToShow&&n.$dots.hide(),n.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var i,r,u,n,t=this;return i=t.touchObject.startX-t.touchObject.curX,r=t.touchObject.startY-t.touchObject.curY,u=Math.atan2(r,i),n=Math.round(180*u/Math.PI),0>n&&(n=360-Math.abs(n)),45>=n&&n>=0?t.options.rtl===!1?"left":"right":360>=n&&n>=315?t.options.rtl===!1?"left":"right":n>=135&&225>=n?t.options.rtl===!1?"right":"left":t.options.verticalSwiping===!0?n>=35&&135>=n?"left":"right":"vertical"},t.prototype.swipeEnd=function(){var t,n=this;if(n.dragging=!1,n.shouldClick=n.touchObject.swipeLength>10?!1:!0,void 0===n.touchObject.curX)return!1;if(n.touchObject.edgeHit===!0&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe)switch(n.swipeDirection()){case"left":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount(),n.slideHandler(t),n.currentDirection=0,n.touchObject={},n.$slider.trigger("swipe",[n,"left"]);break;case"right":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount(),n.slideHandler(t),n.currentDirection=1,n.touchObject={},n.$slider.trigger("swipe",[n,"right"])}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})},t.prototype.swipeHandler=function(n){var t=this;if(!(t.options.swipe===!1||"ontouchend"in document&&t.options.swipe===!1||t.options.draggable===!1&&-1!==n.type.indexOf("mouse")))switch(t.touchObject.fingerCount=n.originalEvent&&void 0!==n.originalEvent.touches?n.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,t.options.verticalSwiping===!0&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),n.data.action){case"start":t.swipeStart(n);break;case"move":t.swipeMove(n);break;case"end":t.swipeEnd(n)}},t.prototype.swipeMove=function(n){var f,e,r,u,i,t=this;return i=void 0!==n.originalEvent?n.originalEvent.touches:null,!t.dragging||i&&1!==i.length?!1:(f=t.getLeft(t.currentSlide),t.touchObject.curX=void 0!==i?i[0].pageX:n.clientX,t.touchObject.curY=void 0!==i?i[0].pageY:n.clientY,t.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(t.touchObject.curX-t.touchObject.startX,2))),t.options.verticalSwiping===!0&&(t.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(t.touchObject.curY-t.touchObject.startY,2)))),e=t.swipeDirection(),"vertical"!==e?(void 0!==n.originalEvent&&t.touchObject.swipeLength>4&&n.preventDefault(),u=(t.options.rtl===!1?1:-1)*(t.touchObject.curX>t.touchObject.startX?1:-1),t.options.verticalSwiping===!0&&(u=t.touchObject.curY>t.touchObject.startY?1:-1),r=t.touchObject.swipeLength,t.touchObject.edgeHit=!1,t.options.infinite===!1&&(0===t.currentSlide&&"right"===e||t.currentSlide>=t.getDotCount()&&"left"===e)&&(r=t.touchObject.swipeLength*t.options.edgeFriction,t.touchObject.edgeHit=!0),t.swipeLeft=t.options.vertical===!1?f+r*u:f+r*(t.$list.height()/t.listWidth)*u,t.options.verticalSwiping===!0&&(t.swipeLeft=f+r*u),t.options.fade===!0||t.options.touchMove===!1?!1:t.animating===!0?(t.swipeLeft=null,!1):(t.setCSS(t.swipeLeft),void 0)):void 0)},t.prototype.swipeStart=function(n){var i,t=this;return 1!==t.touchObject.fingerCount||t.slideCount<=t.options.slidesToShow?(t.touchObject={},!1):(void 0!==n.originalEvent&&void 0!==n.originalEvent.touches&&(i=n.originalEvent.touches[0]),t.touchObject.startX=t.touchObject.curX=void 0!==i?i.pageX:n.clientX,t.touchObject.startY=t.touchObject.curY=void 0!==i?i.pageY:n.clientY,t.dragging=!0,void 0)},t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var n=this;null!==n.$slidesCache&&(n.unload(),n.$slideTrack.children(this.options.slide).detach(),n.$slidesCache.appendTo(n.$slideTrack),n.reinit())},t.prototype.unload=function(){var t=this;n(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},t.prototype.unslick=function(n){var t=this;t.$slider.trigger("unslick",[t,n]),t.destroy()},t.prototype.updateArrows=function(){var t,n=this;t=Math.floor(n.options.slidesToShow/2),n.options.arrows===!0&&n.slideCount>n.options.slidesToShow&&!n.options.infinite&&(n.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),n.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===n.currentSlide?(n.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),n.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):n.currentSlide>=n.slideCount-n.options.slidesToShow&&n.options.centerMode===!1?(n.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),n.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):n.currentSlide>=n.slideCount-1&&n.options.centerMode===!0&&(n.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),n.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},t.prototype.updateDots=function(){var n=this;null!==n.$dots&&(n.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),n.$dots.find("li").eq(Math.floor(n.currentSlide/n.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},t.prototype.visibility=function(){var n=this;document[n.hidden]?(n.paused=!0,n.autoPlayClear()):n.options.autoplay===!0&&(n.paused=!1,n.autoPlay())},t.prototype.initADA=function(){var t=this;t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),t.$slideTrack.attr("role","listbox"),t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(i){n(this).attr({role:"option","aria-describedby":"slick-slide"+t.instanceUid+i})}),null!==t.$dots&&t.$dots.attr("role","tablist").find("li").each(function(i){n(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+t.instanceUid+i,id:"slick-slide"+t.instanceUid+i})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),t.activateADA()},t.prototype.activateADA=function(){var n=this,t=n.$slider.find("*").is(":focus");n.$slideTrack.find(".slick-active").attr({"aria-hidden":"false",tabindex:"0"}).find("a, input, button, select").attr({tabindex:"0"}),t&&n.$slideTrack.find(".slick-active").focus()},t.prototype.focusHandler=function(){var t=this;t.$slider.on("focus.slick blur.slick","*",function(i){i.stopImmediatePropagation();var r=n(this);setTimeout(function(){t.isPlay&&(r.is(":focus")?(t.autoPlayClear(),t.paused=!0):(t.paused=!1,t.autoPlay()))},0)})},n.fn.slick=function(){var u,i=this,r=arguments[0],f=Array.prototype.slice.call(arguments,1),e=i.length,n=0;for(n;e>n;n++)if("object"==typeof r||"undefined"==typeof r?i[n].slick=new t(i[n],r):u=i[n].slick[r].apply(i[n].slick,f),"undefined"!=typeof u)return u;return i}}),jfpts.newsdetail=function(){function t(){$(".btn_odn").click(function(t){if(t.preventDefault(),n.isMobileAgent().any())window.location.href="tel:18006601";else{var i=$(this).attr("data-id");jfpts.data.addOrder(i,undefined,null,0,null,"20000")}}),$(".btn_gidn").click(function(n){n.preventDefault();var t=$(this).attr("data-id");u(t)})}function i(){$(".boxpin").each(function(){r($(this))})}function r(n){var t=n.attr("data-lidp");$.get("/tin-tuc/Ajax/News/GetBoxProduct",{arrId:t},function(t){t!=""&&n.html(t).show()})}function u(n){jfpts.utility.showLoading(),$.get("/Ajax/News/GetBoxInfo",{id:n},function(n){if(n==""){jfpts.utility.notifyWarning("Có lỗi xảy ra. Bạn vui lòng thử lại");return}$("body").append(n),$("#ngif").modal("show");$("#ngif").on("hidden.bs.modal",function(){$("#ngif").remove()});$(".fnew-popsubmit").click(function(n){n.preventDefault(),f()})}).complete(function(){jfpts.utility.hideLoading()})}function f(){var i=$('.fnew-popinfo input[name="variantId"]').val(),t=$('.fnew-popinfo input[name="name"]').val(),n=$('.fnew-popinfo input[name="phone"]').val();if(t==""){jfpts.utility.notifyWarningCenter("Bạn vui lòng nhập tên.");return}if(n.length<9||!$.isNumeric(n)){jfpts.utility.notifyWarningCenter("Bạn vui lòng nhập số điện thoại.");return}$(".fnew-popsubmit").hasClass("isPost")||(jfpts.utility.showLoading(),$(".fnew-popsubmit").addClass("isPost"),$.post("/Ajax/Order/AddOrder",{sourceName:"Đặt từ SĐT đăng ký tin tức",CampaignID:0,TotalPriceCampaignOrder:"",productVariantId:i,gender:1,name:t,email:"",phone:n,address:"",city:0,district:0,couponCode:"",accessories:"",talesSales:1,ArrPromotioID:"",typePayment:"boxselectShop",refered:document.location.href,shopname:"",storeid:0,sendoid:"",codeEmployee:""},function(n){if(typeof n.Error!="undefined"&&n.Error.toString()=="false"){$("#ngif").modal("hide"),$("body").append(n.Messenger),$(".modal-order").modal("show");$(".modal-order").on("hidden.bs.modal",function(){$(".not-orderdt").removeClass("not-orderdt"),$(".modal-order").remove()})}else jfpts.utility.notifyWarning("Cõ lỗi xảy ra. Bạn vui lòng thử lại.")}).complete(function(){jfpts.utility.hideLoading(),$(".fnew-popsubmit").removeClass("isPost")}))}var n={hideArrayElement:function(n){n.length>0&&$.each(n,function(n,t){$(t).hide()})},showArrayElement:function(n){$.isArray(n)&&n.length>0&&$.each(n,function(n,t){$(t).show()})},isMobileAgent:function(){var n={};try{return n={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return n.Android()||n.BlackBerry()||n.iOS()||n.Opera()||n.Windows()}}}catch(t){return n}}};return{initEvent:t,showBoxProduct:i}}(),$(window).load(function(){$(".fnews-detail-col1").height()>$(".fnews-detail-col2").height()?$(".fnews-detail-rsbotads").sticky({topSpacing:65,responsiveWidth:!0,bottomSpacing:$(".fshop-footers").height()+50}):$(".fnews-detail-rsbotads").css("position","relative")}),$(document).ready(function(){var u,o,f,t,i,r,e,n;jfpts.newsdetail.initEvent(),jfpts.newsdetail.showBoxProduct(),$(".fnews-detail-content img").removeAttr("style"),$(".fnews-menutop li").hover(function(){$(".fnews-menulist > li.active").addClass("sbegin"),$(".fnews-menulist > li.sbegin").removeClass("active")}),$(".fnews-menutop li").mouseout(function(){$(".fnews-menulist > li.sbegin").addClass("active")}),$(".scrollerbar").height()<500?$(".scrollerbar").css("padding-right","0"):$(".scrollerbar").css("padding-right","15px"),$(".fshop-random-ads").sticky({topSpacing:65,bottomSpacing:$(".fshop-footer").height()+35}),$("#btncommentall").attr("data-newsid",$("#NewsID").val()),$(".fshop-cmt-btnreply").bind("click",function(){$(".fshop-cmt-main").find(".fshop-cmt-hide").removeClass("fshop-cmt-show"),$(this).parents(".fshop-cmt-item").find(".fshop-cmt-hide").toggleClass("fshop-cmt-show"),$(this).parents(".fshop-cmt-item").find("textarea").focus(),f.refresh()}),u=new Swiper(".fshop-rnl-swiper",{spaceBetween:5,slidesPerView:1,centeredSlides:!0,autoplay:4e3,autoplayDisableOnInteraction:!1,loop:!0,nextButton:".fshop-rnl-next",prevButton:".fshop-rnl-prev",preloadImages:!1,lazyLoading:!0,preventClicks:!1,preventClicksPropagation:!0}),o=new Swiper(".fnews-sankm-slide",{spaceBetween:5,slidesPerView:1,centeredSlides:!0,grabCursor:!0,autoplay:2500,autoplayDisableOnInteraction:!1,loop:!0,nextButton:".kmt-sbutton-next",prevButton:".kmt-sbutton-prev"}),$(".fshop-rnl-swiper").length>0&&u.init(),n=$(".avg").attr("data-id"),$("#NewsRating input").each(function(){$(this).attr("value")==n&&$(this).parent().addClass("checked")}),$(".ratingR").click(function(){$(".rating span").removeClass("checked"),$(this).parent().addClass("checked");var n=$(".ratingR:checked").val(),t=$(".rating").attr("data-id");$.post("/tin-tuc/Ajax/News/InsertRating",{newsId:t,vote:n},function(){})}),$("input:radio").change(function(){var n=this.value;alert("Bạn đã vote "+n+" sao cho bài viết này")}),typeof window.location.pathname.split("/")[3]!="undefined"&&$(".fshop-cmt-main").length>0&&(f=new IScroll(".fshop-cmt-main",{scrollbars:"custom",mouseWheel:!0,interactiveScrollbars:!0,fadeScrollbars:!1})),t=window.location.pathname.toLowerCase(),i=$("#inputlink").val(),$(".dropdown-menu > li>a").each(function(n,r){($(r).attr("href").toLowerCase()==t||$(r).attr("href").toLowerCase()==i)&&($(".fnews-menulist > li").removeClass("active"),$(".fnews-menulist > li > ul").removeClass("active"),$(r).parent().addClass("active"),$(r).parent().parent().parent().addClass("active"),$(".fnews-main-title").text($(r).text()))}),$(".fnews-menulist > li > a").each(function(n,r){($(r).attr("href").toLowerCase()==t||$(r).attr("href").toLowerCase()==i)&&($(".fnews-menulist > li").removeClass("active"),$(".fnews-menulist > li > ul").removeClass("active"),$(r).parent().addClass("active"),$(".fnews-main-title").text($(r).text()))}),r=$("iframe[src^='//www.youtube.com']"),e=$("#fnew-ifa"),r.each(function(){$(this).data("aspectRatio",this.height/this.width).removeAttr("height").removeAttr("width").css({"max-height":"350px"}).css({"max-width":"519px"})}),$(window).resize(function(){var n=e.width();r.each(function(){var t=$(this);t.width(n).height(n*t.data("aspectRatio"))})}).resize(),n=$(".avg").attr("data-id"),$("#NewsRating input").each(function(){$(this).attr("value")==n&&$(this).parent().addClass("checked")}),$("#postComment").validate({rules:{emailcomment:{required:!0,email:!0},namecomment:{required:!0}},messages:{emailcomment:{required:"Bạn cần nhập email",email:"Bạn cần nhập đúng email"},namecomment:{required:"Bạn cần nhập họ tên"}},submitHandler:function(){$("#modal-info-comment").modal("hide"),$.cookie("emailcomment",$("#emailcomment").val()),$.cookie("namecomment",$("#namecomment").val()),postCommentNews($("#btncommentall").data("newsid"),0,0,"",$("#content").val(),$("#namecomment").val(),$("#emailcomment").val(),$(".btnaddcommentnews")),setTimeout(function(){window.location.reload()},8e3)}}),$(".fns-mnnewsicon").click(function(){$(".fns-menunews").toggleClass("fns-mnshow")}),$(".fns-listtopnews").slick({dots:!1,arrows:!1,speed:300,slidesToShow:4,slidesToScroll:4,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,dots:!0}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,dots:!0,autoplay:!0,autoplaySpeed:2e3}}]})});$(document).on("click","a.ns-viewed",function(){var n=$(this).attr("data-id");$.post("/tin-tuc/Ajax/News/UpdateViewed",{newsId:n},function(){})});(function(n,t,i){var r,u=n.getElementsByTagName(t)[0];n.getElementById(i)||(r=n.createElement(t),r.id=i,r.src="//connect.facebook.net/en_GB/sdk.js#xfbml=1&appId=275925289224538&version=v2.0",u.parentNode.insertBefore(r,u))})(document,"script","facebook-jssdk"),function(){var n=document.createElement("script"),t;n.type="text/javascript",n.async=!0,n.src="https://apis.google.com/js/plusone.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(n,t)}(),window.___gcfg={lang:"vi"},function(){var n=document.createElement("script"),t;n.type="text/javascript",n.async=!0,n.src="https://apis.google.com/js/platform.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(n,t)}();$(document).on("click","#Viewmorevideo",function(){var n=$(this);$.ajax({url:"/tin-tuc/Ajax/Videos/VewMoreListVideo",type:"GET",data:{page:n.attr("data-page")},beforeSend:function(){$("#img-loadiing").show(),n.hide()}}).done(function(t){$("#listvideoall").append(t.content),$("#img-loadiing").hide(),t.next?(n.attr("data-page",t.page),n.children("strong").text(t.more),n.show()):n.hide()})});$(document).on("click","#Viewmorenewsref",function(){var n=$(this);n.hide("slow"),$.get("/tin-tuc/Ajax/News/GetNewsRefDetailViewMore",{newname:$("#linkredirect").attr("data-id").split("/")[3],page:n.attr("data-page")},function(t){$(".fnews-detail-nmoresul").append(t.content),t.next?(n.show("slow"),n.attr("data-page",t.page)):n.hide()})});$(document).on("click","#Viewmorecomment",function(){var n=$(this);n.hide("slow"),$.get("/tin-tuc/Ajax/Video/ViewMoreCommentNews",{newsId:n.attr("data-newid"),customerId:n.attr("data-user"),currentPage:n.attr("data-page")},function(t){$("#listcommentall").append(t.content),t.next?(n.show("slow"),n.find("strong").html(t.more),n.attr("data-page",t.page)):n.hide(),myScrollCmt.refresh()})});$(document).on("click",".btnaddcommentnews",function(){var n=$(this);n.hide();var u=$("#btncommentall").data("newsid"),t=n.attr("data-id"),f=$(".fshop-cvd-itemname").text(),i=$("#btncommentall").data("Email"),e=$("#btncommentall").data("Name"),o=$("#btncommentall").data("user"),r=t=="0"?$("#content").val():$("#content_"+t).val();if(r.length<4){jfpts.utility.notifyWarningCenter("Bạn cần nhập nội dung lớn hơn 3 ký tự."),n.show();return}if(i==""||typeof i=="undefined"){$("#modal-info-comment").modal("show");return}$(n).addClass("isPosting"),postCommentNews(u,t,o,f,r,e,i,n),$(n).removeClass("isPosting"),t=="0"?$("#content").val(""):$("#content_"+t).val("")});$(".receive-call").click(function(n){n.preventDefault();var i=$(".txt-box-consult input").val(),t=i.length>6;t?(t=i>=0||i<0,t?t=$(".input-box-consult").hasClass("loading-post-consult")==!1:($().toastmessage("showWarningToast","Bạn cần nhập đúng định dạng số điện thoại."),$(".txt-box-consult input").focus())):($().toastmessage("showWarningToast","Bạn cần nhập số điện thoại."),$(".txt-box-consult input").focus()),t&&($(".input-box-consult").addClass("loading-post-consult"),$.post("/Ajax/Order/AddOrder",{sourceName:"Đặt từ SĐT đăng ký Tin tức",CampaignID:0,TotalPriceCampaignOrder:"",productVariantId:41683,gender:1,name:"Tin tức",email:"",phone:i,address:"",city:0,district:0,couponCode:"",accessories:"",talesSales:1,ArrPromotioID:"",typePayment:"boxselectShop",refered:window.location.href,shopname:"",storeid:0,sendoid:"",codeEmployee:""},function(n){if(console.log(n.Error),n.Error.toString()=="false"){$(".txt-box-consult input").val(""),$("body").append(n.Messenger),$(".modal-order").modal("show");$(".modal-order").on("hidden.bs.modal",function(){$(".not-orderdt").removeClass("not-orderdt"),$(".modal-order").remove()})}else $().toastmessage("showWarningToast","Xin lỗi, có lỗi xảy ra bạn hãy thao tác lại.");$(".input-box-consult").removeClass("loading-post-consult"),$("body").append('<div style="display:none">'+n.Messenger+"<\/div>")}).complete(function(){}))}),!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=n(require("jquery")):n(window.jQuery)}(function(n){"use strict";var a,u=function(){var t=function(n){return function(t){return n===t}},i=function(n,t){return n===t},r=function(n){return function(t,i){return t[n]===i[n]}},u=function(){return!0},f=function(){return!1},e=function(n){return function(){return!n.apply(n,arguments)}},o=function(n,t){return function(i){return n(i)&&t(i)}},s=function(n){return n},h=function(n,t){return function(){return n[t].apply(n,arguments)}},c=0,l=function(n){var t=++c+"";return n?n+t:t},a=function(t){var i=n(document);return{top:t.top+i.scrollTop(),left:t.left+i.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},v=function(n){var i={},t;for(t in n)n.hasOwnProperty(t)&&(i[n[t]]=t);return i},y=function(n,t){return t=t||"",t+n.split(".").map(function(n){return n.substring(0,1).toUpperCase()+n.substring(1)}).join("")};return{eq:t,eq2:i,peq2:r,ok:u,fail:f,self:s,not:e,and:o,invoke:h,uniqueId:l,rect2bnd:a,invertObject:v,namespaceToCamel:y}}(),i=function(){var r=function(n){return n[0]},t=function(n){return n[n.length-1]},o=function(n){return n.slice(0,n.length-1)},f=function(n){return n.slice(1)},s=function(n,t){for(var r,i=0,u=n.length;u>i;i++)if(r=n[i],t(r))return r},h=function(n,t){for(var i=0,r=n.length;r>i;i++)if(!t(n[i]))return!1;return!0},i=function(t,i){return n.inArray(i,t)},e=function(n,t){return-1!==i(n,t)},c=function(n,t){return t=t||u.self,n.reduce(function(n,i){return n+t(i)},0)},l=function(n){for(var i=[],t=-1,r=n.length;++t<r;)i[t]=n[t];return i},a=function(n){return!n||!n.length},v=function(n,i){if(!n.length)return[];var u=f(n);return u.reduce(function(n,r){var u=t(n);return i(t(u),r)?u[u.length]=r:n[n.length]=[r],n},[[r(n)]])},y=function(n){for(var i=[],t=0,r=n.length;r>t;t++)n[t]&&i.push(n[t]);return i},p=function(n){for(var i=[],t=0,r=n.length;r>t;t++)e(i,n[t])||i.push(n[t]);return i},w=function(n,t){var r=i(n,t);return-1===r?null:n[r+1]},b=function(n,t){var r=i(n,t);return-1===r?null:n[r-1]};return{head:r,last:t,initial:o,tail:f,prev:b,next:w,find:s,contains:e,all:h,sum:c,from:l,isEmpty:a,clusterBy:v,compact:y,unique:p}}(),y="function"==typeof define&&define.amd,g=function(t){var r="Comic Sans MS"===t?"Courier New":"Comic Sans MS",i=n("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),u=i.css("fontFamily",r).width(),f=i.css("fontFamily",t+","+r).width();return i.remove(),u!==f},h=navigator.userAgent,p=/MSIE|Trident/i.test(h),c;p&&(c=/MSIE (\d+[.]\d+)/.exec(h),c&&(a=parseFloat(c[1])),c=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(h),c&&(a=parseFloat(c[1])));var f={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:p,isFF:/firefox/i.test(h),isWebkit:/webkit/i.test(h),isSafari:/safari/i.test(h),browserVersion:a,jqueryVersion:parseFloat(n.fn.jquery),isSupportAmd:y,hasCodeMirror:y?require.specified("codemirror"):!!window.CodeMirror,isFontInstalled:g,isW3CRangeSupport:!!document.createRange},w=String.fromCharCode(160),nt="﻿",t=function(){var o=function(t){return t&&n(t).hasClass("note-editable")},ri=function(t){return t&&n(t).hasClass("note-control-sizing")},r=function(n){return n=n.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===n}},s=function(n){return n&&3===n.nodeType},ui=function(n){return n&&1===n.nodeType},a=function(n){return n&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(n.nodeName.toUpperCase())},h=function(n){return o(n)?!1:n&&/^DIV|^P|^LI|^H[1-7]/.test(n.nodeName.toUpperCase())},fi=function(n){return n&&/^H[1-7]/.test(n.nodeName.toUpperCase())},ei=r("PRE"),st=r("LI"),oi=function(n){return h(n)&&!st(n)},ht=r("TABLE"),v=function(n){return!(tt(n)||ct(n)||si(n)||h(n)||ht(n)||g(n))},ct=function(n){return n&&/^UL|^OL/.test(n.nodeName.toUpperCase())},si=r("HR"),lt=function(n){return n&&/^TD|^TH/.test(n.nodeName.toUpperCase())},g=r("BLOCKQUOTE"),tt=function(n){return lt(n)||g(n)||o(n)},at=r("A"),hi=function(n){return v(n)&&!!p(n,h)},ci=function(n){return v(n)&&!p(n,h)},li=r("BODY"),ai=function(n,t){return n.nextSibling===t||n.previousSibling===t},vi=function(n,t){t=t||u.ok;var i=[];return n.previousSibling&&t(n.previousSibling)&&i.push(n.previousSibling),i.push(n),n.nextSibling&&t(n.nextSibling)&&i.push(n.nextSibling),i},y=f.isMSIE&&f.browserVersion<11?"&nbsp;":"<br>",e=function(n){return s(n)?n.nodeValue.length:n.childNodes.length},it=function(n){var t=e(n);return 0===t?!0:s(n)||1!==t||n.innerHTML!==y?i.all(n.childNodes,s)&&""===n.innerHTML?!0:!1:!0},vt=function(n){a(n)||e(n)||(n.innerHTML=y)},p=function(n,t){for(;n;){if(t(n))return n;if(o(n))break;n=n.parentNode}return null},yi=function(n,t){for(n=n.parentNode;n&&1===e(n);){if(t(n))return n;if(o(n))break;n=n.parentNode}return null},c=function(n,t){t=t||u.fail;var i=[];return p(n,function(n){return o(n)||i.push(n),t(n)}),i},pi=function(n,t){var r=c(n);return i.last(r.filter(t))},wi=function(t,i){for(var u=c(t),r=i;r;r=r.parentNode)if(n.inArray(r,u)>-1)return r;return null},bi=function(n,t){t=t||u.fail;for(var i=[];n&&!t(n);)i.push(n),n=n.previousSibling;return i},yt=function(n,t){t=t||u.fail;for(var i=[];n&&!t(n);)i.push(n),n=n.nextSibling;return i},ki=function(n,t){var i=[];return t=t||u.ok,function r(u){n!==u&&t(u)&&i.push(u);for(var f=0,e=u.childNodes.length;e>f;f++)r(u.childNodes[f])}(n),i},di=function(t,i){var u=t.parentNode,r=n("<"+i+">")[0];return u.insertBefore(r,t),r.appendChild(t),r},rt=function(n,t){var i=t.nextSibling,r=t.parentNode;return i?r.insertBefore(n,i):r.appendChild(n),n},ut=function(t,i){return n.each(i,function(n,i){t.appendChild(i)}),t},b=function(n){return 0===n.offset},k=function(n){return n.offset===e(n.node)},pt=function(n){return b(n)||k(n)},wt=function(n,t){for(;n&&n!==t;){if(0!==l(n))return!1;n=n.parentNode}return!0},bt=function(n,t){for(;n&&n!==t;){if(l(n)!==e(n.parentNode)-1)return!1;n=n.parentNode}return!0},gi=function(n,t){return b(n)&&wt(n.node,t)},nr=function(n,t){return k(n)&&bt(n.node,t)},l=function(n){for(var t=0;n=n.previousSibling;)t+=1;return t},d=function(n){return!!(n&&n.childNodes&&n.childNodes.length)},kt=function(n,t){var i,r;if(0===n.offset){if(o(n.node))return null;i=n.node.parentNode,r=l(n.node)}else d(n.node)?(i=n.node.childNodes[n.offset-1],r=e(i)):(i=n.node,r=t?0:n.offset-1);return{node:i,offset:r}},ft=function(n,t){var i,r;if(e(n.node)===n.offset){if(o(n.node))return null;i=n.node.parentNode,r=l(n.node)+1}else d(n.node)?(i=n.node.childNodes[n.offset],r=0):(i=n.node,r=t?e(n.node):n.offset+1);return{node:i,offset:r}},dt=function(n,t){return n.node===t.node&&n.offset===t.offset},tr=function(n){if(s(n.node)||!d(n.node)||it(n.node))return!0;var t=n.node.childNodes[n.offset-1],i=n.node.childNodes[n.offset];return t&&!a(t)||i&&!a(i)?!1:!0},ir=function(n,t){for(;n;){if(t(n))return n;n=kt(n)}return null},rr=function(n,t){for(;n;){if(t(n))return n;n=ft(n)}return null},ur=function(n){if(!s(n.node))return!1;var t=n.node.nodeValue.charAt(n.offset-1);return t&&" "!==t&&t!==w},fr=function(n,t,i,r){for(var f,u=n;u&&(i(u),!dt(u,t));)f=r&&n.node!==u.node&&t.node!==u.node,u=ft(u,f)},er=function(n,t){var i=c(t,u.eq(n));return i.map(l).reverse()},or=function(n,t){for(var i=n,r=0,u=t.length;u>r;r++)i=i.childNodes.length<=t[r]?i.childNodes[i.childNodes.length-1]:i.childNodes[t[r]];return i},et=function(n,t){var u=t&&t.isSkipPaddingBlankHTML,f=t&&t.isNotSplitEdgePoint,r,i;if(pt(n)&&(s(n.node)||f)){if(b(n))return n.node;if(k(n))return n.node.nextSibling}return s(n.node)?n.node.splitText(n.offset):(r=n.node.childNodes[n.offset],i=rt(n.node.cloneNode(!1),n.node),ut(i,yt(r)),u||(vt(n.node),vt(i)),i)},gt=function(n,i,r){var f=c(i.node,u.eq(n));return f.length?1===f.length?et(i,r):f.reduce(function(n,u){return n===i.node&&(n=et(i,r)),et({node:u,offset:n?t.position(n):e(u)},r)}):null},sr=function(n,t){var r,u,s=t?h:tt,e=c(n.node,s),o=i.last(e)||n.node,f;return s(o)?(r=e[e.length-2],u=o):(r=o,u=r.parentNode),f=r&&gt(r,n,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t}),f||u!==n.node||(f=n.node.childNodes[n.offset]),{rightNode:f,container:u}},ni=function(n){return document.createElement(n)},hr=function(n){return document.createTextNode(n)},ot=function(n,t){var f,i,r,u;if(n&&n.parentNode){if(n.removeNode)return n.removeNode(t);if(f=n.parentNode,!t){for(u=[],i=0,r=n.childNodes.length;r>i;i++)u.push(n.childNodes[i]);for(i=0,r=u.length;r>i;i++)f.insertBefore(u[i],n)}f.removeChild(n)}},cr=function(n,t){for(;n&&!o(n)&&t(n);){var i=n.parentNode;ot(n),n=i}},lr=function(n,t){if(n.nodeName.toUpperCase()===t.toUpperCase())return n;var r=ni(t);return n.style.cssText&&(r.style.cssText=n.style.cssText),ut(r,i.from(n.childNodes)),rt(r,n),ot(n),r},ti=r("TEXTAREA"),ii=function(n,t){var i=ti(n[0])?n.val():n.html();return t?i.replace(/[\n\r]/g,""):i},ar=function(t,i){var r=ii(t),u;return i&&(u=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,r=r.replace(u,function(n,t,i){i=i.toUpperCase();var r=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(i)&&!!t,u=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(i);return n+(r||u?"\n":"")}),r=n.trim(r)),r},vr=function(t){var i=n(t),r=i.offset(),u=i.outerHeight(!0);return{left:r.left,top:r.top+u}},yr=function(n,t){Object.keys(t).forEach(function(i){n.on(i,t[i])})},pr=function(n,t){Object.keys(t).forEach(function(i){n.off(i,t[i])})};return{NBSP_CHAR:w,ZERO_WIDTH_NBSP_CHAR:nt,blank:y,emptyPara:"<p>"+y+"<\/p>",makePredByNodeName:r,isEditable:o,isControlSizing:ri,isText:s,isElement:ui,isVoid:a,isPara:h,isPurePara:oi,isHeading:fi,isInline:v,isBlock:u.not(v),isBodyInline:ci,isBody:li,isParaInline:hi,isPre:ei,isList:ct,isTable:ht,isCell:lt,isBlockquote:g,isBodyContainer:tt,isAnchor:at,isDiv:r("DIV"),isLi:st,isBR:r("BR"),isSpan:r("SPAN"),isB:r("B"),isU:r("U"),isS:r("S"),isI:r("I"),isImg:r("IMG"),isTextarea:ti,isEmpty:it,isEmptyAnchor:u.and(at,it),isClosestSibling:ai,withClosestSiblings:vi,nodeLength:e,isLeftEdgePoint:b,isRightEdgePoint:k,isEdgePoint:pt,isLeftEdgeOf:wt,isRightEdgeOf:bt,isLeftEdgePointOf:gi,isRightEdgePointOf:nr,prevPoint:kt,nextPoint:ft,isSamePoint:dt,isVisiblePoint:tr,prevPointUntil:ir,nextPointUntil:rr,isCharPoint:ur,walkPoint:fr,ancestor:p,singleChildAncestor:yi,listAncestor:c,lastAncestor:pi,listNext:yt,listPrev:bi,listDescendant:ki,commonAncestor:wi,wrap:di,insertAfter:rt,appendChildNodes:ut,position:l,hasChildren:d,makeOffsetPath:er,fromOffsetPath:or,splitTree:gt,splitPoint:sr,create:ni,createText:hr,remove:ot,removeWhile:cr,replace:lr,html:ar,value:ii,posFromPlaceholder:vr,attachEvents:yr,detachEvents:pr}}(),tt=function(r,f){var e=this,o=n.summernote.ui;return this.memos={},this.modules={},this.layoutInfo={},this.options=f,this.initialize=function(){return this.layoutInfo=o.createLayout(r,f),this._initialize(),r.hide(),this},this.destroy=function(){this._destroy(),r.removeData("summernote"),o.removeLayout(r,this.layoutInfo)},this.reset=function(){this.code(t.emptyPara),this._destroy(),this._initialize()},this._initialize=function(){var i=n.extend({},this.options.buttons),t;Object.keys(i).forEach(function(n){e.memo("button."+n,i[n])}),t=n.extend({},this.options.modules,n.summernote.plugins||{}),Object.keys(t).forEach(function(n){e.module(n,t[n],!0)}),Object.keys(this.modules).forEach(function(n){e.initializeModule(n)})},this._destroy=function(){Object.keys(this.modules).reverse().forEach(function(n){e.removeModule(n)}),Object.keys(this.memos).forEach(function(n){e.removeMemo(n)})},this.code=function(n){var t=this.invoke("codeview.isActivated");return void 0===n?(this.invoke("codeview.sync"),t?this.layoutInfo.codable.val():this.layoutInfo.editable.html()):(t?this.layoutInfo.codable.val(n):this.layoutInfo.editable.html(n),r.val(n),this.triggerEvent("change",n),void 0)},this.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},this.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0)},this.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0)},this.triggerEvent=function(){var n=i.head(arguments),t=i.tail(i.from(arguments)),f=this.options.callbacks[u.namespaceToCamel(n,"on")];f&&f.apply(r[0],t),r.trigger("summernote."+n,t)},this.initializeModule=function(n){var i=this.modules[n];i.shouldInitialize=i.shouldInitialize||u.ok,i.shouldInitialize()&&(i.initialize&&i.initialize(),i.events&&t.attachEvents(r,i.events))},this.module=function(n,t,i){return 1===arguments.length?this.modules[n]:(this.modules[n]=new t(this),void(i||this.initializeModule(n)))},this.removeModule=function(n){var i=this.modules[n];i.shouldInitialize()&&(i.events&&t.detachEvents(r,i.events),i.destroy&&i.destroy()),delete this.modules[n]},this.memo=function(n,t){return 1===arguments.length?this.memos[n]:void(this.memos[n]=t)},this.removeMemo=function(n){this.memos[n]&&this.memos[n].destroy&&this.memos[n].destroy(),delete this.memos[n]},this.createInvokeHandler=function(t,i){return function(r){r.preventDefault(),e.invoke(t,i||n(r.target).data("value")||n(r.currentTarget).data("value"))}},this.invoke=function(){var o=i.head(arguments),u=i.tail(i.from(arguments)),t=o.split("."),f=t.length>1,e=f&&i.head(t),r=f?i.last(t):i.head(t),n=this.modules[e||"editor"];return!e&&this[r]?this[r].apply(this,u):n&&n[r]&&n.shouldInitialize()?n[r].apply(n,u):void 0},this.initialize()};n.summernote=n.summernote||{lang:{}},n.fn.extend({summernote:function(){var f=n.type(i.head(arguments)),e="string"===f,o="object"===f,t=o?i.head(arguments):{},u,r;if(t=n.extend({},n.summernote.options,t),t.langInfo=n.extend(!0,{},n.summernote.lang["en-US"],n.summernote.lang[t.lang]),this.each(function(i,r){var u=n(r),f;u.data("summernote")||(f=new tt(u,t),u.data("summernote",f),u.data("summernote").triggerEvent("init",f.layoutInfo))}),u=this.first(),u.length){if(r=u.data("summernote"),e)return r.invoke.apply(r,i.from(arguments));t.focus&&r.invoke("editor.focus")}return this}});var it=function(t,i,r,u){this.render=function(f){var e=n(t),o;return(r&&r.contents&&e.html(r.contents),r&&r.className&&e.addClass(r.className),r&&r.data&&n.each(r.data,function(n,t){e.attr("data-"+n,t)}),r&&r.click&&e.on("click",r.click),i)&&(o=e.find(".note-children-container"),i.forEach(function(n){n.render(o.length?o:e)})),u&&u(e,r),r&&r.callback&&r.callback(e),f&&f.append(e),e}},o={create:function(t,i){return function(){var u=n.isArray(arguments[0])?arguments[0]:[],r="object"==typeof arguments[1]?arguments[1]:arguments[0];return r&&r.children&&(u=r.children),new it(t,u,r,i)}}},rt=o.create('<div class="note-editor note-frame panel panel-default"/>'),ut=o.create('<div class="note-toolbar panel-heading"/>'),ft=o.create('<div class="note-editing-area"/>'),et=o.create('<textarea class="note-codable"/>'),ot=o.create('<div class="note-editable panel-body" contentEditable="true"/>'),st=o.create('<div class="note-statusbar">  <div class="note-resizebar">    <div class="note-icon-bar"/>    <div class="note-icon-bar"/>    <div class="note-icon-bar"/>  <\/div><\/div>'),ht=o.create('<div class="note-editor"/>'),ct=o.create('<div class="note-editable" contentEditable="true"/>'),lt=o.create('<div class="note-btn-group btn-group">'),at=o.create('<button type="button" class="note-btn btn btn-default btn-sm">',function(n,t){t&&t.tooltip&&n.attr({title:t.tooltip}).tooltip({container:"body",trigger:"hover",placement:"bottom"})}),vt=o.create('<div class="dropdown-menu">',function(t,i){var r=n.isArray(i.items)?i.items.map(function(n){var t="string"==typeof n?n:n.value||"",r=i.template?i.template(n):n;return'<li><a href="#" data-value="'+t+'">'+r+"<\/a><\/li>"}).join(""):i.items;t.html(r)}),yt=o.create('<div class="dropdown-menu note-check">',function(t,i){var r=n.isArray(i.items)?i.items.map(function(n){var t="string"==typeof n?n:n.value||"",r=i.template?i.template(n):n;return'<li><a href="#" data-value="'+t+'">'+b(i.checkClassName)+" "+r+"<\/a><\/li>"}).join(""):i.items;t.html(r)}),pt=o.create('<div class="note-color-palette"/>',function(n,t){for(var i,f=[],r=0,s=t.colors.length;s>r;r++){for(var h=t.eventName,e=t.colors[r],o=[],u=0,c=e.length;c>u;u++)i=e[u],o.push(['<button type="button" class="note-color-btn"','style="background-color:',i,'" ','data-event="',h,'" ','data-value="',i,'" ','title="',i,'" ','data-toggle="button" tabindex="-1"><\/button>'].join(""));f.push('<div class="note-color-row">'+o.join("")+"<\/div>")}n.html(f.join("")),n.find(".note-color-btn").tooltip({container:"body",trigger:"hover",placement:"bottom"})}),wt=o.create('<div class="modal" aria-hidden="false" tabindex="-1"/>',function(n,t){n.html(['<div class="modal-dialog">','  <div class="modal-content">',t.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;<\/span><\/button>      <h4 class="modal-title">'+t.title+"<\/h4>    <\/div>":"",'    <div class="modal-body">'+t.body+"<\/div>",t.footer?'    <div class="modal-footer">'+t.footer+"<\/div>":"","  <\/div>","<\/div>"].join(""))}),bt=o.create('<div class="note-popover popover in">  <div class="arrow"/>  <div class="popover-content note-children-container"/><\/div>',function(n,t){var i="undefined"!=typeof t.direction?t.direction:"bottom";n.addClass(i),t.hideArrow&&n.find(".arrow").hide()}),b=function(n,t){return t=t||"i","<"+t+' class="'+n+'"/>'},s={editor:rt,toolbar:ut,editingArea:ft,codable:et,editable:ot,statusbar:st,airEditor:ht,airEditable:ct,buttonGroup:lt,button:at,dropdown:vt,dropdownCheck:yt,palette:pt,dialog:wt,popover:bt,icon:b,toggleBtn:function(n,t){n.toggleClass("disabled",!t),n.attr("disabled",!t)},toggleBtnActive:function(n,t){n.toggleClass("active",t)},onDialogShown:function(n,t){n.one("shown.bs.modal",t)},onDialogHidden:function(n,t){n.one("hidden.bs.modal",t)},showDialog:function(n){n.modal("show")},hideDialog:function(n){n.modal("hide")},createLayout:function(n,t){var i=(t.airMode?s.airEditor([s.editingArea([s.airEditable()])]):s.editor([s.toolbar(),s.editingArea([s.codable(),s.editable()]),s.statusbar()])).render();return i.insertAfter(n),{note:n,editor:i,toolbar:i.find(".note-toolbar"),editingArea:i.find(".note-editing-area"),editable:i.find(".note-editable"),codable:i.find(".note-codable"),statusbar:i.find(".note-statusbar")}},removeLayout:function(n,t){n.html(t.editable.html()),t.editor.remove(),n.show()}};n.extend(n.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var l,e=function(){var n={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(t){return i.contains([n.BACKSPACE,n.TAB,n.ENTER,n.SPACe],t)},isMove:function(t){return i.contains([n.LEFT,n.UP,n.RIGHT,n.DOWN],t)},nameFromCode:u.invertObject(n),code:n}}(),r=function(){var e=function(n,r){for(var o,s=n.parentElement(),a=document.body.createTextRange(),h=i.from(s.childNodes),c,u,l,e,f=0;f<h.length;f++)if(!t.isText(h[f])){if(a.moveToElementText(h[f]),a.compareEndPoints("StartToStart",n)>=0)break;o=h[f]}if(0!==f&&t.isText(h[f-1])){for(c=document.body.createTextRange(),u=null,c.moveToElementText(o||s),c.collapse(!o),u=o?o.nextSibling:s.firstChild,l=n.duplicate(),l.setEndPoint("StartToStart",c),e=l.text.replace(/[\r\n]/g,"").length;e>u.nodeValue.length&&u.nextSibling;)e-=u.nodeValue.length,u=u.nextSibling;u.nodeValue,r&&u.nextSibling&&t.isText(u.nextSibling)&&e===u.nodeValue.length&&(e-=u.nodeValue.length,u=u.nextSibling),s=u,f=e}return{cont:s,offset:f}},o=function(n){var e=function(n,r){var f,o,s,h;if(t.isText(n))s=t.listPrev(n,u.not(t.isText)),h=i.last(s).previousSibling,f=h||n.parentNode,r+=i.sum(i.tail(s),t.nodeLength),o=!h;else{if(f=n.childNodes[r]||n,t.isText(f))return e(f,0);r=0,o=!1}return{node:f,collapseToStart:o,offset:r}},r=document.body.createTextRange(),f=e(n.node,n.offset);return r.moveToElementText(f.node),r.collapse(f.collapseToStart),r.moveStart("character",f.offset),r},r=function(e,s,h,c){var a,l;this.sc=e,this.so=s,this.ec=h,this.eo=c,a=function(){var n,t;return f.isW3CRangeSupport?(n=document.createRange(),n.setStart(e,s),n.setEnd(h,c),n):(t=o({node:e,offset:s}),t.setEndPoint("EndToEnd",o({node:h,offset:c})),t)},this.getPoints=function(){return{sc:e,so:s,ec:h,eo:c}},this.getStartPoint=function(){return{node:e,offset:s}},this.getEndPoint=function(){return{node:h,offset:c}},this.select=function(){var t=a(),n;return f.isW3CRangeSupport?(n=document.getSelection(),n.rangeCount>0&&n.removeAllRanges(),n.addRange(t)):t.select(),this},this.scrollIntoView=function(n){return n[0].scrollTop+n.height()<this.sc.offsetTop&&(n[0].scrollTop+=Math.abs(n[0].scrollTop+n.height()-this.sc.offsetTop)),this},this.normalize=function(){var i=function(n,i){var r,u;if(t.isVisiblePoint(n)&&!t.isEdgePoint(n)||t.isVisiblePoint(n)&&t.isRightEdgePoint(n)&&!i||t.isVisiblePoint(n)&&t.isLeftEdgePoint(n)&&i||t.isVisiblePoint(n)&&t.isBlock(n.node)&&t.isEmpty(n.node))return n;if(r=t.ancestor(n.node,t.isBlock),(t.isLeftEdgePointOf(n,r)||t.isVoid(t.prevPoint(n).node))&&!i||(t.isRightEdgePointOf(n,r)||t.isVoid(t.nextPoint(n).node))&&i){if(t.isVisiblePoint(n))return n;i=!i}return u=i?t.nextPointUntil(t.nextPoint(n),t.isVisiblePoint):t.prevPointUntil(t.prevPoint(n),t.isVisiblePoint),u||n},n=i(this.getEndPoint(),!1),u=this.isCollapsed()?n:i(this.getStartPoint(),!0);return new r(u.node,u.offset,n.node,n.offset)},this.nodes=function(n,r){n=n||u.ok;var o=r&&r.includeAncestor,s=r&&r.fullyContains,h=this.getStartPoint(),c=this.getEndPoint(),f=[],e=[];return t.walkPoint(h,c,function(r){if(!t.isEditable(r.node)){var u;s?(t.isLeftEdgePoint(r)&&e.push(r.node),t.isRightEdgePoint(r)&&i.contains(e,r.node)&&(u=r.node)):u=o?t.ancestor(r.node,n):r.node,u&&n(u)&&f.push(u)}},!0),i.unique(f)},this.commonAncestor=function(){return t.commonAncestor(e,h)},this.expand=function(n){var f=t.ancestor(e,n),u=t.ancestor(h,n),i;return!f&&!u?new r(e,s,h,c):(i=this.getPoints(),f&&(i.sc=f,i.so=0),u&&(i.ec=u,i.eo=t.nodeLength(u)),new r(i.sc,i.so,i.ec,i.eo))},this.collapse=function(n){return n?new r(e,s,e,s):new r(h,c,h,c)},this.splitText=function(){var i=e===h,n=this.getPoints();return t.isText(h)&&!t.isEdgePoint(this.getEndPoint())&&h.splitText(c),t.isText(e)&&!t.isEdgePoint(this.getStartPoint())&&(n.sc=e.splitText(s),n.so=0,i&&(n.ec=n.sc,n.eo=c-s)),new r(n.sc,n.so,n.ec,n.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var f=this.splitText(),e=f.nodes(null,{fullyContains:!0}),u=t.prevPointUntil(f.getStartPoint(),function(n){return!i.contains(e,n.node)}),o=[];return n.each(e,function(n,i){var r=i.parentNode;u.node!==r&&1===t.nodeLength(r)&&o.push(r),t.remove(i,!1)}),n.each(o,function(n,i){t.remove(i,!1)}),new r(u.node,u.offset,u.node,u.offset).normalize()},l=function(n){return function(){var i=t.ancestor(e,n);return!!i&&i===t.ancestor(h,n)}},this.isOnEditable=l(t.isEditable),this.isOnList=l(t.isList),this.isOnAnchor=l(t.isAnchor),this.isOnCell=l(t.isCell),this.isLeftEdgeOf=function(n){if(!t.isLeftEdgePoint(this.getStartPoint()))return!1;var i=t.ancestor(this.sc,n);return i&&t.isLeftEdgeOf(this.sc,i)},this.isCollapsed=function(){return e===h&&s===c},this.wrapBodyInlineWithPara=function(){var n,f,s,o,h;return t.isBodyContainer(e)&&t.isEmpty(e)?(e.innerHTML=t.emptyPara,new r(e.firstChild,0,e.firstChild,0)):(n=this.normalize(),t.isParaInline(e)||t.isPara(e))?n:(t.isInline(n.sc)?(s=t.listAncestor(n.sc,u.not(t.isInline)),f=i.last(s),t.isInline(f)||(f=s[s.length-2]||n.sc.childNodes[n.so])):f=n.sc.childNodes[n.so>0?n.so-1:0],o=t.listPrev(f,t.isParaInline).reverse(),(o=o.concat(t.listNext(f.nextSibling,t.isParaInline)),o.length)&&(h=t.wrap(i.head(o),"p"),t.appendChildNodes(h,i.tail(o))),this.normalize())},this.insertNode=function(n){var r=this.wrapBodyInlineWithPara().deleteContents(),i=t.splitPoint(r.getStartPoint(),t.isInline(n));return i.rightNode?i.rightNode.parentNode.insertBefore(n,i.rightNode):i.container.appendChild(n),n},this.pasteHTML=function(t){var r=n("<div><\/div>").html(t)[0],u=i.from(r.childNodes),f=this.wrapBodyInlineWithPara().deleteContents();return u.reverse().map(function(n){return f.insertNode(n)}).reverse()},this.toString=function(){var n=a();return f.isW3CRangeSupport?n.toString():n.text},this.getWordRange=function(n){var i=this.getEndPoint(),u;return t.isCharPoint(i)?(u=t.prevPointUntil(i,function(n){return!t.isCharPoint(n)}),n&&(i=t.nextPointUntil(i,function(n){return!t.isCharPoint(n)})),new r(u.node,u.offset,i.node,i.offset)):this},this.bookmark=function(n){return{s:{path:t.makeOffsetPath(n,e),offset:s},e:{path:t.makeOffsetPath(n,h),offset:c}}},this.paraBookmark=function(n){return{s:{path:i.tail(t.makeOffsetPath(i.head(n),e)),offset:s},e:{path:i.tail(t.makeOffsetPath(i.last(n),h)),offset:c}}},this.getClientRects=function(){var n=a();return n.getClientRects()}};return{create:function(n,i,u,o){var c,l,a,v,y,s,h;if(arguments.length)2===arguments.length&&(u=n,o=i);else if(f.isW3CRangeSupport){if((c=document.getSelection(),!c||0===c.rangeCount)||t.isBody(c.anchorNode))return null;l=c.getRangeAt(0),n=l.startContainer,i=l.startOffset,u=l.endContainer,o=l.endOffset}else a=document.selection.createRange(),v=a.duplicate(),v.collapse(!1),y=a,y.collapse(!0),s=e(y,!0),h=e(v,!1),t.isText(s.node)&&t.isLeftEdgePoint(s)&&t.isTextNode(h.node)&&t.isRightEdgePoint(h)&&h.node.nextSibling===s.node&&(s=h),n=s.cont,i=s.offset,u=h.cont,o=h.offset;return new r(n,i,u,o)},createFromNode:function(n){var r=n,f=0,i=n,u=t.nodeLength(i);return t.isVoid(r)&&(f=t.listPrev(r).length-1,r=r.parentNode),t.isBR(i)?(u=t.listPrev(i).length-1,i=i.parentNode):t.isVoid(i)&&(u=t.listPrev(i).length,i=i.parentNode),this.create(r,f,i,u)},createFromNodeBefore:function(n){return this.createFromNode(n).collapse(!0)},createFromNodeAfter:function(n){return this.createFromNode(n).collapse()},createFromBookmark:function(n,i){var u=t.fromOffsetPath(n,i.s.path),f=i.s.offset,e=t.fromOffsetPath(n,i.e.path),o=i.e.offset;return new r(u,f,e,o)},createFromParaBookmark:function(n,u){var f=n.s.offset,e=n.e.offset,o=t.fromOffsetPath(i.head(u),n.s.path),s=t.fromOffsetPath(i.last(u),n.e.path);return new r(o,f,s,e)}}}(),k=function(){var t=function(t){return n.Deferred(function(i){n.extend(new FileReader,{onload:function(n){var t=n.target.result;i.resolve(t)},onerror:function(){i.reject(this)}}).readAsDataURL(t)}).promise()},i=function(t){return n.Deferred(function(i){var r=n("<img>");r.one("load",function(){r.off("error abort"),i.resolve(r)}).one("error abort",function(){r.off("load").detach(),i.reject(r)}).css({display:"none"}).appendTo(document.body).attr("src",t)}).promise()};return{readFileAsDataURL:t,createImage:i}}(),kt=function(n){var i=[],t=-1,f=n[0],e=function(){var t=r.create(),i={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:n.html(),bookmark:t?t.bookmark(f):i}},u=function(t){null!==t.contents&&n.html(t.contents),null!==t.bookmark&&r.createFromBookmark(f,t.bookmark).select()};this.rewind=function(){n.html()!==i[t].contents&&this.recordUndo(),t=0,u(i[t])},this.reset=function(){i=[],t=-1,n.html(""),this.recordUndo()},this.undo=function(){n.html()!==i[t].contents&&this.recordUndo(),t>0&&(t--,u(i[t]))},this.redo=function(){i.length-1>t&&(t++,u(i[t]))},this.recordUndo=function(){t++,i.length>t&&(i=i.slice(0,t)),i.push(e())}},dt=function(){var r=function(t,i){if(f.jqueryVersion<1.9){var r={};return n.each(i,function(n,i){r[i]=t.css(i)}),r}return t.css.call(t,i)};this.fromNode=function(n){var i=["font-family","font-size","text-align","list-style-type","line-height"],t=r(n,i)||{};return t["font-size"]=parseInt(t["font-size"],10),t},this.stylePara=function(i,r){n.each(i.nodes(t.isPara,{includeAncestor:!0}),function(t,i){n(i).css(r)})},this.styleNodes=function(r,f){var e,s,h;r=r.splitText();var o=f&&f.nodeName||"SPAN",c=!(!f||!f.expandClosestSibling),l=!(!f||!f.onlyPartialContains);return r.isCollapsed()?[r.insertNode(t.create(o))]:(e=t.makePredByNodeName(o),s=r.nodes(t.isText,{fullyContains:!0}).map(function(n){return t.singleChildAncestor(n,e)||t.wrap(n,o)}),c)?(l&&(h=r.nodes(),e=u.and(e,function(n){return i.contains(h,n)})),s.map(function(r){var u=t.withClosestSiblings(r,e),f=i.head(u),o=i.tail(u);return n.each(o,function(n,i){t.appendChildNodes(f,i.childNodes),t.remove(i)}),i.head(u)})):s},this.current=function(i){var s=n(t.isElement(i.sc)?i.sc:i.sc.parentNode),r=this.fromNode(s),f,e,u,o;try{r=n.extend(r,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal"})}catch(h){}return i.isOnList()?(f=["circle","disc","disc-leading-zero","square"],e=n.inArray(r["list-style-type"],f)>-1,r["list-style"]=e?"unordered":"ordered"):r["list-style"]="none",u=t.ancestor(i.sc,t.isPara),u&&u.style["line-height"]?r["line-height"]=u.style.lineHeight:(o=parseInt(r["line-height"],10)/parseInt(r["font-size"],10),r["line-height"]=o.toFixed(1)),r.anchor=i.isOnAnchor()&&t.ancestor(i.sc,t.isAnchor),r.ancestors=t.listAncestor(i.sc,t.isEditable),r.range=i,r}},d=function(){this.insertOrderedList=function(){this.toggleList("OL")},this.insertUnorderedList=function(){this.toggleList("UL")},this.indent=function(){var e=this,f=r.create().wrapBodyInlineWithPara(),o=f.nodes(t.isPara,{includeAncestor:!0}),s=i.clusterBy(o,u.peq2("parentNode"));n.each(s,function(r,u){var f=i.head(u);t.isLi(f)?e.wrapList(u,f.parentNode.nodeName):n.each(u,function(t,i){n(i).css("marginLeft",function(n,t){return(parseInt(t,10)||0)+25})})}),f.select()},this.outdent=function(){var e=this,f=r.create().wrapBodyInlineWithPara(),o=f.nodes(t.isPara,{includeAncestor:!0}),s=i.clusterBy(o,u.peq2("parentNode"));n.each(s,function(r,u){var f=i.head(u);t.isLi(f)?e.releaseList([u]):n.each(u,function(t,i){n(i).css("marginLeft",function(n,t){return t=parseInt(t,10)||0,t>25?t-25:""})})}),f.select()},this.toggleList=function(f){var l=this,s=r.create().wrapBodyInlineWithPara(),e=s.nodes(t.isPara,{includeAncestor:!0}),a=s.paraBookmark(e),c=i.clusterBy(e,u.peq2("parentNode")),o,h;i.find(e,t.isPurePara)?(o=[],n.each(c,function(n,t){o=o.concat(l.wrapList(t,f))}),e=o):(h=s.nodes(t.isList,{includeAncestor:!0}).filter(function(t){return!n.nodeName(t,f)}),h.length?n.each(h,function(n,i){t.replace(i,f)}):e=this.releaseList(c,!0)),r.createFromParaBookmark(a,e).select()},this.wrapList=function(n,r){var e=i.head(n),u=i.last(n),s=t.isList(e.previousSibling)&&e.previousSibling,f=t.isList(u.nextSibling)&&u.nextSibling,o=s||t.insertAfter(t.create(r||"UL"),u);return n=n.map(function(n){return t.isPurePara(n)?t.replace(n,"LI"):n}),t.appendChildNodes(o,n),f&&(t.appendChildNodes(o,i.from(f.childNodes)),t.remove(f)),n},this.releaseList=function(r,u){var f=[];return n.each(r,function(r,e){var s=i.head(e),c=i.last(e),o=u?t.lastAncestor(s,t.isList):s.parentNode,a=o.childNodes.length>1?t.splitTree(o,{node:c.parentNode,offset:t.position(c)+1},{isSkipPaddingBlankHTML:!0}):null,h=t.splitTree(o,{node:s.parentNode,offset:t.position(s)},{isSkipPaddingBlankHTML:!0}),l;e=u?t.listDescendant(h,t.isLi):i.from(h.childNodes).filter(t.isLi),(u||!t.isList(o.parentNode))&&(e=e.map(function(n){return t.replace(n,"P")})),n.each(i.from(e).reverse(),function(n,i){t.insertAfter(i,o)}),l=i.compact([o,h,a]),n.each(l,function(i,r){var u=[r].concat(t.listDescendant(r,t.isList));n.each(u.reverse(),function(n,i){t.nodeLength(i)||t.remove(i,!0)})}),f=f.concat(e)}),f}},gt=function(){var i=new d;this.insertTab=function(n,i,u){var f=t.createText(new Array(u+1).join(t.NBSP_CHAR));i=i.deleteContents(),i.insertNode(f,!0),i=r.create(f,u),i.select()},this.insertParagraph=function(u){var o=r.create(),e,f,s,h;if(o=o.deleteContents(),o=o.wrapBodyInlineWithPara(),f=t.ancestor(o.sc,t.isPara),f){if(t.isEmpty(f)&&t.isLi(f))return void i.toggleList(f.parentNode.nodeName);t.isEmpty(f)&&t.isPara(f)&&t.isBlockquote(f.parentNode)?(t.insertAfter(f,f.parentNode),e=f):(e=t.splitTree(f,o.getStartPoint()),s=t.listDescendant(f,t.isEmptyAnchor),s=s.concat(t.listDescendant(e,t.isEmptyAnchor)),n.each(s,function(n,i){t.remove(i)}),(t.isHeading(e)||t.isPre(e))&&t.isEmpty(e)&&(e=t.replace(e,"p")))}else h=o.sc.childNodes[o.so],e=n(t.emptyPara)[0],h?o.sc.insertBefore(e,h):o.sc.appendChild(e);r.create(e,0).normalize().select().scrollIntoView(u)}},ni=function(){this.tab=function(n,u){var f=t.ancestor(n.commonAncestor(),t.isCell),o=t.ancestor(f,t.isTable),s=t.listDescendant(o,t.isCell),e=i[u?"prev":"next"](s,f);e&&r.create(e,0).select()},this.createTable=function(i,r,u){for(var c,l,o,s,h,f=[],e=0;i>e;e++)f.push("<td>"+t.blank+"<\/td>");for(c=f.join(""),o=[],s=0;r>s;s++)o.push("<tr>"+c+"<\/tr>");return l=o.join(""),h=n("<table>"+l+"<\/table>"),u&&u.tableClassName&&h.addClass(u.tableClassName),h[0]}},v="bogus",ti=function(u){var w=this,it=u.layoutInfo.note,rt=u.layoutInfo.editor,o=u.layoutInfo.editable,s=u.options,h=s.langInfo,l=new dt,nt=new ni,tt=new gt,b=new d,g=new kt(o),c;this.initialize=function(){o.on("keydown",function(n){n.keyCode===e.code.ENTER&&u.triggerEvent("enter",n),u.triggerEvent("keydown",n),s.shortcuts&&!n.isDefaultPrevented()&&w.handleKeyMap(n)}).on("keyup",function(n){u.triggerEvent("keyup",n)}).on("focus",function(n){u.triggerEvent("focus",n)}).on("blur",function(n){u.triggerEvent("blur",n)}).on("mousedown",function(n){u.triggerEvent("mousedown",n)}).on("mouseup",function(n){u.triggerEvent("mouseup",n)}).on("scroll",function(n){u.triggerEvent("scroll",n)}).on("paste",function(n){u.triggerEvent("paste",n)});var n=f.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";o.on(n,function(){u.triggerEvent("change",o.html())}),rt.on("focusin",function(n){u.triggerEvent("focusin",n)}).on("focusout",function(n){u.triggerEvent("focusout",n)}),!s.airMode&&s.height&&o.outerHeight(s.height),!s.airMode&&s.maxHeight&&o.css("max-height",s.maxHeight),!s.airMode&&s.minHeight&&o.css("min-height",s.minHeight),o.html(t.html(it)||t.emptyPara),g.recordUndo()},this.destroy=function(){o.off()},this.handleKeyMap=function(n){var o=s.keyMap[f.isMac?"mac":"pc"],t=[],i,r;n.metaKey&&t.push("CMD"),n.ctrlKey&&!n.altKey&&t.push("CTRL"),n.shiftKey&&t.push("SHIFT"),i=e.nameFromCode[n.keyCode],i&&t.push(i),r=o[t.join("+")],r?(n.preventDefault(),u.invoke(r)):e.isEdit(n.keyCode)&&this.afterCommand()},this.createRange=function(){return this.focus(),r.create()},this.saveRange=function(n){this.focus(),o.data("range",r.create()),n&&r.create().collapse().select()},this.restoreRange=function(){var n=o.data("range");n&&(n.select(),this.focus())},this.saveTarget=function(n){o.data("target",n)},this.clearTarget=function(){o.removeData("target")},this.restoreTarget=function(){return o.data("target")},this.currentStyle=function(){var n=r.create();return n&&(n=n.normalize()),n?l.current(n):l.fromNode(o)},this.styleFromNode=function(n){return l.fromNode(n)},this.undo=function(){u.triggerEvent("before.command",o.html()),g.undo(),u.triggerEvent("change",o.html())},u.memo("help.undo",h.help.undo),this.redo=function(){u.triggerEvent("before.command",o.html()),g.redo(),u.triggerEvent("change",o.html())},u.memo("help.redo",h.help.redo);for(var a=this.beforeCommand=function(){u.triggerEvent("before.command",o.html()),w.focus()},y=this.afterCommand=function(n){g.recordUndo(),n||u.triggerEvent("change",o.html())},p=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","fontName"],c=0,ut=p.length;ut>c;c++)this[p[c]]=function(n){return function(t){a(),document.execCommand(n,!1,t),y(!0)}}(p[c]),u.memo("help."+p[c],h.help[p[c]]);for(this.tab=function(){var n=this.createRange();n.isCollapsed()&&n.isOnCell()?nt.tab(n):(a(),tt.insertTab(o,n,s.tabSize),y())},u.memo("help.tab",h.help.tab),this.untab=function(){var n=this.createRange();n.isCollapsed()&&n.isOnCell()&&nt.tab(n,!0)},u.memo("help.untab",h.help.untab),this.wrapCommand=function(n){return function(){a(),n.apply(w,arguments),y()}},this.insertParagraph=this.wrapCommand(function(){tt.insertParagraph(o)}),u.memo("help.insertParagraph",h.help.insertParagraph),this.insertOrderedList=this.wrapCommand(function(){b.insertOrderedList(o)}),u.memo("help.insertOrderedList",h.help.insertOrderedList),this.insertUnorderedList=this.wrapCommand(function(){b.insertUnorderedList(o)}),u.memo("help.insertUnorderedList",h.help.insertUnorderedList),this.indent=this.wrapCommand(function(){b.indent(o)}),u.memo("help.indent",h.help.indent),this.outdent=this.wrapCommand(function(){b.outdent(o)}),u.memo("help.outdent",h.help.outdent),this.insertImage=function(n,t){return k.createImage(n,t).then(function(n){a(),"function"==typeof t?t(n):("string"==typeof t&&n.attr("data-filename",t),n.css("width",Math.min(o.width(),n.width()))),n.show(),r.create().insertNode(n[0]),r.createFromNodeAfter(n[0]).select(),y()}).fail(function(){u.triggerEvent("image.upload.error")})},this.insertImages=function(t){n.each(t,function(n,t){var i=t.name;s.maximumImageFileSize&&s.maximumImageFileSize<t.size?u.triggerEvent("image.upload.error",h.image.maximumFileSizeError):k.readFileAsDataURL(t).then(function(n){return w.insertImage(n,i)}).fail(function(){u.triggerEvent("image.upload.error")})})},this.insertImagesOrCallback=function(n){var t=s.callbacks;t.onImageUpload?u.triggerEvent("image.upload",n):this.insertImages(n)},this.insertNode=this.wrapCommand(function(n){r.create().insertNode(n),r.createFromNodeAfter(n).select()}),this.insertText=this.wrapCommand(function(n){var i=r.create().insertNode(t.createText(n));r.create(i,t.nodeLength(i)).select()}),this.getSelectedText=function(){var n=this.createRange();return n.isOnAnchor()&&(n=r.createFromNode(t.ancestor(n.sc,t.isAnchor))),n.toString()},this.pasteHTML=this.wrapCommand(function(n){var t=r.create().pasteHTML(n);r.createFromNodeAfter(i.last(t)).select()}),this.formatBlock=this.wrapCommand(function(n){n=f.isMSIE?"<"+n+">":n,document.execCommand("FormatBlock",!1,n)}),this.formatPara=function(){this.formatBlock("P")},u.memo("help.formatPara",h.help.formatPara),c=1;6>=c;c++)this["formatH"+c]=function(n){return function(){this.formatBlock("H"+n)}}(c),u.memo("help.formatH"+c,h.help["formatH"+c]);this.fontSize=function(u){var e,s,f;this.focus(),e=r.create(),e&&e.isCollapsed()?(s=l.styleNodes(e),f=i.head(s),n(s).css({"font-size":u+"px"}),f&&!t.nodeLength(f)&&(f.innerHTML=t.ZERO_WIDTH_NBSP_CHAR,r.createFromNodeAfter(f.firstChild).select(),o.data(v,f))):(a(),n(l.styleNodes(e)).css({"font-size":u+"px"}),y())},this.insertHorizontalRule=this.wrapCommand(function(){var i=r.create(),t=i.insertNode(n("<HR/>")[0]);t.nextSibling&&r.create(t.nextSibling,0).normalize().select()}),u.memo("help.insertHorizontalRule",h.help.insertHorizontalRule),this.removeBogus=function(){var n=o.data(v),r,u;n&&(r=i.find(i.from(n.childNodes),t.isText),u=r.nodeValue.indexOf(t.ZERO_WIDTH_NBSP_CHAR),-1!==u&&r.deleteData(u,1),t.isEmpty(n)&&t.remove(n),o.removeData(v))},this.lineHeight=this.wrapCommand(function(n){l.stylePara(r.create(),{lineHeight:n})}),this.unlink=function(){var n=this.createRange(),i;n.isOnAnchor()&&(i=t.ancestor(n.sc,t.isAnchor),n=r.createFromNode(i),n.select(),a(),document.execCommand("unlink"),y())},this.createLink=this.wrapCommand(function(t){var f=t.url,o=t.text,v=t.isNewWindow,e=t.range||this.createRange(),y=e.toString()!==o,u,h;s.onCreateLink&&(f=s.onCreateLink(f)),u=[],y?(h=e.insertNode(n("<A>"+o+"<\/A>")[0]),u.push(h)):u=l.styleNodes(e,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0}),n.each(u,function(t,i){n(i).attr("href",f),v?n(i).attr("target","_blank"):n(i).removeAttr("target")});var p=r.createFromNodeBefore(i.head(u)),c=p.getStartPoint(),w=r.createFromNodeAfter(i.last(u)),a=w.getEndPoint();r.create(c.node,c.offset,a.node,a.offset).select()}),this.getLinkInfo=function(){this.focus();var f=r.create().expand(t.isAnchor),u=n(i.head(f.nodes(t.isAnchor)));return{range:f,text:f.toString(),isNewWindow:u.length?"_blank"===u.attr("target"):!1,url:u.length?u.attr("href"):""}},this.color=this.wrapCommand(function(n){var t=n.foreColor,i=n.backColor;t&&document.execCommand("foreColor",!1,t),i&&document.execCommand("backColor",!1,i)}),this.insertTable=this.wrapCommand(function(n){var t=n.split("x"),i=r.create().deleteContents();i.insertNode(nt.createTable(t[0],t[1],s))}),this.floatMe=this.wrapCommand(function(t){var i=n(this.restoreTarget());i.css("float",t)}),this.resize=this.wrapCommand(function(t){var i=n(this.restoreTarget());i.css({width:100*t+"%",height:""})}),this.resizeTo=function(n,t,i){var u,f,r;i?(f=n.y/n.x,r=t.data("ratio"),u={width:r>f?n.x:n.y/r,height:r>f?n.x*r:n.y}):u={width:n.x,height:n.y},t.css(u)},this.removeMedia=this.wrapCommand(function(){var t=n(this.restoreTarget()).detach();u.triggerEvent("media.delete",t,o)}),this.hasFocus=function(){return o.is(":focus")},this.focus=function(){this.hasFocus()||(o.focus(),!this.hasFocus()&&f.isFF&&r.createFromNode(o[0]).normalize().collapse().select())},this.isEmpty=function(){return t.isEmpty(o[0])||t.emptyPara===o.html()}},ii=function(r){var u=this,o=r.layoutInfo.editable;this.events={"summernote.keydown":function(n,t){u.needKeydownHook()&&(t.ctrlKey||t.metaKey)&&t.keyCode===e.code.V&&(r.invoke("editor.saveRange"),u.$paste.focus(),setTimeout(function(){u.pasteByHook()},0))}},this.needKeydownHook=function(){return f.isMSIE&&f.browserVersion>10||f.isFF},this.initialize=function(){this.needKeydownHook()?(this.$paste=n("<div />").attr("contenteditable",!0).css({position:"absolute",left:-1e5,opacity:0}),o.before(this.$paste),this.$paste.on("paste",function(n){r.triggerEvent("paste",n)})):o.on("paste",this.pasteByEvent)},this.destroy=function(){this.needKeydownHook()&&(this.$paste.remove(),this.$paste=null)},this.pasteByHook=function(){var o=this.$paste[0].firstChild,f,e;if(t.isImg(o)){for(var h=o.src,u=atob(h.split(",")[1]),s=new Uint8Array(u.length),i=0;i<u.length;i++)s[i]=u.charCodeAt(i);f=new Blob([s],{type:"image/png"}),f.name="clipboard.png",r.invoke("editor.restoreRange"),r.invoke("editor.focus"),r.invoke("editor.insertImagesOrCallback",[f])}else e=n("<div />").html(this.$paste.html()).html(),r.invoke("editor.restoreRange"),r.invoke("editor.focus"),e&&r.invoke("editor.pasteHTML",e);this.$paste.empty()},this.pasteByEvent=function(n){var t=n.originalEvent.clipboardData,u;t&&t.items&&t.items.length&&(u=i.head(t.items),"file"===u.kind&&-1!==u.type.indexOf("image/")&&r.invoke("editor.insertImagesOrCallback",[u.getAsFile()]),r.invoke("editor.afterCommand"))}},ri=function(t){var f=n(document),i=t.layoutInfo.editor,o=t.layoutInfo.editable,e=t.options,u=e.langInfo,r=n('<div class="note-dropzone">  <div class="note-dropzone-message"/><\/div>').prependTo(i);this.initialize=function(){e.disableDragAndDrop?f.on("drop",function(n){n.preventDefault()}):this.attachDragAndDropEvent()},this.attachDragAndDropEvent=function(){var e=n(),s=r.find(".note-dropzone-message");f.on("dragenter",function(n){var f=t.invoke("codeview.isActivated"),o=i.width()>0&&i.height()>0;f||e.length||!o||(i.addClass("dragover"),r.width(i.width()),r.height(i.height()),s.text(u.image.dragImageHere)),e=e.add(n.target)}).on("dragleave",function(n){e=e.not(n.target),e.length||i.removeClass("dragover")}).on("drop",function(){e=n(),i.removeClass("dragover")}),r.on("dragenter",function(){r.addClass("hover"),s.text(u.image.dropImage)}).on("dragleave",function(){r.removeClass("hover"),s.text(u.image.dragImageHere)}),r.on("drop",function(i){var r=i.originalEvent.dataTransfer;r&&r.files&&r.files.length?(i.preventDefault(),o.focus(),t.invoke("editor.insertImagesOrCallback",r.files)):n.each(r.types,function(i,u){var f=r.getData(u);u.toLowerCase().indexOf("text")>-1?t.invoke("editor.pasteHTML",f):n(f).each(function(){t.invoke("editor.insertNode",this)})})}).on("dragover",!1)}};f.hasCodeMirror&&(f.isSupportAmd?require(["codemirror"],function(n){l=n}):l=window.CodeMirror);var ui=function(n){var e=n.layoutInfo.editor,r=n.layoutInfo.editable,i=n.layoutInfo.codable,u=n.options;this.sync=function(){var n=this.isActivated();n&&f.hasCodeMirror&&i.data("cmEditor").save()},this.isActivated=function(){return e.hasClass("codeview")},this.toggle=function(){this.isActivated()?this.deactivate():this.activate(),n.triggerEvent("codeview.toggled")},this.activate=function(){var o,s;(i.val(t.html(r,u.prettifyHtml)),i.height(r.height()),n.invoke("toolbar.updateCodeview",!0),e.addClass("codeview"),i.focus(),f.hasCodeMirror)&&(o=l.fromTextArea(i[0],u.codemirror),u.codemirror.tern&&(s=new l.TernServer(u.codemirror.tern),o.ternServer=s,o.on("cursorActivity",function(n){s.updateArgHints(n)})),o.setSize(null,r.outerHeight()),i.data("cmEditor",o))},this.deactivate=function(){var o,s,h;f.hasCodeMirror&&(o=i.data("cmEditor"),i.val(o.getValue()),o.toTextArea()),s=t.value(i,u.prettifyHtml)||t.emptyPara,h=r.html()!==s,r.html(s),r.height(u.height?i.height():"auto"),e.removeClass("codeview"),h&&n.triggerEvent("change",r.html(),r),r.focus(),n.invoke("toolbar.updateCodeview",!1)},this.destroy=function(){this.isActivated()&&this.deactivate()}},fi=24,ei=function(t){var r=n(document),u=t.layoutInfo.statusbar,f=t.layoutInfo.editable,i=t.options;this.initialize=function(){i.airMode||i.disableResizeEditor||u.on("mousedown",function(n){n.preventDefault(),n.stopPropagation();var t=f.offset().top-r.scrollTop();r.on("mousemove",function(n){var r=n.clientY-(t+fi);r=i.minheight>0?Math.max(r,i.minheight):r,r=i.maxHeight>0?Math.min(r,i.maxHeight):r,f.height(r)}).one("mouseup",function(){r.off("mousemove")})})},this.destroy=function(){u.off()}},oi=function(t){var f=t.layoutInfo.editor,o=t.layoutInfo.toolbar,i=t.layoutInfo.editable,r=t.layoutInfo.codable,u=n(window),e=n("html, body");this.toggle=function(){var s=function(n){i.css("height",n.h),r.css("height",n.h),r.data("cmeditor")&&r.data("cmeditor").setsize(null,n.h)},n;f.toggleClass("fullscreen"),n=f.hasClass("fullscreen"),n?(i.data("orgHeight",i.css("height")),u.on("resize",function(){s({h:u.height()-o.outerHeight()})}).trigger("resize"),e.css("overflow","hidden")):(u.off("resize"),s({h:i.data("orgHeight")}),e.css("overflow","visible")),t.invoke("toolbar.updateFullscreen",n)}},si=function(i){var r=this,u=n(document),e=i.layoutInfo.editingArea,f=i.options;this.events={"summernote.mousedown":function(n,t){r.update(t.target)&&t.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){r.update()}},this.initialize=function(){this.$handle=n(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"><\/div>','<div class="note-control-holder note-control-nw"><\/div>','<div class="note-control-holder note-control-ne"><\/div>','<div class="note-control-holder note-control-sw"><\/div>','<div class="',f.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"><\/div>',f.disableResizeImage?"":'<div class="note-control-selection-info"><\/div>',"<\/div>","<\/div>"].join("")).prependTo(e),this.$handle.on("mousedown",function(n){if(t.isControlSizing(n.target)){n.preventDefault(),n.stopPropagation();var f=r.$handle.find(".note-control-selection").data("target"),e=f.offset(),o=u.scrollTop();u.on("mousemove",function(n){i.invoke("editor.resizeTo",{x:n.clientX-e.left,y:n.clientY-(e.top-o)},f,!n.shiftKey),r.update(f[0])}).one("mouseup",function(n){n.preventDefault(),u.off("mousemove"),i.invoke("editor.afterCommand")}),f.data("ratio")||f.data("ratio",f.height()/f.width())}})},this.destroy=function(){this.$handle.remove()},this.update=function(r){var e=t.isImg(r),o=this.$handle.find(".note-control-selection"),h;if(i.invoke("imagePopover.update",r),e){var u=n(r),s=u.position(),f={w:u.outerWidth(!0),h:u.outerHeight(!0)};o.css({display:"block",left:s.left,top:s.top,width:f.w,height:f.h}).data("target",u),h=f.w+"x"+f.h,o.find(".note-control-selection-info").text(h),i.invoke("editor.saveTarget",r)}else this.hide();return e},this.hide=function(){i.invoke("editor.clearTarget"),this.$handle.children().hide()}},hi=function(t){var r=this,u="http://",f=/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i;this.events={"summernote.keyup":function(n,t){t.isDefaultPrevented()||r.handleKeyup(t)},"summernote.keydown":function(n,t){r.handleKeydown(t)}},this.initialize=function(){this.lastWordRange=null},this.destroy=function(){this.lastWordRange=null},this.replace=function(){var i,r,e,o;this.lastWordRange&&(i=this.lastWordRange.toString(),r=i.match(f),(r[1]||r[2])&&(e=r[1]?i:u+i,o=n("<a />").html(i).attr("href",e)[0],this.lastWordRange.insertNode(o),this.lastWordRange=null,t.invoke("editor.focus")))},this.handleKeydown=function(n){if(i.contains([e.code.ENTER,e.code.SPACE],n.keyCode)){var r=t.invoke("editor.createRange").getWordRange();this.lastWordRange=r}},this.handleKeyup=function(n){i.contains([e.code.ENTER,e.code.SPACE],n.keyCode)&&this.replace()}},ci=function(n){var i=n.layoutInfo.note;this.events={"summernote.change":function(){i.val(n.invoke("code"))}},this.shouldInitialize=function(){return t.isTextarea(i[0])}},li=function(t){var i=this,u=t.layoutInfo.editingArea,r=t.options;this.events={"summernote.init summernote.change":function(){i.update()},"summernote.codeview.toggled":function(){i.update()}},this.shouldInitialize=function(){return!!r.placeholder},this.initialize=function(){this.$placeholder=n('<div class="note-placeholder">'),this.$placeholder.on("click",function(){t.invoke("focus")}).text(r.placeholder).prependTo(u)},this.destroy=function(){this.$placeholder.remove()},this.update=function(){var n=!t.invoke("codeview.isActivated")&&t.invoke("editor.isEmpty");this.$placeholder.toggle(n)}},ai=function(t){var c=this,r=n.summernote.ui,h=t.layoutInfo.toolbar,e=t.options,o=e.langInfo,l=u.invertObject(e.keyMap[f.isMac?"mac":"pc"]),s=this.representShortcut=function(n){var t=l[n];return f.isMac&&(t=t.replace("CMD","⌘").replace("SHIFT","⇧")),t=t.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")," ("+t+")"};this.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons()},this.addToolbarButtons=function(){t.memo("button.style",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:r.icon(e.icons.magic)+" "+r.icon(e.icons.caret,"span"),tooltip:o.style.style,data:{toggle:"dropdown"}}),r.dropdown({className:"dropdown-style",items:t.options.styleTags,template:function(n){"string"==typeof n&&(n={tag:n,title:n});var t=n.tag,i=n.title,r=n.style?' style="'+n.style+'" ':"",u=n.className?' className="'+n.className+'"':"";return"<"+t+r+u+">"+i+"<\/"+t+">"},click:t.createInvokeHandler("editor.formatBlock")})]).render()}),t.memo("button.bold",function(){return r.button({className:"note-btn-bold",contents:r.icon(e.icons.bold),tooltip:o.font.bold+s("bold"),click:t.createInvokeHandler("editor.bold")}).render()}),t.memo("button.italic",function(){return r.button({className:"note-btn-italic",contents:r.icon(e.icons.italic),tooltip:o.font.italic+s("italic"),click:t.createInvokeHandler("editor.italic")}).render()}),t.memo("button.underline",function(){return r.button({className:"note-btn-underline",contents:r.icon(e.icons.underline),tooltip:o.font.underline+s("underline"),click:t.createInvokeHandler("editor.underline")}).render()}),t.memo("button.clear",function(){return r.button({contents:r.icon(e.icons.eraser),tooltip:o.font.clear+s("removeFormat"),click:t.createInvokeHandler("editor.removeFormat")}).render()}),t.memo("button.strikethrough",function(){return r.button({className:"note-btn-strikethrough",contents:r.icon(e.icons.strikethrough),tooltip:o.font.strikethrough+s("strikethrough"),click:t.createInvokeHandler("editor.strikethrough")}).render()}),t.memo("button.superscript",function(){return r.button({className:"note-btn-superscript",contents:r.icon(e.icons.superscript),tooltip:o.font.superscript,click:t.createInvokeHandler("editor.superscript")}).render()}),t.memo("button.subscript",function(){return r.button({className:"note-btn-subscript",contents:r.icon(e.icons.subscript),tooltip:o.font.subscript,click:t.createInvokeHandler("editor.subscript")}).render()}),t.memo("button.fontname",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:'<span class="note-current-fontname"/> '+r.icon(e.icons.caret,"span"),tooltip:o.font.name,data:{toggle:"dropdown"}}),r.dropdownCheck({className:"dropdown-fontname",checkClassName:e.icons.menuCheck,items:e.fontNames.filter(function(n){return f.isFontInstalled(n)||i.contains(e.fontNamesIgnoreCheck,n)}),template:function(n){return'<span style="font-family:'+n+'">'+n+"<\/span>"},click:t.createInvokeHandler("editor.fontName")})]).render()}),t.memo("button.fontsize",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:'<span class="note-current-fontsize"/>'+r.icon(e.icons.caret,"span"),tooltip:o.font.size,data:{toggle:"dropdown"}}),r.dropdownCheck({className:"dropdown-fontsize",checkClassName:e.icons.menuCheck,items:e.fontSizes,click:t.createInvokeHandler("editor.fontSize")})]).render()}),t.memo("button.color",function(){return r.buttonGroup({className:"note-color",children:[r.button({className:"note-current-color-button",contents:r.icon(e.icons.font+" note-recent-color"),tooltip:o.color.recent,click:t.createInvokeHandler("editor.color"),callback:function(n){var t=n.find(".note-recent-color");t.css({"background-color":"yellow"}),n.data("value",{backColor:"yellow"})}}),r.button({className:"dropdown-toggle",contents:r.icon(e.icons.caret,"span"),tooltip:o.color.more,data:{toggle:"dropdown"}}),r.dropdown({items:["<li>",'<div class="btn-group">','  <div class="note-palette-title">'+o.color.background+"<\/div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="backColor" data-value="inherit">',o.color.transparent,"    <\/button>","  <\/div>",'  <div class="note-holder" data-event="backColor"/>',"<\/div>",'<div class="btn-group">','  <div class="note-palette-title">'+o.color.foreground+"<\/div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="removeFormat" data-value="foreColor">',o.color.resetToDefault,"    <\/button>","  <\/div>",'  <div class="note-holder" data-event="foreColor"/>',"<\/div>","<\/li>"].join(""),callback:function(t){t.find(".note-holder").each(function(){var t=n(this);t.append(r.palette({colors:e.colors,eventName:t.data("event")}).render())})},click:function(i){var r=n(i.target),u=r.data("event"),f=r.data("value");if(u&&f){var s="backColor"===u?"background-color":"color",h=r.closest(".note-color").find(".note-recent-color"),e=r.closest(".note-color").find(".note-current-color-button"),o=e.data("value");o[u]=f,h.css(s,f),e.data("value",o),t.invoke("editor."+u,f)}}})]}).render()}),t.memo("button.ol",function(){return r.button({contents:r.icon(e.icons.unorderedlist),tooltip:o.lists.unordered+s("insertUnorderedList"),click:t.createInvokeHandler("editor.insertUnorderedList")}).render()}),t.memo("button.ul",function(){return r.button({contents:r.icon(e.icons.orderedlist),tooltip:o.lists.ordered+s("insertOrderedList"),click:t.createInvokeHandler("editor.insertOrderedList")}).render()});var h=r.button({contents:r.icon(e.icons.alignLeft),tooltip:o.paragraph.left+s("justifyLeft"),click:t.createInvokeHandler("editor.justifyLeft")}),l=r.button({contents:r.icon(e.icons.alignCenter),tooltip:o.paragraph.center+s("justifyCenter"),click:t.createInvokeHandler("editor.justifyCenter")}),a=r.button({contents:r.icon(e.icons.alignRight),tooltip:o.paragraph.right+s("justifyRight"),click:t.createInvokeHandler("editor.justifyRight")}),v=r.button({contents:r.icon(e.icons.alignJustify),tooltip:o.paragraph.justify+s("justifyFull"),click:t.createInvokeHandler("editor.justifyFull")}),y=r.button({contents:r.icon(e.icons.outdent),tooltip:o.paragraph.outdent+s("outdent"),click:t.createInvokeHandler("editor.outdent")}),p=r.button({contents:r.icon(e.icons.indent),tooltip:o.paragraph.indent+s("indent"),click:t.createInvokeHandler("editor.indent")});t.memo("button.justifyLeft",u.invoke(h,"render")),t.memo("button.justifyCenter",u.invoke(l,"render")),t.memo("button.justifyRight",u.invoke(a,"render")),t.memo("button.justifyFull",u.invoke(v,"render")),t.memo("button.outdent",u.invoke(y,"render")),t.memo("button.indent",u.invoke(p,"render")),t.memo("button.paragraph",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:r.icon(e.icons.align)+" "+r.icon(e.icons.caret,"span"),tooltip:o.paragraph.paragraph,data:{toggle:"dropdown"}}),r.dropdown([r.buttonGroup({className:"note-align",children:[h,l,a,v]}),r.buttonGroup({className:"note-list",children:[y,p]})])]).render()}),t.memo("button.height",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:r.icon(e.icons.textHeight)+" "+r.icon(e.icons.caret,"span"),tooltip:o.font.height,data:{toggle:"dropdown"}}),r.dropdownCheck({items:e.lineHeights,checkClassName:e.icons.menuCheck,className:"dropdown-line-height",click:t.createInvokeHandler("editor.lineHeight")})]).render()}),t.memo("button.table",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:r.icon(e.icons.table)+" "+r.icon(e.icons.caret,"span"),tooltip:o.table.table,data:{toggle:"dropdown"}}),r.dropdown({className:"note-table",items:'<div class="note-dimension-picker">  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>  <div class="note-dimension-picker-highlighted"/>  <div class="note-dimension-picker-unhighlighted"/><\/div><div class="note-dimension-display">1 x 1<\/div>'})],{callback:function(n){var i=n.find(".note-dimension-picker-mousecatcher");i.css({width:e.insertTableMaxSize.col+"em",height:e.insertTableMaxSize.row+"em"}).mousedown(t.createInvokeHandler("editor.insertTable")).on("mousemove",c.tableMoveHandler)}}).render()}),t.memo("button.link",function(){return r.button({contents:r.icon(e.icons.link),tooltip:o.link.link,click:t.createInvokeHandler("linkDialog.show")}).render()}),t.memo("button.picture",function(){return r.button({contents:r.icon(e.icons.picture),tooltip:o.image.image,click:t.createInvokeHandler("imageDialog.show")}).render()}),t.memo("button.video",function(){return r.button({contents:r.icon(e.icons.video),tooltip:o.video.video,click:t.createInvokeHandler("videoDialog.show")}).render()}),t.memo("button.hr",function(){return r.button({contents:r.icon(e.icons.minus),tooltip:o.hr.insert+s("insertHorizontalRule"),click:t.createInvokeHandler("editor.insertHorizontalRule")}).render()}),t.memo("button.fullscreen",function(){return r.button({className:"btn-fullscreen",contents:r.icon(e.icons.arrowsAlt),tooltip:o.options.fullscreen,click:t.createInvokeHandler("fullscreen.toggle")}).render()}),t.memo("button.codeview",function(){return r.button({className:"btn-codeview",contents:r.icon(e.icons.code),tooltip:o.options.codeview,click:t.createInvokeHandler("codeview.toggle")}).render()}),t.memo("button.redo",function(){return r.button({contents:r.icon(e.icons.redo),tooltip:o.history.redo+s("redo"),click:t.createInvokeHandler("editor.redo")}).render()}),t.memo("button.undo",function(){return r.button({contents:r.icon(e.icons.undo),tooltip:o.history.undo+s("undo"),click:t.createInvokeHandler("editor.undo")}).render()}),t.memo("button.help",function(){return r.button({contents:r.icon(e.icons.question),tooltip:o.options.help,click:t.createInvokeHandler("helpDialog.show")}).render()})},this.addImagePopoverButtons=function(){t.memo("button.imageSize100",function(){return r.button({contents:'<span class="note-fontsize-10">100%<\/span>',tooltip:o.image.resizeFull,click:t.createInvokeHandler("editor.resize","1")}).render()}),t.memo("button.imageSize50",function(){return r.button({contents:'<span class="note-fontsize-10">50%<\/span>',tooltip:o.image.resizeHalf,click:t.createInvokeHandler("editor.resize","0.5")}).render()}),t.memo("button.imageSize25",function(){return r.button({contents:'<span class="note-fontsize-10">25%<\/span>',tooltip:o.image.resizeQuarter,click:t.createInvokeHandler("editor.resize","0.25")}).render()}),t.memo("button.floatLeft",function(){return r.button({contents:r.icon(e.icons.alignLeft),tooltip:o.image.floatLeft,click:t.createInvokeHandler("editor.floatMe","left")}).render()}),t.memo("button.floatRight",function(){return r.button({contents:r.icon(e.icons.alignRight),tooltip:o.image.floatRight,click:t.createInvokeHandler("editor.floatMe","right")}).render()}),t.memo("button.floatNone",function(){return r.button({contents:r.icon(e.icons.alignJustify),tooltip:o.image.floatNone,click:t.createInvokeHandler("editor.floatMe","none")}).render()}),t.memo("button.removeMedia",function(){return r.button({contents:r.icon(e.icons.trash),tooltip:o.image.remove,click:t.createInvokeHandler("editor.removeMedia")}).render()})},this.addLinkPopoverButtons=function(){t.memo("button.linkDialogShow",function(){return r.button({contents:r.icon(e.icons.link),tooltip:o.link.edit,click:t.createInvokeHandler("linkDialog.show")}).render()}),t.memo("button.unlink",function(){return r.button({contents:r.icon(e.icons.unlink),tooltip:o.link.unlink,click:t.createInvokeHandler("editor.unlink")}).render()})},this.build=function(n,i){for(var u,f=0,o=i.length;o>f;f++){for(var s=i[f],l=s[0],h=s[1],c=r.buttonGroup({className:"note-"+l}).render(),e=0,a=h.length;a>e;e++)u=t.memo("button."+h[e]),u&&c.append("function"==typeof u?u():u);c.appendTo(n)}},this.updateCurrentStyle=function(){var r=t.invoke("editor.currentStyle"),s,u,o,c;(this.updateBtnStates({".note-btn-bold":function(){return"bold"===r["font-bold"]},".note-btn-italic":function(){return"italic"===r["font-italic"]},".note-btn-underline":function(){return"underline"===r["font-underline"]},".note-btn-subscript":function(){return"subscript"===r["font-subscript"]},".note-btn-superscript":function(){return"superscript"===r["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===r["font-strikethrough"]}}),r["font-family"])&&(s=r["font-family"].split(",").map(function(n){return n.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),u=i.find(s,function(n){return f.isFontInstalled(n)||i.contains(e.fontNamesIgnoreCheck,n)}),h.find(".dropdown-fontname li a").each(function(){var t=n(this).data("value")+""==u+"";this.className=t?"checked":""}),h.find(".note-current-fontname").text(u)),r["font-size"]&&(o=r["font-size"],h.find(".dropdown-fontsize li a").each(function(){var t=n(this).data("value")+""==o+"";this.className=t?"checked":""}),h.find(".note-current-fontsize").text(o)),r["line-height"]&&(c=r["line-height"],h.find(".dropdown-line-height li a").each(function(){var t=n(this).data("value")+""==c+"";this.className=t?"checked":""}))},this.updateBtnStates=function(t){n.each(t,function(n,t){r.toggleBtnActive(h.find(n),t())})},this.tableMoveHandler=function(t){var r,o=18,u=n(t.target.parentNode),h=u.next(),c=u.find(".note-dimension-picker-mousecatcher"),l=u.find(".note-dimension-picker-highlighted"),s=u.find(".note-dimension-picker-unhighlighted"),f,i;void 0===t.offsetX?(f=n(t.target).offset(),r={x:t.pageX-f.left,y:t.pageY-f.top}):r={x:t.offsetX,y:t.offsetY},i={c:Math.ceil(r.x/o)||1,r:Math.ceil(r.y/o)||1},l.css({width:i.c+"em",height:i.r+"em"}),c.data("value",i.c+"x"+i.r),3<i.c&&i.c<e.insertTableMaxSize.col&&s.css({width:i.c+1+"em"}),3<i.r&&i.r<e.insertTableMaxSize.row&&s.css({height:i.r+1+"em"}),h.html(i.c+" x "+i.r)}},vi=function(t){var u=n.summernote.ui,f=t.layoutInfo.note,i=t.layoutInfo.toolbar,r=t.options;this.shouldInitialize=function(){return!r.airMode},this.initialize=function(){r.toolbar=r.toolbar||[],r.toolbar.length?t.invoke("buttons.build",i,r.toolbar):i.hide(),r.toolbarContainer&&i.appendTo(r.toolbarContainer),f.on("summernote.keyup summernote.mouseup summernote.change",function(){t.invoke("buttons.updateCurrentStyle")}),t.invoke("buttons.updateCurrentStyle")},this.destroy=function(){i.children().remove()},this.updateFullscreen=function(n){u.toggleBtnActive(i.find(".btn-fullscreen"),n)},this.updateCodeview=function(n){u.toggleBtnActive(i.find(".btn-codeview"),n),n?this.deactivate():this.activate()},this.activate=function(n){var t=i.find("button");n||(t=t.not(".btn-codeview")),u.toggleBtn(t,!0)},this.deactivate=function(n){var t=i.find("button");n||(t=t.not(".btn-codeview")),u.toggleBtn(t,!1)}},yi=function(t){var i=this,r=n.summernote.ui,o=t.layoutInfo.editor,f=t.options,u=f.langInfo;this.initialize=function(){var t=f.dialogsInBody?n(document.body):o,i='<div class="form-group"><label>'+u.link.textToDisplay+'<\/label><input class="note-link-text form-control" type="text" /><\/div><div class="form-group"><label>'+u.link.url+'<\/label><input class="note-link-url form-control" type="text" value="http://" /><\/div>'+(f.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+u.link.openInNewWindow+"<\/label><\/div>"),e='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+u.link.insert+"<\/button>";this.$dialog=r.dialog({className:"link-dialog",title:u.link.insert,body:i,footer:e}).render().appendTo(t)},this.destroy=function(){r.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(n,t){n.on("keypress",function(n){n.keyCode===e.code.ENTER&&t.trigger("click")})},this.showLinkDialog=function(u){return n.Deferred(function(n){var f=i.$dialog.find(".note-link-text"),e=i.$dialog.find(".note-link-url"),o=i.$dialog.find(".note-link-btn"),s=i.$dialog.find("input[type=checkbox]");r.onDialogShown(i.$dialog,function(){t.triggerEvent("dialog.shown"),f.val(u.text),f.on("input",function(){r.toggleBtn(o,f.val()&&e.val()),u.text=f.val()}),u.url||(u.url=u.text||"http://",r.toggleBtn(o,u.text)),e.on("input",function(){r.toggleBtn(o,f.val()&&e.val()),u.text||f.val(e.val())}).val(u.url).trigger("focus"),i.bindEnterKey(e,o),i.bindEnterKey(f,o),s.prop("checked",u.isNewWindow),o.one("click",function(t){t.preventDefault(),n.resolve({range:u.range,url:e.val(),text:f.val(),isNewWindow:s.is(":checked")}),i.$dialog.modal("hide")})}),r.onDialogHidden(i.$dialog,function(){f.off("input keypress"),e.off("input keypress"),o.off("click"),"pending"===n.state()&&n.reject()}),r.showDialog(i.$dialog)}).promise()},this.show=function(){var n=t.invoke("editor.getLinkInfo");t.invoke("editor.saveRange"),this.showLinkDialog(n).then(function(n){t.invoke("editor.restoreRange"),t.invoke("editor.createLink",n)}).fail(function(){t.invoke("editor.restoreRange")})},t.memo("help.linkDialog.show",f.langInfo.help["linkDialog.show"])},pi=function(r){var u=this,e=n.summernote.ui,f=r.options;this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){u.update()},"summernote.dialog.shown":function(){u.hide()}},this.shouldInitialize=function(){return!i.isEmpty(f.popover.link)},this.initialize=function(){this.$popover=e.popover({className:"note-link-popover",callback:function(n){var t=n.find(".popover-content");t.prepend('<span><a target="_blank"><\/a>&nbsp;<\/span>')}}).render().appendTo("body");var n=this.$popover.find(".popover-content");r.invoke("buttons.build",n,f.popover.link)},this.destroy=function(){this.$popover.remove()},this.update=function(){var i,u,f,e;if(!r.invoke("editor.hasFocus"))return void this.hide();i=r.invoke("editor.createRange"),i.isCollapsed()&&i.isOnAnchor()?(u=t.ancestor(i.sc,t.isAnchor),f=n(u).attr("href"),this.$popover.find("a").attr("href",f).html(f),e=t.posFromPlaceholder(u),this.$popover.css({display:"block",left:e.left,top:e.top})):this.hide()},this.hide=function(){this.$popover.hide()}},wi=function(t){var i=this,r=n.summernote.ui,o=t.layoutInfo.editor,u=t.options,f=u.langInfo;this.initialize=function(){var c=u.dialogsInBody?n(document.body):o,i="",t,e,s,h;u.maximumImageFileSize&&(t=Math.floor(Math.log(u.maximumImageFileSize)/Math.log(1024)),e=1*(u.maximumImageFileSize/Math.pow(1024,t)).toFixed(2)+" "+" KMGTP"[t]+"B",i="<small>"+f.image.maximumFileSize+" : "+e+"<\/small>"),s='<div class="form-group note-group-select-from-files"><label>'+f.image.selectFromFiles+'<\/label><input class="note-image-input form-control" type="file" name="files" accept="image/*" multiple="multiple" />'+i+'<\/div><div class="form-group" style="overflow:auto;"><label>'+f.image.url+'<\/label><input class="note-image-url form-control col-md-12" type="text" /><\/div>',h='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+f.image.insert+"<\/button>",this.$dialog=r.dialog({title:f.image.insert,body:s,footer:h}).render().appendTo(c)},this.destroy=function(){r.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(n,t){n.on("keypress",function(n){n.keyCode===e.code.ENTER&&t.trigger("click")})},this.show=function(){t.invoke("editor.saveRange"),this.showImageDialog().then(function(n){r.hideDialog(i.$dialog),t.invoke("editor.restoreRange"),"string"==typeof n?t.invoke("editor.insertImage",n):t.invoke("editor.insertImagesOrCallback",n)}).fail(function(){t.invoke("editor.restoreRange")})},this.showImageDialog=function(){return n.Deferred(function(n){var e=i.$dialog.find(".note-image-input"),u=i.$dialog.find(".note-image-url"),f=i.$dialog.find(".note-image-btn");r.onDialogShown(i.$dialog,function(){t.triggerEvent("dialog.shown"),e.replaceWith(e.clone().on("change",function(){n.resolve(this.files||this.value)}).val("")),f.click(function(t){t.preventDefault(),n.resolve(u.val())}),u.on("keyup paste",function(){var n=u.val();r.toggleBtn(f,n)}).val("").trigger("focus"),i.bindEnterKey(u,f)}),r.onDialogHidden(i.$dialog,function(){e.off("change"),u.off("keyup paste keypress"),f.off("click"),"pending"===n.state()&&n.reject()}),r.showDialog(i.$dialog)})}},bi=function(r){var f=n.summernote.ui,u=r.options;this.shouldInitialize=function(){return!i.isEmpty(u.popover.image)},this.initialize=function(){this.$popover=f.popover({className:"note-image-popover"}).render().appendTo("body");var n=this.$popover.find(".popover-content");r.invoke("buttons.build",n,u.popover.image)},this.destroy=function(){this.$popover.remove()},this.update=function(n){if(t.isImg(n)){var i=t.posFromPlaceholder(n);this.$popover.css({display:"block",left:i.left,top:i.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},ki=function(t){var i=this,r=n.summernote.ui,o=t.layoutInfo.editor,f=t.options,u=f.langInfo;this.initialize=function(){var t=f.dialogsInBody?n(document.body):o,i='<div class="form-group row-fluid"><label>'+u.video.url+' <small class="text-muted">'+u.video.providers+'<\/small><\/label><input class="note-video-url form-control span12" type="text" /><\/div>',e='<button href="#" class="btn btn-primary note-video-btn disabled" disabled>'+u.video.insert+"<\/button>";this.$dialog=r.dialog({title:u.video.insert,body:i,footer:e}).render().appendTo(t)},this.destroy=function(){r.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(n,t){n.on("keypress",function(n){n.keyCode===e.code.ENTER&&t.trigger("click")})},this.createVideoNode=function(t){var i,c=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,r=t.match(c),l=/\/\/instagram.com\/p\/(.[a-zA-Z0-9_-]*)/,u=t.match(l),a=/\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/,f=t.match(a),v=/\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/,e=t.match(v),y=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,o=t.match(y),p=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/,s=t.match(p),w=/^.+.(mp4|m4v)$/,b=t.match(w),k=/^.+.(ogg|ogv)$/,d=t.match(k),g=/^.+.(webm)$/,nt=t.match(g),h;if(r&&11===r[1].length)h=r[1],i=n("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+h).attr("width","640").attr("height","360");else if(u&&u[0].length)i=n("<iframe>").attr("frameborder",0).attr("src",u[0]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(f&&f[0].length)i=n("<iframe>").attr("frameborder",0).attr("src",f[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(e&&e[3].length)i=n("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+e[3]).attr("width","640").attr("height","360");else if(o&&o[2].length)i=n("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+o[2]).attr("width","640").attr("height","360");else if(s&&s[1].length)i=n("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+s[1]);else{if(!(b||d||nt))return!1;i=n("<video controls>").attr("src",t).attr("width","640").attr("height","360")}return i.addClass("note-video-clip"),i[0]},this.show=function(){var n=t.invoke("editor.getSelectedText");t.invoke("editor.saveRange"),this.showVideoDialog(n).then(function(n){r.hideDialog(i.$dialog),t.invoke("editor.restoreRange");var u=i.createVideoNode(n);u&&t.invoke("editor.insertNode",u)}).fail(function(){t.invoke("editor.restoreRange")})},this.showVideoDialog=function(u){return n.Deferred(function(n){var f=i.$dialog.find(".note-video-url"),e=i.$dialog.find(".note-video-btn");r.onDialogShown(i.$dialog,function(){t.triggerEvent("dialog.shown"),f.val(u).on("input",function(){r.toggleBtn(e,f.val())}).trigger("focus"),e.click(function(t){t.preventDefault(),n.resolve(f.val())}),i.bindEnterKey(f,e)}),r.onDialogHidden(i.$dialog,function(){f.off("input"),e.off("click"),"pending"===n.state()&&n.reject()}),r.showDialog(i.$dialog)})}},di=function(t){var u=this,i=n.summernote.ui,e=t.layoutInfo.editor,r=t.options,o=r.langInfo;this.createShortCutList=function(){var i=r.keyMap[f.isMac?"mac":"pc"];return Object.keys(i).map(function(r){var u=i[r],f=n('<div><div class="help-list-item"/><\/div>');return f.append(n("<label><kbd>"+r+"<\/kdb><\/label>").css({width:180,"margin-right":10})).append(n("<span/>").html(t.memo("help."+u)||u)),f.html()}).join("")},this.initialize=function(){var t=r.dialogsInBody?n(document.body):e,u='<p class="text-center"><a href="//summernote.org/" target="_blank">Summernote 0.7.2<\/a> · <a href="//github.com/summernote/summernote" target="_blank">Project<\/a> · <a href="//github.com/summernote/summernote/issues" target="_blank">Issues<\/a><\/p>';this.$dialog=i.dialog({title:o.options.help,body:this.createShortCutList(),footer:u,callback:function(n){n.find(".modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(t)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.showHelpDialog=function(){return n.Deferred(function(n){i.onDialogShown(u.$dialog,function(){t.triggerEvent("dialog.shown"),n.resolve()}),i.showDialog(u.$dialog)}).promise()},this.show=function(){t.invoke("editor.saveRange"),this.showHelpDialog().then(function(){t.invoke("editor.restoreRange")})}},gi=function(r){var e=this,s=n.summernote.ui,o=r.options,h=20;this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){e.update()},"summernote.change summernote.dialog.shown":function(){e.hide()},"summernote.focusout":function(n,i){f.isFF||i.relatedTarget&&t.ancestor(i.relatedTarget,u.eq(e.$popover[0]))||e.hide()}},this.shouldInitialize=function(){return o.airMode&&!i.isEmpty(o.popover.air)},this.initialize=function(){this.$popover=s.popover({className:"note-air-popover"}).render().appendTo("body");var n=this.$popover.find(".popover-content");r.invoke("buttons.build",n,o.popover.air)},this.destroy=function(){this.$popover.remove()},this.update=function(){var t=r.invoke("editor.currentStyle"),f,n;t.range&&!t.range.isCollapsed()?(f=i.last(t.range.getClientRects()),f&&(n=u.rect2bnd(f),this.$popover.css({display:"block",left:Math.max(n.left+n.width/2,0)-h,top:n.top+n.height}))):this.hide()},this.hide=function(){this.$popover.hide()}},nr=function(f){var o=this,l=n.summernote.ui,c=5,h=f.options.hint||[],a=f.options.hintDirection||"bottom",s=n.isArray(h)?h:[h];this.events={"summernote.keyup":function(n,t){t.isDefaultPrevented()||o.handleKeyup(t)},"summernote.keydown":function(n,t){o.handleKeydown(t)},"summernote.dialog.shown":function(){o.hide()}},this.shouldInitialize=function(){return s.length>0},this.initialize=function(){this.lastWordRange=null,this.$popover=l.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo("body"),this.$popover.hide(),this.$content=this.$popover.find(".popover-content"),this.$content.on("click",".note-hint-item",function(){o.$content.find(".active").removeClass("active"),n(this).addClass("active"),o.replace()})},this.destroy=function(){this.$popover.remove()},this.selectItem=function(n){this.$content.find(".active").removeClass("active"),n.addClass("active"),this.$content[0].scrollTop=n[0].offsetTop-this.$content.innerHeight()/2},this.moveDown=function(){var t=this.$content.find(".note-hint-item.active"),i=t.next(),n;i.length?this.selectItem(i):(n=t.parent().next(),n.length||(n=this.$content.find(".note-hint-group").first()),this.selectItem(n.find(".note-hint-item").first()))},this.moveUp=function(){var t=this.$content.find(".note-hint-item.active"),i=t.prev(),n;i.length?this.selectItem(i):(n=t.parent().prev(),n.length||(n=this.$content.find(".note-hint-group").last()),this.selectItem(n.find(".note-hint-item").last()))},this.replace=function(){var t=this.$content.find(".note-hint-item.active"),n;t.length&&(n=this.nodeFromItem(t),this.lastWordRange.insertNode(n),r.createFromNode(n).collapse().select(),this.lastWordRange=null,this.hide(),f.invoke("editor.focus"))},this.nodeFromItem=function(n){var r=s[n.data("index")],u=n.data("item"),i=r.content?r.content(u):u;return"string"==typeof i&&(i=t.createText(i)),i},this.createItemTemplates=function(t,i){var r=s[t];return i.map(function(i,u){var f=n('<div class="note-hint-item"/>');return f.append(r.template?r.template(i):i+""),f.data({index:t,item:i}),0===t&&0===u&&f.addClass("active"),f})},this.handleKeydown=function(n){this.$popover.is(":visible")&&(n.keyCode===e.code.ENTER?(n.preventDefault(),this.replace()):n.keyCode===e.code.UP?(n.preventDefault(),this.moveUp()):n.keyCode===e.code.DOWN&&(n.preventDefault(),this.moveDown()))},this.searchKeyword=function(n,t,i){var r=s[n],u;r&&r.match.test(t)&&r.search?(u=r.match.exec(t),r.search(u[1],i)):i()},this.createGroup=function(t,i){var r=n('<div class="note-hint-group note-hint-group-'+t+'"/>');return this.searchKeyword(t,i,function(n){n=n||[],n.length&&(r.html(o.createItemTemplates(t,n)),o.show())}),r},this.handleKeyup=function(n){var r,h,t;if(i.contains([e.code.ENTER,e.code.UP,e.code.DOWN],n.keyCode)){if(n.keyCode===e.code.ENTER&&this.$popover.is(":visible"))return}else r=f.invoke("editor.createRange").getWordRange(),h=r.toString(),s.length&&h?(this.$content.empty(),t=u.rect2bnd(i.last(r.getClientRects())),t&&(this.$popover.hide(),this.lastWordRange=r,s.forEach(function(n,t){n.match.test(h)&&o.createGroup(t,h).appendTo(o.$content)}),"top"===a?this.$popover.css({left:t.left,top:t.top-this.$popover.outerHeight()-c}):this.$popover.css({left:t.left,top:t.top+t.height+c}))):this.hide()},this.show=function(){this.$popover.show()},this.hide=function(){this.$popover.hide()}};n.summernote=n.extend(n.summernote,{version:"0.7.2",ui:s,plugins:{},options:{modules:{editor:ti,clipboard:ii,dropzone:ri,codeview:ui,statusbar:ei,fullscreen:oi,handle:si,hintPopover:nr,autoLink:hi,autoSync:ci,placeholder:li,buttons:ai,toolbar:vi,linkDialog:yi,linkPopover:pi,imageDialog:wi,imagePopover:bi,videoDialog:ki,helpDialog:di,airPopover:gi},buttons:{},lang:"en-US",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,direction:null,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onEnter:null,onKeyup:null,onKeydown:null,onSubmit:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"fa fa-align-left",alignCenter:"fa fa-align-center",alignJustify:"fa fa-align-justify",alignLeft:"fa fa-align-left",alignRight:"fa fa-align-right",indent:"fa fa-indent",outdent:"fa fa-outdent",arrowsAlt:"fa fa-arrows-alt",bold:"fa fa-bold",caret:"caret",circle:"fa fa-circle",close:"fa fa-close",code:"fa fa-code",eraser:"fa fa-eraser",font:"fa fa-font",frame:"fa fa-frame",italic:"fa fa-italic",link:"fa fa-link",unlink:"fa fa-chain-broken",magic:"fa fa-magic",menuCheck:"fa fa-check",minus:"fa fa-minus",orderedlist:"fa fa-list-ol",pencil:"fa fa-pencil",picture:"fa fa-picture-o",question:"fa fa-question",redo:"fa fa-repeat",square:"fa fa-square",strikethrough:"fa fa-strikethrough",subscript:"fa fa-subscript",superscript:"fa fa-superscript",table:"fa fa-table",textHeight:"fa fa-text-height",trash:"fa fa-trash",underline:"fa fa-underline",undo:"fa fa-undo",unorderedlist:"fa fa-list-ul",video:"fa fa-youtube-play"}}})}),jQuery(document).ready(function(n){n("#popDangTinTA").summernote({height:200,width:500,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","hr"]],["view",["fullscreen"]]]}),NewsModulNts.init(),n(".ntc-videos-wrapper").sticky({bottomSpacing:n(".fs-footer").height()+100,topSpacing:80})});var NewsModulNts=function(){var t=function(){},n;return t.prototype.sendPost=function(){$("#frm-post").length>0&&$("#frm-post").validate({rules:{puHoTen:{required:!0,minlength:2},puTitle:{required:!0,minlength:2},puPhone:{required:!0}},messages:{puHoTen:{required:"Bạn cần nhập đầy đủ họ tên",minlength:"Bạn cần nhập tối đa 2 ký tự"},puTitle:{required:"Bạn cần nhập đầy đủ tiêu đề bài viết",minlength:"Bạn cần nhập tối đa 2 ký tự"},puPhone:{required:"Bạn cần nhập số điện thoại"}},submitHandler:function(){var t=$("#puHoTen").val(),i=$("#puEmail").val(),r=$("#puTitle").val(),u=$("#popDangTinTA").summernote("code"),f=$("#puPhone").val(),e=$("#puDescription").val();return $.ajax({type:"POST",url:UtilModulNewsJs.linkToServer().linkSendNewsPost,data:{username:t,email:i,title:r,content:u,description:e,phone:f},beforeSend:function(){$("#frm-post").hide(),$("#ntc-ajax-load").show()}}).done(function(n){$("#ntc-ajax-load").hide(),n.Erros==!1?$("#notification-news").show().find("p").text("Bạn đã đăng bài thành công"):$("#notification-news").show().find("p").text("Đã xảy ra lỗi");$("#popDangTin").on("hidden.bs.modal",function(){$("#notification-news").hide(),$("#frm-post").show(),$("#puHoTen").val(""),$("#puEmail").val(""),$("#puTitle").val(""),$("#puDescription").val(""),$("#popDangTinTA").summernote("code",""),$("#puPhone").val("")})}),!1}})},t.prototype.init=function(){this.sendPost()},n=function(){},n.prototype.setActive=function(){var t=window.location.href,i=/(http|ftp|https):\x2F{1,2}([a-zA-Z0-9:\.]+)\x2F(tin-tuc)\x2F?([a-zA-Z0-9\x2D]*)\x2F?/igm,n=i.exec(t);$(".fns-menunews").find("ul li").each(function(){var i=$(this).children("a").attr("href"),t="";$(this).hasClass("active")&&$(this).removeClass("active"),n!==null&&(n[3]!==""&&n[4]!==""?t="/"+n[3]+"/"+n[4]:n[3]!==""&&n[4]===""&&(t="/"+n[3]),i===t&&$(this).addClass("active"))})},n.prototype.init=function(){this.setActive()},{init:function(){var r=new t,i;r.init(),i=new n,i.init()}}}(),UtilModulNewsJs=function(){var n=function(){return{linkSendNewsPost:"/tin-tuc/Ajax/UserPostNews/AddNewsPost"}};return{linkToServer:n}}()