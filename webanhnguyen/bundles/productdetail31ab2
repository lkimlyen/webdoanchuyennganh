function LoginFacebook(n){FB.login(function(t){t.status==="connected"?getLogin(n):console.log("User cancelled login or did not fully authorize.")},{scope:"email,public_profile,user_friends"})}function getLogin(n){FB.api("/me?fields=name,email",function(t){var i="",r="",u;t&&(i=t.name,r=t.email,u=$(".fcm-login-btn"),u.closest(".fcm-login-col").find('input[name="name"]').val(i),u.closest(".fcm-login-col").find('input[name="email"]').val(r),console.log("set gia tri cho text box name"),UtilModuleCommentProduct.setCookie(UtilModuleCommentProduct.configConstant().nameCustomerCookie,i,1),UtilModuleCommentProduct.setCookie(UtilModuleCommentProduct.configConstant().nameEmailCookie,r,1),n.closest(".comment-box").find("textarea").focus(),n.closest(".comment-box").find(".trg-bnt-post").show())})}function ConvertCurrency(n){return n.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")}var CommentProduct,ToastSuccess,UtilModuleCommentProduct;!function(n){"use strict";n.ThreeSixty=function(t,i){var r,u=this,f=[];u.$el=n(t);u.el=t;u.$el.data("ThreeSixty",u);u.init=function(){r=n.extend({},n.ThreeSixty.defaultOptions,i);r.disableSpin&&(r.currentFrame=1,r.endFrame=1);u.initProgress();u.loadImages()};u.resize=function(){};u.initProgress=function(){u.$el.css({width:r.width+"px",height:r.height+"px","background-image":"none !important"});r.styles&&u.$el.css(r.styles);u.responsive();u.$el.find(r.progress).css({marginTop:r.height/2-15+"px"});u.$el.find(r.progress).fadeIn("slow");u.$el.find(r.imgList).hide()};u.loadImages=function(){var t,e,i,o;t=document.createElement("li");o=r.zeroBased?0:1;e=r.imgArray?r.imgArray[r.loadedImages]:r.domain+r.imagePath+r.filePrefix+u.zeroPad(r.loadedImages+o)+r.ext+(u.browser.isIE()?"?"+(new Date).getTime():"");i=n("<img>").attr("src",e).addClass("previous-image").appendTo(t);f.push(i);u.$el.find(r.imgList).append(t);n(i).load(function(){u.imageLoaded()})};u.imageLoaded=function(){r.loadedImages+=1;n(r.progress+" span").text(Math.floor(100*(r.loadedImages/r.totalFrames))+"%");r.loadedImages>=r.totalFrames?(r.disableSpin&&f[0].removeClass("previous-image").addClass("current-image"),n(r.progress).fadeOut("slow",function(){n(this).hide();u.showImages();u.showNavigation()})):u.loadImages()};u.showImages=function(){u.$el.find(".txtC").fadeIn();u.$el.find(r.imgList).fadeIn();u.ready=!0;r.ready=!0;r.drag&&u.initEvents();u.refresh();u.initPlugins();r.onReady();setTimeout(function(){u.responsive()},50)};u.initPlugins=function(){n.each(r.plugins,function(t,i){if("function"!=typeof n[i])throw new Error(i+" not available.");n[i].call(u,u.$el,r)})};u.showNavigation=function(){if(r.navigation&&!r.navigation_init){var t,i,f,e;t=n("<div/>").attr("class","nav_bar");i=n("<a/>").attr({href:"#","class":"nav_bar_next"}).html("next");f=n("<a/>").attr({href:"#","class":"nav_bar_previous"}).html("previous");e=n("<a/>").attr({href:"#","class":"nav_bar_play"}).html("play");t.append(f);t.append(e);t.append(i);u.$el.prepend(t);i.bind("mousedown touchstart",u.next);f.bind("mousedown touchstart",u.previous);e.bind("mousedown touchstart",u.play_stop);r.navigation_init=!0}};u.play_stop=function(t){t.preventDefault();r.autoplay?(r.autoplay=!1,n(t.currentTarget).removeClass("nav_bar_stop").addClass("nav_bar_play"),clearInterval(r.play),r.play=null):(r.autoplay=!0,r.play=setInterval(u.moveToNextFrame,r.playSpeed),n(t.currentTarget).removeClass("nav_bar_play").addClass("nav_bar_stop"))};u.next=function(n){n&&n.preventDefault();r.endFrame-=5;u.refresh()};u.previous=function(n){n&&n.preventDefault();r.endFrame+=5;u.refresh()};u.play=function(n){var t=n||r.playSpeed;r.autoplay||(r.autoplay=!0,r.play=setInterval(u.moveToNextFrame,t))};u.stop=function(){r.autoplay&&(r.autoplay=!1,clearInterval(r.play),r.play=null)};u.moveToNextFrame=function(){1===r.autoplayDirection?r.endFrame-=1:r.endFrame+=1;u.refresh()};u.gotoAndPlay=function(n){var i;if(r.disableWrap)r.endFrame=n,u.refresh();else{i=Math.ceil(r.endFrame/r.totalFrames);0===i&&(i=1);var t=i>1?r.endFrame-(i-1)*r.totalFrames:r.endFrame,f=r.totalFrames-t,e=0;e=n-t>0?n-t<t+(r.totalFrames-n)?r.endFrame+(n-t):r.endFrame-(t+(r.totalFrames-n)):f+n>t-n?r.endFrame-(t-n):r.endFrame+(f+n);t!==n&&(r.endFrame=e,u.refresh())}};u.initEvents=function(){u.$el.bind("mousedown touchstart touchmove touchend mousemove click",function(n){n.preventDefault();"mousedown"===n.type&&1===n.which||"touchstart"===n.type?(r.pointerStartPosX=u.getPointerEvent(n).pageX,r.dragging=!0):"touchmove"===n.type?u.trackPointer(n):"touchend"===n.type&&(r.dragging=!1)});n(document).bind("mouseup",function(){r.dragging=!1;n(this).css("cursor","none")});n(window).bind("resize",function(){u.responsive()});n(document).bind("mousemove",function(n){r.dragging?(n.preventDefault(),!u.browser.isIE&&r.showCursor&&u.$el.css("cursor","url(assets/images/hand_closed.png), auto")):!u.browser.isIE&&r.showCursor&&u.$el.css("cursor","url(assets/images/hand_open.png), auto");u.trackPointer(n)});n(window).resize(function(){u.resize()})};u.getPointerEvent=function(n){return n.originalEvent.targetTouches?n.originalEvent.targetTouches[0]:n};u.trackPointer=function(n){r.ready&&r.dragging&&(r.pointerEndPosX=u.getPointerEvent(n).pageX,r.monitorStartTime<(new Date).getTime()-r.monitorInt&&(r.pointerDistance=r.pointerEndPosX-r.pointerStartPosX,r.endFrame=r.pointerDistance>0?r.currentFrame+Math.ceil((r.totalFrames-1)*r.speedMultiplier*(r.pointerDistance/u.$el.width())):r.currentFrame+Math.floor((r.totalFrames-1)*r.speedMultiplier*(r.pointerDistance/u.$el.width())),r.disableWrap&&(r.endFrame=Math.min(r.totalFrames-(r.zeroBased?1:0),r.endFrame),r.endFrame=Math.max(r.zeroBased?0:1,r.endFrame)),u.refresh(),r.monitorStartTime=(new Date).getTime(),r.pointerStartPosX=u.getPointerEvent(n).pageX))};u.refresh=function(){0===r.ticker&&(r.ticker=setInterval(u.render,Math.round(1e3/r.framerate)))};u.render=function(){var n;r.currentFrame!==r.endFrame?(n=r.endFrame<r.currentFrame?Math.floor(.1*(r.endFrame-r.currentFrame)):Math.ceil(.1*(r.endFrame-r.currentFrame)),u.hidePreviousFrame(),r.currentFrame+=n,u.showCurrentFrame(),u.$el.trigger("frameIndexChanged",[u.getNormalizedCurrentFrame(),r.totalFrames])):(window.clearInterval(r.ticker),r.ticker=0)};u.hidePreviousFrame=function(){f[u.getNormalizedCurrentFrame()].removeClass("current-image").addClass("previous-image")};u.showCurrentFrame=function(){f[u.getNormalizedCurrentFrame()].removeClass("previous-image").addClass("current-image")};u.getNormalizedCurrentFrame=function(){var n,t;return r.disableWrap?(n=Math.min(r.currentFrame,r.totalFrames-(r.zeroBased?1:0)),t=Math.min(r.endFrame,r.totalFrames-(r.zeroBased?1:0)),n=Math.max(n,r.zeroBased?0:1),t=Math.max(t,r.zeroBased?0:1),r.currentFrame=n,r.endFrame=t):(n=Math.ceil(r.currentFrame%r.totalFrames),0>n&&(n+=r.totalFrames-(r.zeroBased?1:0))),n};u.getCurrentFrame=function(){return r.currentFrame};u.responsive=function(){r.responsive&&u.$el.css({height:u.$el.find(".current-image").first().css("height"),width:"100%"})};u.zeroPad=function(n){function i(n,t){var i=n.toString();if(r.zeroPadding)for(;i.length<t;)i="0"+i;return i}var u=Math.log(r.totalFrames)/Math.LN10,t=1e3,f=Math.round(u*t)/t,e=Math.floor(f)+1;return i(n,e)};u.browser={};u.browser.isIE=function(){var n=-1,t,i;return"Microsoft Internet Explorer"===navigator.appName&&(t=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})"),null!==i.exec(t)&&(n=parseFloat(RegExp.$1))),-1!==n};u.getConfig=function(){return r};n.ThreeSixty.defaultOptions={dragging:!1,ready:!1,pointerStartPosX:0,pointerEndPosX:0,pointerDistance:0,monitorStartTime:0,monitorInt:10,ticker:0,speedMultiplier:7,totalFrames:180,currentFrame:0,endFrame:0,loadedImages:0,framerate:60,domains:null,domain:"",parallel:!1,queueAmount:8,idle:0,filePrefix:"",ext:"png",height:300,width:300,styles:{},navigation:!1,autoplay:!1,autoplayDirection:1,disableSpin:!1,disableWrap:!1,responsive:!1,zeroPadding:!1,zeroBased:!1,plugins:[],showCursor:!1,drag:!0,onReady:function(){},imgList:".threesixty_images",imgArray:null,playSpeed:100};u.init()};n.fn.ThreeSixty=function(t){return Object.create(new n.ThreeSixty(this,t))}}(jQuery);"function"!=typeof Object.create&&(Object.create=function(n){"use strict";function t(){}return t.prototype=n,new t}),function(n,t,i){function u(n,i){this.wrapper=typeof n=="string"?t.querySelector(n):n;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var u in i)this.options[u]=i[u];this.translateZ=this.options.HWCompositing&&r.hasPerspective?" translateZ(0)":"";this.options.useTransition=r.hasTransition&&this.options.useTransition;this.options.useTransform=r.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough=="vertical"?!1:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough=="horizontal"?!1:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing=="string"?r.ease[this.options.bounceEasing]||r.ease.circular:this.options.bounceEasing;this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling;this.options.tap===!0&&(this.options.tap="tap");this.options.shrinkScrollbars=="scale"&&(this.options.useTransition=!1);this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;this.options.probeType==3&&(this.options.useTransition=!1);this.x=0;this.y=0;this.directionX=0;this.directionY=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}function f(n,i,r){var u=t.createElement("div"),f=t.createElement("div");return r===!0&&(u.style.cssText="position:absolute;z-index:9999",f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),f.className="iScrollIndicator",n=="h"?(r===!0&&(u.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",f.style.height="100%"),u.className="iScrollHorizontalScrollbar"):(r===!0&&(u.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",f.style.width="100%"),u.className="iScrollVerticalScrollbar"),u.style.cssText+=";overflow:hidden",i||(u.style.pointerEvents="none"),u.appendChild(f),u}function e(i,u){this.wrapper=typeof u.el=="string"?t.querySelector(u.el):u.el;this.wrapperStyle=this.wrapper.style;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=i;this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var f in u)this.options[f]=u[f];this.sizeRatioX=1;this.sizeRatioY=1;this.maxPosX=0;this.maxPosY=0;this.options.interactive&&(this.options.disableTouch||(r.addEvent(this.indicator,"touchstart",this),r.addEvent(n,"touchend",this)),this.options.disablePointer||(r.addEvent(this.indicator,r.prefixPointerEvent("pointerdown"),this),r.addEvent(n,r.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(r.addEvent(this.indicator,"mousedown",this),r.addEvent(n,"mouseup",this)));this.options.fade&&(this.wrapperStyle[r.style.transform]=this.scroller.translateZ,this.wrapperStyle[r.style.transitionDuration]=r.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var o=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(t){n.setTimeout(t,1e3/60)},r=function(){function u(n){return e===!1?!1:e===""?n:e+n.charAt(0).toUpperCase()+n.substr(1)}var r={},f=t.createElement("div").style,e=function(){for(var t=["t","webkitT","MozT","msT","OT"],i,n=0,r=t.length;n<r;n++)if(i=t[n]+"ransform",i in f)return t[n].substr(0,t[n].length-1);return!1}(),o;return r.getTime=Date.now||function(){return(new Date).getTime()},r.extend=function(n,t){for(var i in t)n[i]=t[i]},r.addEvent=function(n,t,i,r){n.addEventListener(t,i,!!r)},r.removeEvent=function(n,t,i,r){n.removeEventListener(t,i,!!r)},r.prefixPointerEvent=function(t){return n.MSPointerEvent?"MSPointer"+t.charAt(9).toUpperCase()+t.substr(10):t},r.momentum=function(n,t,r,u,f,e){var h=n-t,s=i.abs(h)/r,o,c;return e=e===undefined?.0006:e,o=n+s*s/(2*e)*(h<0?-1:1),c=s/e,o<u?(o=f?u-f/2.5*(s/8):u,h=i.abs(o-n),c=h/s):o>0&&(o=f?f/2.5*(s/8):0,h=i.abs(n)+o,c=h/s),{destination:i.round(o),duration:c}},o=u("transform"),r.extend(r,{hasTransform:o!==!1,hasPerspective:u("perspective")in f,hasTouch:"ontouchstart"in n,hasPointer:n.PointerEvent||n.MSPointerEvent,hasTransition:u("transition")in f}),r.isBadAndroid=/Android /.test(n.navigator.appVersion)&&!/Chrome\/\d/.test(n.navigator.appVersion),r.extend(r.style={},{transform:o,transitionTimingFunction:u("transitionTimingFunction"),transitionDuration:u("transitionDuration"),transitionDelay:u("transitionDelay"),transformOrigin:u("transformOrigin")}),r.hasClass=function(n,t){var i=new RegExp("(^|\\s)"+t+"(\\s|$)");return i.test(n.className)},r.addClass=function(n,t){if(!r.hasClass(n,t)){var i=n.className.split(" ");i.push(t);n.className=i.join(" ")}},r.removeClass=function(n,t){if(r.hasClass(n,t)){var i=new RegExp("(^|\\s)"+t+"(\\s|$)","g");n.className=n.className.replace(i," ")}},r.offset=function(n){for(var t=-n.offsetLeft,i=-n.offsetTop;n=n.offsetParent;)t-=n.offsetLeft,i-=n.offsetTop;return{left:t,top:i}},r.preventDefaultException=function(n,t){for(var i in t)if(t[i].test(n[i]))return!0;return!1},r.extend(r.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),r.extend(r.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(n){return n*(2-n)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(n){return i.sqrt(1- --n*n)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(n){var t=4;return(n=n-1)*n*((t+1)*n+t)+1}},bounce:{style:"",fn:function(n){return(n/=1)<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}},elastic:{style:"",fn:function(n){var t=.22;return n===0?0:n==1?1:.4*i.pow(2,-10*n)*i.sin((n-t/4)*2*i.PI/t)+1}}}),r.tap=function(n,i){var r=t.createEvent("Event");r.initEvent(i,!0,!0);r.pageX=n.pageX;r.pageY=n.pageY;n.target.dispatchEvent(r)},r.click=function(n){var i=n.target,r;/(SELECT|INPUT|TEXTAREA)/i.test(i.tagName)||(r=t.createEvent("MouseEvents"),r.initMouseEvent("click",!0,!0,n.view,1,i.screenX,i.screenY,i.clientX,i.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,0,null),r._constructed=!0,i.dispatchEvent(r))},r}();u.prototype={version:"5.1.3",_init:function(){this._initEvents();(this.options.scrollbars||this.options.indicators)&&this._initIndicators();this.options.mouseWheel&&this._initWheel();this.options.snap&&this._initSnap();this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0);this._execEvent("destroy")},_transitionEnd:function(n){n.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(n){if((r.eventType[n.type]==1||n.button===0)&&this.enabled&&(!this.initiated||r.eventType[n.type]===this.initiated)){!this.options.preventDefault||r.isBadAndroid||r.preventDefaultException(n.target,this.options.preventDefaultException)||n.preventDefault();var u=n.touches?n.touches[0]:n,t;this.initiated=r.eventType[n.type];this.moved=!1;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.startTime=r.getTime();this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,t=this.getComputedPosition(),this._translate(i.round(t.x),i.round(t.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd"));this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=u.pageX;this.pointY=u.pageY;this._execEvent("beforeScrollStart")}},_move:function(n){if(this.enabled&&r.eventType[n.type]===this.initiated){this.options.preventDefault&&n.preventDefault();var o=n.touches?n.touches[0]:n,t=o.pageX-this.pointX,u=o.pageY-this.pointY,c=r.getTime(),f,e,s,h;if(this.pointX=o.pageX,this.pointY=o.pageY,this.distX+=t,this.distY+=u,s=i.abs(this.distX),h=i.abs(this.distY),!(c-this.endTime>300)||!(s<10)||!(h<10)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=s>h+this.options.directionLockThreshold?"h":h>=s+this.options.directionLockThreshold?"v":"n"),this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical")n.preventDefault();else if(this.options.eventPassthrough=="horizontal"){this.initiated=!1;return}u=0}else if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal")n.preventDefault();else if(this.options.eventPassthrough=="vertical"){this.initiated=!1;return}t=0}t=this.hasHorizontalScroll?t:0;u=this.hasVerticalScroll?u:0;f=this.x+t;e=this.y+u;(f>0||f<this.maxScrollX)&&(f=this.options.bounce?this.x+t/3:f>0?0:this.maxScrollX);(e>0||e<this.maxScrollY)&&(e=this.options.bounce?this.y+u/3:e>0?0:this.maxScrollY);this.directionX=t>0?-1:t<0?1:0;this.directionY=u>0?-1:u<0?1:0;this.moved||this._execEvent("scrollStart");this.moved=!0;this._translate(f,e);c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y,this.options.probeType==1&&this._execEvent("scroll"));this.options.probeType>1&&this._execEvent("scroll")}}},_end:function(n){var f;if(this.enabled&&r.eventType[n.type]===this.initiated){this.options.preventDefault&&!r.preventDefaultException(n.target,this.options.preventDefaultException)&&n.preventDefault();var v=n.changedTouches?n.changedTouches[0]:n,o,s,e=r.getTime()-this.startTime,t=i.round(this.x),u=i.round(this.y),l=i.abs(t-this.startX),a=i.abs(u-this.startY),h=0,c="";if(this.isInTransition=0,this.initiated=0,this.endTime=r.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(t,u),!this.moved){this.options.tap&&r.tap(n,this.options.tap);this.options.click&&r.click(n);this._execEvent("scrollCancel");return}if(this._events.flick&&e<200&&l<100&&a<100){this._execEvent("flick");return}if(this.options.momentum&&e<300&&(o=this.hasHorizontalScroll?r.momentum(this.x,this.startX,e,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:t,duration:0},s=this.hasVerticalScroll?r.momentum(this.y,this.startY,e,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:u,duration:0},t=o.destination,u=s.destination,h=i.max(o.duration,s.duration),this.isInTransition=1),this.options.snap&&(f=this._nearestSnap(t,u),this.currentPage=f,h=this.options.snapSpeed||i.max(i.max(i.min(i.abs(t-f.x),1e3),i.min(i.abs(u-f.y),1e3)),300),t=f.x,u=f.y,this.directionX=0,this.directionY=0,c=this.options.bounceEasing),t!=this.x||u!=this.y){(t>0||t<this.maxScrollX||u>0||u<this.maxScrollY)&&(c=r.ease.quadratic);this.scrollTo(t,u,h,c);return}this._execEvent("scrollEnd")}}},_resize:function(){var n=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){n.refresh()},this.options.resizePolling)},resetPosition:function(n){var t=this.x,i=this.y;return(n=n||0,!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),t==this.x&&i==this.y)?!1:(this.scrollTo(t,i,n,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){var n=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth);this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight);this.endTime=0;this.directionX=0;this.directionY=0;this.wrapperOffset=r.offset(this.wrapper);this._execEvent("refresh");this.resetPosition()},on:function(n,t){this._events[n]||(this._events[n]=[]);this._events[n].push(t)},off:function(n,t){if(this._events[n]){var i=this._events[n].indexOf(t);i>-1&&this._events[n].splice(i,1)}},_execEvent:function(n){if(this._events[n]){var t=0,i=this._events[n].length;if(i)for(;t<i;t++)this._events[n][t].apply(this,[].slice.call(arguments,1))}},scrollBy:function(n,t,i,r){n=this.x+n;t=this.y+t;i=i||0;this.scrollTo(n,t,i,r)},scrollTo:function(n,t,i,u){u=u||r.ease.circular;this.isInTransition=this.options.useTransition&&i>0;!i||this.options.useTransition&&u.style?(this._transitionTimingFunction(u.style),this._transitionTime(i),this._translate(n,t)):this._animate(n,t,i,u.fn)},scrollToElement:function(n,t,u,f,e){if(n=n.nodeType?n:this.scroller.querySelector(n),n){var o=r.offset(n);o.left-=this.wrapperOffset.left;o.top-=this.wrapperOffset.top;u===!0&&(u=i.round(n.offsetWidth/2-this.wrapper.offsetWidth/2));f===!0&&(f=i.round(n.offsetHeight/2-this.wrapper.offsetHeight/2));o.left-=u||0;o.top-=f||0;o.left=o.left>0?0:o.left<this.maxScrollX?this.maxScrollX:o.left;o.top=o.top>0?0:o.top<this.maxScrollY?this.maxScrollY:o.top;t=t===undefined||t===null||t==="auto"?i.max(i.abs(this.x-o.left),i.abs(this.y-o.top)):t;this.scrollTo(o.left,o.top,t,e)}},_transitionTime:function(n){if(n=n||0,this.scrollerStyle[r.style.transitionDuration]=n+"ms",!n&&r.isBadAndroid&&(this.scrollerStyle[r.style.transitionDuration]="0.001s"),this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTime(n)},_transitionTimingFunction:function(n){if(this.scrollerStyle[r.style.transitionTimingFunction]=n,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(n)},_translate:function(n,t){if(this.options.useTransform?this.scrollerStyle[r.style.transform]="translate("+n+"px,"+t+"px)"+this.translateZ:(n=i.round(n),t=i.round(t),this.scrollerStyle.left=n+"px",this.scrollerStyle.top=t+"px"),this.x=n,this.y=t,this.indicators)for(var u=this.indicators.length;u--;)this.indicators[u].updatePosition()},_initEvents:function(t){var i=t?r.removeEvent:r.addEvent,u=this.options.bindToWrapper?this.wrapper:n;i(n,"orientationchange",this);i(n,"resize",this);this.options.click&&i(this.wrapper,"click",this,!0);this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(u,"mousemove",this),i(u,"mousecancel",this),i(u,"mouseup",this));r.hasPointer&&!this.options.disablePointer&&(i(this.wrapper,r.prefixPointerEvent("pointerdown"),this),i(u,r.prefixPointerEvent("pointermove"),this),i(u,r.prefixPointerEvent("pointercancel"),this),i(u,r.prefixPointerEvent("pointerup"),this));r.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(u,"touchmove",this),i(u,"touchcancel",this),i(u,"touchend",this));i(this.scroller,"transitionend",this);i(this.scroller,"webkitTransitionEnd",this);i(this.scroller,"oTransitionEnd",this);i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t=n.getComputedStyle(this.scroller,null),i,u;return this.options.useTransform?(t=t[r.style.transform].split(")")[0].split(", "),i=+(t[12]||t[4]),u=+(t[13]||t[5])):(i=+t.left.replace(/[^-\d.]/g,""),u=+t.top.replace(/[^-\d.]/g,"")),{x:i,y:u}},_initIndicators:function(){function i(n){for(var t=s.indicators.length;t--;)n.call(s.indicators[t])}var r=this.options.interactiveScrollbars,o=typeof this.options.scrollbars!="string",n=[],t,s=this,u;for(this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(t={el:f("v",r,this.options.scrollbars),interactive:r,defaultScrollbars:!0,customStyle:o,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(t.el),n.push(t)),this.options.scrollX&&(t={el:f("h",r,this.options.scrollbars),interactive:r,defaultScrollbars:!0,customStyle:o,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(t.el),n.push(t))),this.options.indicators&&(n=n.concat(this.options.indicators)),u=n.length;u--;)this.indicators.push(new e(this,n[u]));if(this.options.fadeScrollbars){this.on("scrollEnd",function(){i(function(){this.fade()})});this.on("scrollCancel",function(){i(function(){this.fade()})});this.on("scrollStart",function(){i(function(){this.fade(1)})});this.on("beforeScrollStart",function(){i(function(){this.fade(1,!0)})})}this.on("refresh",function(){i(function(){this.refresh()})});this.on("destroy",function(){i(function(){this.destroy()});delete this.indicators})},_initWheel:function(){r.addEvent(this.wrapper,"wheel",this);r.addEvent(this.wrapper,"mousewheel",this);r.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){r.removeEvent(this.wrapper,"wheel",this);r.removeEvent(this.wrapper,"mousewheel",this);r.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(n){if(this.enabled){n.preventDefault();n.stopPropagation();var r,t,u,f,e=this;if(this.wheelTimeout===undefined&&e._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){e._execEvent("scrollEnd");e.wheelTimeout=undefined},400),"deltaX"in n)n.deltaMode===1?(r=-n.deltaX*this.options.mouseWheelSpeed,t=-n.deltaY*this.options.mouseWheelSpeed):(r=-n.deltaX,t=-n.deltaY);else if("wheelDeltaX"in n)r=n.wheelDeltaX/120*this.options.mouseWheelSpeed,t=n.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in n)r=t=n.wheelDelta/120*this.options.mouseWheelSpeed;else if("detail"in n)r=t=-n.detail/3*this.options.mouseWheelSpeed;else return;if(r*=this.options.invertWheelDirection,t*=this.options.invertWheelDirection,this.hasVerticalScroll||(r=t,t=0),this.options.snap){u=this.currentPage.pageX;f=this.currentPage.pageY;r>0?u--:r<0&&u++;t>0?f--:t<0&&f++;this.goToPage(u,f);return}u=this.x+i.round(this.hasHorizontalScroll?r:0);f=this.y+i.round(this.hasVerticalScroll?t:0);u>0?u=0:u<this.maxScrollX&&(u=this.maxScrollX);f>0?f=0:f<this.maxScrollY&&(f=this.maxScrollY);this.scrollTo(u,f,0);this.options.probeType>1&&this._execEvent("scroll")}},_initSnap:function(){this.currentPage={};typeof this.options.snap=="string"&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap));this.on("refresh",function(){var n=0,f,e=0,h,o,s,r=0,u,c=this.options.snapStepX||this.wrapperWidth,l=this.options.snapStepY||this.wrapperHeight,t;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(o=i.round(c/2),s=i.round(l/2);r>-this.scrollerWidth;){for(this.pages[n]=[],f=0,u=0;u>-this.scrollerHeight;)this.pages[n][f]={x:i.max(r,this.maxScrollX),y:i.max(u,this.maxScrollY),width:c,height:l,cx:r-o,cy:u-s},u-=l,f++;r-=c;n++}else for(t=this.options.snap,f=t.length,h=-1;n<f;n++)(n===0||t[n].offsetLeft<=t[n-1].offsetLeft)&&(e=0,h++),this.pages[e]||(this.pages[e]=[]),r=i.max(-t[n].offsetLeft,this.maxScrollX),u=i.max(-t[n].offsetTop,this.maxScrollY),o=r-i.round(t[n].offsetWidth/2),s=u-i.round(t[n].offsetHeight/2),this.pages[e][h]={x:r,y:u,width:t[n].offsetWidth,height:t[n].offsetHeight,cx:o,cy:s},r>this.maxScrollX&&e++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}});this.on("flick",function(){var n=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,n)})},_nearestSnap:function(n,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var r=0,f=this.pages.length,u=0;if(i.abs(n-this.absStartX)<this.snapThresholdX&&i.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage;for(n>0?n=0:n<this.maxScrollX&&(n=this.maxScrollX),t>0?t=0:t<this.maxScrollY&&(t=this.maxScrollY);r<f;r++)if(n>=this.pages[r][0].cx){n=this.pages[r][0].x;break}for(f=this.pages[r].length;u<f;u++)if(t>=this.pages[0][u].cy){t=this.pages[0][u].y;break}return r==this.currentPage.pageX&&(r+=this.directionX,r<0?r=0:r>=this.pages.length&&(r=this.pages.length-1),n=this.pages[r][0].x),u==this.currentPage.pageY&&(u+=this.directionY,u<0?u=0:u>=this.pages[0].length&&(u=this.pages[0].length-1),t=this.pages[0][u].y),{x:n,y:t,pageX:r,pageY:u}},goToPage:function(n,t,r,u){u=u||this.options.bounceEasing;n>=this.pages.length?n=this.pages.length-1:n<0&&(n=0);t>=this.pages[n].length?t=this.pages[n].length-1:t<0&&(t=0);var f=this.pages[n][t].x,e=this.pages[n][t].y;r=r===undefined?this.options.snapSpeed||i.max(i.max(i.min(i.abs(f-this.x),1e3),i.min(i.abs(e-this.y),1e3)),300):r;this.currentPage={x:f,y:e,pageX:n,pageY:t};this.scrollTo(f,e,r,u)},next:function(n,t){var i=this.currentPage.pageX,r=this.currentPage.pageY;i++;i>=this.pages.length&&this.hasVerticalScroll&&(i=0,r++);this.goToPage(i,r,n,t)},prev:function(n,t){var i=this.currentPage.pageX,r=this.currentPage.pageY;i--;i<0&&this.hasVerticalScroll&&(i=0,r--);this.goToPage(i,r,n,t)},_initKeys:function(){var i={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},t;if(typeof this.options.keyBindings=="object")for(t in this.options.keyBindings)typeof this.options.keyBindings[t]=="string"&&(this.options.keyBindings[t]=this.options.keyBindings[t].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(t in i)this.options.keyBindings[t]=this.options.keyBindings[t]||i[t];r.addEvent(n,"keydown",this);this.on("destroy",function(){r.removeEvent(n,"keydown",this)})},_key:function(n){if(this.enabled){var t=this.options.snap,u=t?this.currentPage.pageX:this.x,f=t?this.currentPage.pageY:this.y,o=r.getTime(),s=this.keyTime||0,e;this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this.isInTransition=!1);this.keyAcceleration=o-s<200?i.min(this.keyAcceleration+.25,50):0;switch(n.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?u+=t?1:this.wrapperWidth:f+=t?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?u-=t?1:this.wrapperWidth:f-=t?1:this.wrapperHeight;break;case this.options.keyBindings.end:u=t?this.pages.length-1:this.maxScrollX;f=t?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:u=0;f=0;break;case this.options.keyBindings.left:u+=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:f+=t?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:u-=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:f-=t?1:5+this.keyAcceleration>>0;break;default:return}if(t){this.goToPage(u,f);return}u>0?(u=0,this.keyAcceleration=0):u<this.maxScrollX&&(u=this.maxScrollX,this.keyAcceleration=0);f>0?(f=0,this.keyAcceleration=0):f<this.maxScrollY&&(f=this.maxScrollY,this.keyAcceleration=0);this.scrollTo(u,f,0);this.keyTime=o}},_animate:function(n,t,i,u){function c(){var a=r.getTime(),y,p,v;if(a>=l){f.isAnimating=!1;f._translate(n,t);f.resetPosition(f.options.bounceTime)||f._execEvent("scrollEnd");return}a=(a-h)/i;v=u(a);y=(n-e)*v+e;p=(t-s)*v+s;f._translate(y,p);f.isAnimating&&o(c);f.options.probeType==3&&f._execEvent("scroll")}var f=this,e=this.x,s=this.y,h=r.getTime(),l=h+i;this.isAnimating=!0;c()},handleEvent:function(n){switch(n.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(n);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(n);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(n);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(n);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(n);break;case"keydown":this._key(n);break;case"click":n._constructed||(n.preventDefault(),n.stopPropagation())}}};e.prototype={handleEvent:function(n){switch(n.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(n);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(n);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(n)}},destroy:function(){this.options.interactive&&(r.removeEvent(this.indicator,"touchstart",this),r.removeEvent(this.indicator,r.prefixPointerEvent("pointerdown"),this),r.removeEvent(this.indicator,"mousedown",this),r.removeEvent(n,"touchmove",this),r.removeEvent(n,r.prefixPointerEvent("pointermove"),this),r.removeEvent(n,"mousemove",this),r.removeEvent(n,"touchend",this),r.removeEvent(n,r.prefixPointerEvent("pointerup"),this),r.removeEvent(n,"mouseup",this));this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var i=t.touches?t.touches[0]:t;t.preventDefault();t.stopPropagation();this.transitionTime();this.initiated=!0;this.moved=!1;this.lastPointX=i.pageX;this.lastPointY=i.pageY;this.startTime=r.getTime();this.options.disableTouch||r.addEvent(n,"touchmove",this);this.options.disablePointer||r.addEvent(n,r.prefixPointerEvent("pointermove"),this);this.options.disableMouse||r.addEvent(n,"mousemove",this);this.scroller._execEvent("beforeScrollStart")},_move:function(n){var t=n.touches?n.touches[0]:n,i,u,f,e,o=r.getTime();this.moved||this.scroller._execEvent("scrollStart");this.moved=!0;i=t.pageX-this.lastPointX;this.lastPointX=t.pageX;u=t.pageY-this.lastPointY;this.lastPointY=t.pageY;f=this.x+i;e=this.y+u;this._pos(f,e);this.scroller.options.probeType==1&&o-this.startTime>300?(this.startTime=o,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll");n.preventDefault();n.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),r.removeEvent(n,"touchmove",this),r.removeEvent(n,r.prefixPointerEvent("pointermove"),this),r.removeEvent(n,"mousemove",this),this.scroller.options.snap){var u=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),f=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-u.x),1e3),i.min(i.abs(this.scroller.y-u.y),1e3)),300);(this.scroller.x!=u.x||this.scroller.y!=u.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=u,this.scroller.scrollTo(u.x,u.y,f,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(n){n=n||0;this.indicatorStyle[r.style.transitionDuration]=n+"ms";!n&&r.isBadAndroid&&(this.indicatorStyle[r.style.transitionDuration]="0.001s")},transitionTimingFunction:function(n){this.indicatorStyle[r.style.transitionTimingFunction]=n},refresh:function(){this.transitionTime();this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none";this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(r.addClass(this.wrapper,"iScrollBothScrollbars"),r.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(r.removeClass(this.wrapper,"iScrollBothScrollbars"),r.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));var n=this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.options.shrink=="clip"?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX);this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.options.shrink=="clip"?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY);this.updatePosition()},updatePosition:function(){var n=this.options.listenX&&i.round(this.sizeRatioX*this.scroller.x)||0,t=this.options.listenY&&i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(n<this.minBoundaryX?(this.options.shrink=="scale"&&(this.width=i.max(this.indicatorWidth+n,8),this.indicatorStyle.width=this.width+"px"),n=this.minBoundaryX):n>this.maxBoundaryX?this.options.shrink=="scale"?(this.width=i.max(this.indicatorWidth-(n-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",n=this.maxPosX+this.indicatorWidth-this.width):n=this.maxBoundaryX:this.options.shrink=="scale"&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),t<this.minBoundaryY?(this.options.shrink=="scale"&&(this.height=i.max(this.indicatorHeight+t*3,8),this.indicatorStyle.height=this.height+"px"),t=this.minBoundaryY):t>this.maxBoundaryY?this.options.shrink=="scale"?(this.height=i.max(this.indicatorHeight-(t-this.maxPosY)*3,8),this.indicatorStyle.height=this.height+"px",t=this.maxPosY+this.indicatorHeight-this.height):t=this.maxBoundaryY:this.options.shrink=="scale"&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px"));this.x=n;this.y=t;this.scroller.options.useTransform?this.indicatorStyle[r.style.transform]="translate("+n+"px,"+t+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=n+"px",this.indicatorStyle.top=t+"px")},_pos:function(n,t){n<0?n=0:n>this.maxPosX&&(n=this.maxPosX);t<0?t=0:t>this.maxPosY&&(t=this.maxPosY);n=this.options.listenX?i.round(n/this.sizeRatioX):this.scroller.x;t=this.options.listenY?i.round(t/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(n,t)},fade:function(n,t){if(!t||this.visible){clearTimeout(this.fadeTimeout);this.fadeTimeout=null;var i=n?250:500,u=n?0:300;n=n?"1":"0";this.wrapperStyle[r.style.transitionDuration]=i+"ms";this.fadeTimeout=setTimeout(function(n){this.wrapperStyle.opacity=n;this.visible=+n}.bind(this,n),u)}}};u.utils=r;typeof module!="undefined"&&module.exports?module.exports=u:n.IScroll=u}(window,document,Math),function(n){var u={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",responsiveWidth:!1},f=n(window),s=n(document),t=[],e=f.height(),r=function(){for(var u=f.scrollTop(),h=s.height(),c=h-e,l=u>c?c-u:0,r,o=0;o<t.length;o++){var i=t[o],a=i.stickyWrapper.offset().top,v=a-i.topSpacing-l;u<=v?i.currentTop!==null&&(i.stickyElement.css("width","").css("position","").css("top",""),i.stickyElement.trigger("sticky-end",[i]).parent().removeClass(i.className),i.currentTop=null):(r=h-i.stickyElement.outerHeight()-i.topSpacing-i.bottomSpacing-u-l,r=r<0?r+i.topSpacing:i.topSpacing,i.currentTop!=r&&(i.stickyElement.css("width",i.stickyElement.width()).css("position","fixed").css("top",r),typeof i.getWidthFrom!="undefined"&&i.stickyElement.css("width",n(i.getWidthFrom).width()),i.stickyElement.trigger("sticky-start",[i]).parent().addClass(i.className),i.currentTop=r))}},o=function(){var r,i;for(e=f.height(),r=0;r<t.length;r++)i=t[r],typeof i.getWidthFrom!="undefined"&&i.responsiveWidth===!0&&i.stickyElement.css("width",n(i.getWidthFrom).width())},i={init:function(i){var r=n.extend({},u,i);return this.each(function(){var i=n(this),f=i.attr("id"),s=f?f+"-"+u.wrapperClassName:u.wrapperClassName,o=n("<div><\/div>").attr("id",f+"-sticky-wrapper").addClass(r.wrapperClassName),e;i.wrapAll(o);r.center&&i.parent().css({width:i.outerWidth(),marginLeft:"auto",marginRight:"auto"});i.css("float")=="right"&&i.css({float:"none"}).parent().css({float:"right"});e=i.parent();e.css("height",i.outerHeight());t.push({topSpacing:r.topSpacing,bottomSpacing:r.bottomSpacing,stickyElement:i,currentTop:null,stickyWrapper:e,className:r.className,getWidthFrom:r.getWidthFrom,responsiveWidth:r.responsiveWidth})})},update:r,unstick:function(){return this.each(function(){for(var r=n(this),u=-1,i=0;i<t.length;i++)t[i].stickyElement.get(0)==r.get(0)&&(u=i);u!=-1&&(t.splice(u,1),r.unwrap(),r.removeAttr("style"))})}};window.addEventListener?(window.addEventListener("scroll",r,!1),window.addEventListener("resize",o,!1)):window.attachEvent&&(window.attachEvent("onscroll",r),window.attachEvent("onresize",o));n.fn.sticky=function(t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.sticky");else return i.init.apply(this,arguments)};n.fn.unstick=function(t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.sticky");else return i.unstick.apply(this,arguments)};n(function(){setTimeout(r,0)})}(jQuery),function(){var t,n;t=this.jQuery||window.jQuery;n=t(window);t.fn.stick_in_parent=function(i){var e,s,r,u,o,c,f,l,h,a;for(null==i&&(i={}),f=i.sticky_class,s=i.inner_scrolling,c=i.recalc_every,o=i.parent,u=i.offset_top,r=i.spacer,e=i.bottoming,null==u&&(u=0),null==o&&(o=void 0),null==s&&(s=!0),null==f&&(f="is_stuck"),null==e&&(e=!0),l=function(i,h,l,a,v,y,p,w){var tt,et,g,ut,b,k,ft,it,rt,d,nt;if(!i.data("sticky_kit")){if(i.data("sticky_kit",!0),k=i.parent(),null!=o&&(k=k.closest(o)),!k.length)throw"failed to find stick parent";if(tt=g=!1,(d=null!=r?r&&i.closest(r):t("<div />"))&&d.css("position",i.css("position")),ft=function(){var n,t,e;if(!w&&(n=parseInt(k.css("border-top-width"),10),t=parseInt(k.css("padding-top"),10),h=parseInt(k.css("padding-bottom"),10),l=k.offset().top+n+t,a=k.height(),g&&(tt=g=!1,null==r&&(i.insertAfter(d),d.detach()),i.css({position:"",top:"",width:"",bottom:""}).removeClass(f),e=!0),v=i.offset().top-parseInt(i.css("margin-top"),10)-u,y=i.outerHeight(!0),p=i.css("float"),d&&d.css({width:i.outerWidth(!0),height:y,display:i.css("display"),"vertical-align":i.css("vertical-align"),float:p}),e))return nt()},ft(),y!==a)return ut=void 0,b=u,rt=c,nt=function(){var t,it,o,nt;if(!w&&(null!=rt&&(--rt,0>=rt&&(rt=c,ft())),o=n.scrollTop(),null!=ut&&(it=o-ut),ut=o,g?(e&&(nt=o+y+b>a+l,tt&&!nt&&(tt=!1,i.css({position:"fixed",bottom:"",top:b}).trigger("sticky_kit:unbottom"))),o<v&&(g=!1,b=u,null==r&&("left"!==p&&"right"!==p||i.insertAfter(d),d.detach()),t={position:"",width:"",top:""},i.css(t).removeClass(f).trigger("sticky_kit:unstick")),s&&(t=n.height(),y+u>t&&!tt&&(b-=it,b=Math.max(t-y,b),b=Math.min(u,b),g&&i.css({top:b+"px"})))):o>v&&(g=!0,t={position:"fixed",top:b},t.width="border-box"===i.css("box-sizing")?i.outerWidth()+"px":i.width()+"px",i.css(t).addClass(f),null==r&&(i.after(d),"left"!==p&&"right"!==p||d.append(i)),i.trigger("sticky_kit:stick")),g&&e&&(null==nt&&(nt=o+y+b>a+l),!tt&&nt)))return tt=!0,"static"===k.css("position")&&k.css({position:"relative"}),i.css({position:"absolute",bottom:h,top:"auto"}).trigger("sticky_kit:bottom")},it=function(){return ft(),nt()},et=function(){return w=!0,n.off("touchmove",nt),n.off("scroll",nt),n.off("resize",it),t(document.body).off("sticky_kit:recalc",it),i.off("sticky_kit:detach",et),i.removeData("sticky_kit"),i.css({position:"",bottom:"",top:"",width:""}),k.position("position",""),g?(null==r&&("left"!==p&&"right"!==p||i.insertAfter(d),d.remove()),i.removeClass(f)):void 0},n.on("touchmove",nt),n.on("scroll",nt),n.on("resize",it),t(document.body).on("sticky_kit:recalc",it),i.on("sticky_kit:detach",et),setTimeout(nt,0)}},h=0,a=this.length;h<a;h++)i=this[h],l(t(i));return this}}.call(this),function(n,t,i){function h(t,i){this.bodyOverflowX;this.callbacks={hide:[],show:[]};this.checkInterval=null;this.content;this.$el=n(t);this.$elProxy;this.elProxyPosition;this.enabled=!0;this.options=n.extend({},c,i);this.mouseIsOverProxy=!1;this.namespace="tooltipster-"+Math.round(Math.random()*1e5);this.status="hidden";this.timerHide=null;this.timerShow=null;this.$tooltip;this.options.iconTheme=this.options.iconTheme.replace(".","");this.options.theme=this.options.theme.replace(".","");this.init()}function e(t,i){var r=!0;return n.each(t,function(n){if(typeof i[n]=="undefined"||t[n]!==i[n])return r=!1,!1}),r}function o(){return!s&&r}function u(){var u=i.body||i.documentElement,r=u.style,n="transition",t;if(typeof r[n]=="string")return!0;for(v=["Moz","Webkit","Khtml","O","ms"],n=n.charAt(0).toUpperCase()+n.substr(1),t=0;t<v.length;t++)if(typeof r[v[t]+n]=="string")return!0;return!1}var f="tooltipster",c={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,delay:200,fixedWidth:0,maxWidth:0,functionInit:function(){},functionBefore:function(n,t){t()},functionReady:function(){},functionAfter:function(){},icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,speed:350,timer:0,theme:"tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0},r,s;h.prototype={init:function(){var t=this,u,f;if(i.querySelector)if(t.options.content!==null?t.setContent(t.options.content):typeof t.$el.attr("data-title")!="undefined"?t.setContent($(t.$el.attr("data-title"))):(u=$(t.$el.attr("title")),typeof u=="undefined"&&(u=null),t.setContent(u)),f=t.options.functionInit.call(t.$el,t.$el,t.content),typeof f!="undefined"&&t.setContent(f),t.$el.removeAttr("title").addClass("tooltipstered"),!r&&t.options.iconDesktop||r&&t.options.iconTouch?(typeof t.options.icon=="string"?(t.$elProxy=n('<span class="'+t.options.iconTheme+'"><\/span>'),t.$elProxy.text(t.options.icon)):t.$elProxy=t.options.iconCloning?t.options.icon.clone(!0):t.options.icon,t.$elProxy.insertAfter(t.$el)):t.$elProxy=t.$el,t.options.trigger=="hover"){t.$elProxy.on("mouseenter."+t.namespace,function(){(!o()||t.options.touchDevices)&&(t.mouseIsOverProxy=!0,t.showTooltip())}).on("mouseleave."+t.namespace,function(){(!o()||t.options.touchDevices)&&(t.mouseIsOverProxy=!1)});if(r&&t.options.touchDevices)t.$elProxy.on("touchstart."+t.namespace,function(){t.showTooltipNow()})}else if(t.options.trigger=="click")t.$elProxy.on("click."+t.namespace,function(){(!o()||t.options.touchDevices)&&t.showTooltip()})},showTooltip:function(){var n=this;n.status!="shown"&&n.status!="appearing"&&(n.options.delay?n.timerShow=setTimeout(function(){(n.options.trigger=="click"||n.options.trigger=="hover"&&n.mouseIsOverProxy)&&n.showTooltipNow()},n.options.delay):n.showTooltipNow())},showTooltipNow:function(i){var e=this;e.options.functionBefore.call(e.$el,e.$el,function(){var o,s,h;if(e.enabled&&e.content!==null){if(i&&e.callbacks.show.push(i),e.callbacks.hide=[],clearTimeout(e.timerShow),e.timerShow=null,clearTimeout(e.timerHide),e.timerHide=null,e.options.onlyOne&&n(".tooltipstered").not(e.$el).each(function(t,i){var r=n(i),u=r[f]("status"),e=r[f]("option","autoClose");u!=="hidden"&&u!=="disappearing"&&e&&r[f]("hide")}),o=function(){e.status="shown";n.each(e.callbacks.show,function(n,t){t.call(e.$el)});e.callbacks.show=[]},e.status!=="hidden")s=0,e.status==="disappearing"?(e.status="appearing",u()?(e.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+e.options.animation+"-show"),e.options.speed>0&&e.$tooltip.delay(e.options.speed),e.$tooltip.queue(o)):e.$tooltip.stop().fadeIn(o)):e.status==="shown"&&o();else{e.status="appearing";s=e.options.speed;e.bodyOverflowX=n("body").css("overflow-x");n("body").css("overflow-x","hidden");var c="tooltipster-"+e.options.animation,l="-webkit-transition-duration: "+e.options.speed+"ms; -webkit-animation-duration: "+e.options.speed+"ms; -moz-transition-duration: "+e.options.speed+"ms; -moz-animation-duration: "+e.options.speed+"ms; -o-transition-duration: "+e.options.speed+"ms; -o-animation-duration: "+e.options.speed+"ms; -ms-transition-duration: "+e.options.speed+"ms; -ms-animation-duration: "+e.options.speed+"ms; transition-duration: "+e.options.speed+"ms; animation-duration: "+e.options.speed+"ms;",a=e.options.fixedWidth>0?"width:"+Math.round(e.options.fixedWidth)+"px;":"",v=e.options.maxWidth>0?"max-width:"+Math.round(e.options.maxWidth)+"px;":"",y=e.options.interactive?"pointer-events: auto;":"";e.$tooltip=n('<div class="tooltipster-base '+e.options.theme+'" style="'+a+" "+v+" "+y+" "+l+'"><div class="tooltipster-content"><\/div><\/div>');u()&&e.$tooltip.addClass(c);e.insertContent();e.$tooltip.appendTo("body");e.positionTooltip();e.options.functionReady.call(e.$el,e.$el,e.$tooltip);u()?(e.$tooltip.addClass(c+"-show"),e.options.speed>0&&e.$tooltip.delay(e.options.speed),e.$tooltip.queue(o)):e.$tooltip.css("display","none").fadeIn(e.options.speed,o);e.setCheckInterval();n(t).on("scroll."+e.namespace+" resize."+e.namespace,function(){e.positionTooltip()});if(e.options.autoClose)if(n("body").off("."+e.namespace),e.options.trigger=="hover")if(r&&setTimeout(function(){n("body").on("touchstart."+e.namespace,function(){e.hideTooltip()})},0),e.options.interactive){if(r)e.$tooltip.on("touchstart."+e.namespace,function(n){n.stopPropagation()});h=null;e.$elProxy.add(e.$tooltip).on("mouseleave."+e.namespace+"-autoClose",function(){clearTimeout(h);h=setTimeout(function(){e.hideTooltip()},e.options.interactiveTolerance)}).on("mouseenter."+e.namespace+"-autoClose",function(){clearTimeout(h)})}else e.$elProxy.on("mouseleave."+e.namespace+"-autoClose",function(){e.hideTooltip()});else if(e.options.trigger=="click"&&(setTimeout(function(){n("body").on("click."+e.namespace+" touchstart."+e.namespace,function(){e.hideTooltip()})},0),e.options.interactive))e.$tooltip.on("click."+e.namespace+" touchstart."+e.namespace,function(n){n.stopPropagation()})}e.options.timer>0&&(e.timerHide=setTimeout(function(){e.timerHide=null;e.hideTooltip()},e.options.timer+s))}})},setCheckInterval:function(){var t=this;t.checkInterval=setInterval(function(){if(n("body").find(t.$el).length===0||n("body").find(t.$elProxy).length===0||t.status=="hidden"||n("body").find(t.$tooltip).length===0)(t.status=="shown"||t.status=="appearing")&&t.hideTooltip(),t.cancelCheckInterval();else if(t.options.positionTracker){var i=t.positionInfo(t.$elProxy),r=!1;e(i.dimension,t.elProxyPosition.dimension)&&(t.$elProxy.css("position")==="fixed"?e(i.position,t.elProxyPosition.position)&&(r=!0):e(i.offset,t.elProxyPosition.offset)&&(r=!0));r||t.positionTooltip()}},200)},cancelCheckInterval:function(){clearInterval(this.checkInterval);this.checkInterval=null},hideTooltip:function(i){var r=this,f,e;i&&r.callbacks.hide.push(i);r.callbacks.show=[];clearTimeout(r.timerShow);r.timerShow=null;clearTimeout(r.timerHide);r.timerHide=null;f=function(){n.each(r.callbacks.hide,function(n,t){t.call(r.$el)});r.callbacks.hide=[]};r.status=="shown"||r.status=="appearing"?(r.status="disappearing",e=function(){r.status="hidden";typeof r.content=="object"&&r.content!==null&&r.content.detach();r.$tooltip.remove();r.$tooltip=null;n(t).off("."+r.namespace);n("body").off("."+r.namespace).css("overflow-x",r.bodyOverflowX);n("body").off("."+r.namespace);r.$elProxy.off("."+r.namespace+"-autoClose");r.options.functionAfter.call(r.$el,r.$el);f()},u()?(r.$tooltip.clearQueue().removeClass("tooltipster-"+r.options.animation+"-show").addClass("tooltipster-dying"),r.options.speed>0&&r.$tooltip.delay(r.options.speed),r.$tooltip.queue(e)):r.$tooltip.stop().fadeOut(r.options.speed,e)):r.status=="hidden"&&f()},setContent:function(n){typeof n=="object"&&n!==null&&this.options.contentCloning&&(n=n.clone(!0));this.content=n},insertContent:function(){var n=this,t=this.$tooltip.find(".tooltipster-content");typeof n.content!="string"||n.options.contentAsHTML?t.empty().append(n.content):t.text(n.content)},updateTooltip:function(n){var t=this;t.setContent(n);t.content!==null?t.status!=="hidden"&&(t.insertContent(),t.positionTooltip(),t.options.updateAnimation&&(u()?(t.$tooltip.css({width:"","-webkit-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){t.status!="hidden"&&(t.$tooltip.removeClass("tooltipster-content-changing"),setTimeout(function(){t.status!=="hidden"&&t.$tooltip.css({"-webkit-transition":t.options.speed+"ms","-moz-transition":t.options.speed+"ms","-o-transition":t.options.speed+"ms","-ms-transition":t.options.speed+"ms",transition:t.options.speed+"ms"})},t.options.speed))},t.options.speed)):t.$tooltip.fadeTo(t.options.speed,.5,function(){t.status!="hidden"&&t.$tooltip.fadeTo(t.options.speed,1)}))):t.hideTooltip()},positionInfo:function(n){return{dimension:{height:n.outerHeight(!1),width:n.outerWidth(!1)},offset:n.offset(),position:{left:parseInt(n.css("left")),top:parseInt(n.css("top"))}}},positionTooltip:function(){var r=this,d,p,et,w,tt,it,b,kt,e,v,dt,rt,gt,ni;if(n("body").find(r.$tooltip).length!==0){r.$tooltip.css("width","");r.elProxyPosition=r.positionInfo(r.$elProxy);var s=null,k=n(t).width(),i=r.elProxyPosition,o=r.$tooltip.outerWidth(!1),ti=r.$tooltip.innerWidth()+1,l=r.$tooltip.outerHeight(!1);if(r.$elProxy.is("area")){var wt=r.$elProxy.attr("shape"),ii=r.$elProxy.parent().attr("name"),ot=n('img[usemap="#'+ii+'"]'),st=ot.offset().left,ht=ot.offset().top,y=r.$elProxy.attr("coords")!==undefined?r.$elProxy.attr("coords").split(","):undefined;if(wt=="circle"){var ct=parseInt(y[0]),lt=parseInt(y[1]),at=parseInt(y[2]);i.dimension.height=at*2;i.dimension.width=at*2;i.offset.top=ht+lt-at;i.offset.left=st+ct-at}else if(wt=="rect"){var ct=parseInt(y[0]),lt=parseInt(y[1]),ri=parseInt(y[2]),ui=parseInt(y[3]);i.dimension.height=ui-lt;i.dimension.width=ri-ct;i.offset.top=ht+lt;i.offset.left=st+ct}else if(wt=="poly"){var ut=0,ft=0,vt=0,yt=0,bt="even";for(d=0;d<y.length;d++)p=parseInt(y[d]),bt=="even"?(p>vt&&(vt=p,d===0&&(ut=vt)),p<ut&&(ut=p),bt="odd"):(p>yt&&(yt=p,d==1&&(ft=yt)),p<ft&&(ft=p),bt="even");i.dimension.height=yt-ft;i.dimension.width=vt-ut;i.offset.top=ht+ft;i.offset.left=st+ut}else i.dimension.height=ot.outerHeight(!1),i.dimension.width=ot.outerWidth(!1),i.offset.top=ht,i.offset.left=st}r.options.fixedWidth===0&&r.$tooltip.css({width:Math.round(ti)+"px","padding-left":"0px","padding-right":"0px"});var u=0,pt=0,a=0,h=parseInt(r.options.offsetY),c=parseInt(r.options.offsetX),f=r.options.position;function g(){var i=n(t).scrollLeft();u-i<0&&(s=u-i,u=i);u+o-i>k&&(s=u-(k+i-o),u=k+i-o)}function nt(r,u){i.offset.top-n(t).scrollTop()-l-h-12<0&&u.indexOf("top")>-1&&(f=r);i.offset.top+i.dimension.height+l+12+h>n(t).scrollTop()+n(t).height()&&u.indexOf("bottom")>-1&&(f=r,a=i.offset.top-l-h-12)}f=="top"&&(et=i.offset.left+o-(i.offset.left+i.dimension.width),u=i.offset.left+c-et/2,a=i.offset.top-l-h-12,g(),nt("bottom","top"));f=="top-left"&&(u=i.offset.left+c,a=i.offset.top-l-h-12,g(),nt("bottom-left","top-left"));f=="top-right"&&(u=i.offset.left+i.dimension.width+c-o,a=i.offset.top-l-h-12,g(),nt("bottom-right","top-right"));f=="bottom"&&(et=i.offset.left+o-(i.offset.left+i.dimension.width),u=i.offset.left-et/2+c,a=i.offset.top+i.dimension.height+h+12,g(),nt("top","bottom"));f=="bottom-left"&&(u=i.offset.left+c,a=i.offset.top+i.dimension.height+h+12,g(),nt("top-left","bottom-left"));f=="bottom-right"&&(u=i.offset.left+i.dimension.width+c-o,a=i.offset.top+i.dimension.height+h+12,g(),nt("top-right","bottom-right"));f=="left"&&(u=i.offset.left-c-o-12,pt=i.offset.left+c+i.dimension.width+12,w=i.offset.top+l-(i.offset.top+i.dimension.height),a=i.offset.top-w/2-h,u<0&&pt+o>k?(tt=parseFloat(r.$tooltip.css("border-width"))*2,it=o+u-tt,r.$tooltip.css("width",it+"px"),l=r.$tooltip.outerHeight(!1),u=i.offset.left-c-it-12-tt,w=i.offset.top+l-(i.offset.top+i.dimension.height),a=i.offset.top-w/2-h):u<0&&(u=i.offset.left+c+i.dimension.width+12,s="left"));f=="right"&&(u=i.offset.left+c+i.dimension.width+12,pt=i.offset.left-c-o-12,w=i.offset.top+l-(i.offset.top+i.dimension.height),a=i.offset.top-w/2-h,u+o>k&&pt<0?(tt=parseFloat(r.$tooltip.css("border-width"))*2,it=k-u-tt,r.$tooltip.css("width",it+"px"),l=r.$tooltip.outerHeight(!1),w=i.offset.top+l-(i.offset.top+i.dimension.height),a=i.offset.top-w/2-h):u+o>k&&(u=i.offset.left-c-o-12,s="right"));r.options.arrow&&(b="tooltipster-arrow-"+f,kt=r.options.arrowColor.length<1?r.$tooltip.css("background-color"):r.options.arrowColor,s?s=="left"?(b="tooltipster-arrow-right",s=""):s=="right"?(b="tooltipster-arrow-left",s=""):s="left:"+Math.round(s)+"px;":s="",f=="top"||f=="top-left"||f=="top-right"?(e=parseFloat(r.$tooltip.css("border-bottom-width")),v=r.$tooltip.css("border-bottom-color")):f=="bottom"||f=="bottom-left"||f=="bottom-right"?(e=parseFloat(r.$tooltip.css("border-top-width")),v=r.$tooltip.css("border-top-color")):f=="left"?(e=parseFloat(r.$tooltip.css("border-right-width")),v=r.$tooltip.css("border-right-color")):f=="right"?(e=parseFloat(r.$tooltip.css("border-left-width")),v=r.$tooltip.css("border-left-color")):(e=parseFloat(r.$tooltip.css("border-bottom-width")),v=r.$tooltip.css("border-bottom-color")),e>1&&e++,dt="",e!==0&&(rt="",gt="border-color: "+v+";",b.indexOf("bottom")!==-1?rt="margin-top: -"+Math.round(e)+"px;":b.indexOf("top")!==-1?rt="margin-bottom: -"+Math.round(e)+"px;":b.indexOf("left")!==-1?rt="margin-right: -"+Math.round(e)+"px;":b.indexOf("right")!==-1&&(rt="margin-left: -"+Math.round(e)+"px;"),dt='<span class="tooltipster-arrow-border" style="'+rt+" "+gt+';"><\/span>'),r.$tooltip.find(".tooltipster-arrow").remove(),ni='<div class="'+b+' tooltipster-arrow" style="'+s+'">'+dt+'<span style="border-color:'+kt+';"><\/span><\/div>',r.$tooltip.append(ni));r.$tooltip.css({top:Math.round(a)+"px",left:Math.round(u)+"px"})}}};n.fn[f]=function(){var t=arguments,r,i;if(this.length===0){if(typeof t[0]=="string"){r=!0;switch(t[0]){case"setDefaults":n.extend(c,t[1]);break;default:r=!1}return r?!0:this}return this}return typeof t[0]=="string"?(i="#*$~&",this.each(function(){var r=n(this).data("tooltipster"),u;if(r)switch(t[0]){case"content":case"update":if(typeof t[1]=="undefined")return i=r.content,!1;r.updateTooltip(t[1]);break;case"destroy":r.hideTooltip();r.$el[0]!==r.$elProxy[0]&&r.$elProxy.remove();u=typeof r.content=="string"?r.content:n("<div><\/div>").append(r.content).html();r.$el.removeClass("tooltipstered").attr("title",u).removeData("tooltipster").off("."+r.namespace);break;case"disable":r.hideTooltip();r.enabled=!1;break;case"elementIcon":return i=r.$el[0]!==r.$elProxy[0]?r.$elProxy[0]:undefined,!1;case"elementTooltip":return i=r.$tooltip?r.$tooltip[0]:undefined,!1;case"enable":r.enabled=!0;break;case"hide":r.hideTooltip(t[1]);break;case"option":return i=r.options[t[1]],!1;case"reposition":r.positionTooltip();break;case"show":r.showTooltipNow(t[1]);break;case"status":return i=r.status,!1;default:throw new Error('Unknown method .tooltipster("'+t[0]+'")');}else throw new Error("You called Tooltipster's \""+t[0]+'" method on an uninitialized element');}),i!=="#*$~&"?i:this):this.each(function(){n(this).data("tooltipster")||n(this).data("tooltipster",new h(this,t[0]))})};r=!!("ontouchstart"in t);s=!1;n("body").one("mousemove",function(){s=!0})}(jQuery,window,document);jfpts.recurringcalc=function(){function n(n,t,i){$.post("/Ajax/Recurring/Acs",{price:n,prepaidpercent:t,month:i},function(n){$(".ppu2-price1>strong").html(n.prepaidMoneybefore+"đ");n.acsCommend!=""&&n.acsCommend.length>10?($(".ppu_re_btn").hide(),$(".ppu2-price2").hide(),$(".ppu2-price2 >strong").html(""),$(".ppu2-commend").html(n.acsCommend)):($(".ppu2-price2").show(),$(".ppu_re_btn").show(),$(".ppu2-commend").html(""),$(".ppu2-price2>strong").html(n.monthPay+"đ"))})}function t(n,t,i){$.post("/Ajax/Recurring/FeCredit",{price:n,prepaidpercent:t,month:i},function(n){$(".ppu2-price1>strong").html(n.prepaidMoneybefore+"đ");n.fecommend!=""&&n.fecommend.length>10?($(".ppu_re_btn").hide(),$(".ppu2-price2").hide(),$(".ppu2-price2 >strong").html(""),$(".ppu2-commend").html(n.fecommend)):($(".ppu_re_btn").show(),$(".ppu2-price2").show(),$(".ppu2-commend").html(""),$(".ppu2-price2>strong").html(n.monthlyPay+"đ"))})}function i(n,t,i){$.post("/Ajax/Recurring/HomeCredit",{price:n,prepaidpercent:t,month:i},function(n){$(".ppu2-price1>strong").html(n.prepaidMoneybefore+"đ");n.commend!=""&&n.commend.length>10?($(".ppu_re_btn").hide(),$(".ppu2-price2").hide(),$(".ppu2-price2 >strong").html(""),$(".ppu2-commend").html(n.commend)):($(".ppu_re_btn").show(),$(".ppu2-price2").show(),$(".ppu2-commend").html(""),$(".ppu2-price2>strong").html(n.monthlyPayment+"đ"))})}function r(n,t,i,r){$.post("/Ajax/Recurring/HdSaigon",{price:n,prepaidpercent:t,month:i,typeproduct:r},function(n){$(".trg-price-prepaid>strong").html(n.prepaidMoneybefore+"đ");n.hdcommend!=""&&n.hdcommend.length>10?($(".trg-slp-order").hide(),$(".trg-price-monthly>span").hide(),$(".trg-price-monthly>strong").html("<strong>"+n.hdcommend+"<\/strong>")):($(".trg-slp-order").show(),$(".trg-price-monthly>span").show(),$(".trg-price-monthly>strong").html(n.monthlyPay+"đ"))})}function u(n,t,i,r){if(r=="1")jfpts.recurringcalc.acs(n,t,i);else if(r=="2")jfpts.recurringcalc.ppf(n,t,i);else if(r=="1002")jfpts.recurringcalc.fecredit(n,t,i);else if(r=="1003"){var u=$("#TypeProductcurrent").val();jfpts.recurringcalc.hds(n,t,i,u)}}return{acs:n,fecredit:t,ppf:i,hds:r,chooseCompany:u}}();$(document).on("change",".trg-ipradio",function(n){n.preventDefault();$(".trg-ipradio").removeClass("active");var t=$(".trg-percent option:selected").val(),i=$(".trg-month option:selected").val(),r=$("input[name=trg-service]:checked").val(),u=$(".ppu_tab_pro_price").attr("data-money");$(this).addClass("active");jfpts.recurringcalc.chooseCompany(u,t,i,r)});$(document).on("change",".trg-percent",function(){var n=$(".trg-percent option:selected").val(),t=$(".trg-month option:selected").val(),i=$("input[name=trg-service]:checked").val(),r=$(".ppu_tab_pro_price").attr("data-money");jfpts.recurringcalc.chooseCompany(r,n,t,i)});$(document).on("change",".trg-month",function(){var n=$(".trg-month option:selected").val(),t=$(".trg-percent option:selected").val(),i=$("input[name=trg-service]:checked").val(),r=$(".ppu_tab_pro_price").attr("data-money");jfpts.recurringcalc.chooseCompany(r,t,n,i)});jQuery(document).ready(function(n){var t=n(".fcm-login-btn"),i;t.closest(".fcm-login-col").find('input[name="name"]').val(UtilModuleCommentProduct.getCookie("ftscustomerName"));t.closest(".fcm-login-col").find('input[name="email"]').val(UtilModuleCommentProduct.getCookie("ftscustomerEmail"));i=new CommentProduct({modulId:UtilModuleCommentProduct.modulId().productPage});i.init();n(".detail-title label").text(n(".detail-newsmo-mores.clearfix").attr("data-total"));n(".container-fluid").find('li a[href="#binh-luan"]').find("label").text(n(".detail-newsmo-mores.clearfix").attr("data-total"));n(".trg-search-ulcmt a").click(function(t){t.preventDefault();n(".trg-search-cmtchoise").text(n(this).text()).attr("data-value",n(this).attr("data-value"))});n(document).on("click",".answer-comment",function(){var t=n(this);t.closest(".media-body").find(".trg-cm-post").toggle(300)});n(document).on("click",".order-product",function(){var t=0,i=n(this);t=i.data("id");jfpts.data.addOrder(t,undefined,null,0,null,"20000")});n(document).on("click",".fcm-login-fb",function(){LoginFacebook(n(this))});n(document).on("click",".fcm-login-close",function(){n(".fcm-login").hide("slow");n(this).closest(".fcm-login").prev(".form-inline").show()});n(document).on("click",".fcm-login-gg",function(){});n(document).on("click",".new-comment-ntc a",function(){var t=n("#list-comment").data("view");n(t).insertAfter("#list-comment #info-comment");n(this).closest(".new-comment-ntc").remove()})});CommentProduct=function(n){this.option=jQuery.extend({modulId:UtilModuleCommentProduct.modulId().productPage},n)};CommentProduct.prototype.pageID=0;CommentProduct.prototype.init=function(){$(".new-comment-ntc").hide();var n=this;n.focusInputComment();n.sendComment();n.pagingComment();n.sortComment();n.filterComment();n.likeComment();n.toastNts=new ToastSuccess};CommentProduct.prototype.loadComment=function(n,t,i,r,u){var f=this,s=n||"",h=t||0,c=i||1,o=r||1,e=$("#list-comment"),l=$("#brand-id").attr("data-id")||0,a=$("#type-product").attr("data-id")||0;$.ajax({type:"GET",url:UtilModuleCommentProduct.linkAjax().linkApiGetListComment,data:{pageId:f.pageID,modulId:f.option.modulId,referID:$("#productId").length>0?$("#productId").val():0,title:$("head title")[0].text,orderby:c,keyword:s,catesearch:h,page:o,isNewTemplate:!0,brandId:l,typeId:a},beforeSend:function(){u||e.html(UtilModuleCommentProduct.configConstant().imgBigLoading)}}).done(function(n){n.TotalRecordRest>0?$(".trg-comment-more").show().find(".btn-load-comment strong").text(n.TotalRecordRest):$(".trg-comment-more").hide();u?($(".trg-comment-more").removeClass("is-loading-comment"),e.html(n.View),$("#list-comment").attr("data-page",Number(o)+1)):e.html(n.View);$(".detail-title label").text(n.Total);$(".container-fluid").find('li a[href="#binh-luan"]').find("label").text(n.Total);f.pageID=n.PageID;f.setLikeCommentInit();f.getListNewComment()})};CommentProduct.prototype.pagingComment=function(){var n=this;$(document).on("click","a.pageNumber",function(){var t,u;$("html, body").animate({scrollTop:$("#list-comment").offset().top},1e3);var i=parseInt($(this).attr("data-page")),f=parseInt($(".detail-newsmo-mores.clearfix").attr("data-pagesize")),e=parseInt($(".detail-newsmo-mores.clearfix").attr("data-total")),o=parseInt($(".detail-newsmo-mores.clearfix").attr("data-step")),s=$(this).attr("data-page"),r=n.getValueFilter();$(".detail-newsmo-mores.clearfix").html(CommentProduct.prototype.buidPaging(o,i,f,e));$(".trg-comment-more").addClass("is-loading-comment");n.loadComment(r.keyword,r.searchin,r.sort,s,!0);t=$(".detail-newsmo-mores.clearfix").attr("data-link");u="";u=t.indexOf("?")<0?t+"?binhluan="+i:t.indexOf("binhluan")<0?t+"&binhluan="+i:t.indexOf("?binhluan")<0?t.replace(/&binhluan=\d/i,"&binhluan="+i):t.replace(/\?binhluan=\d/i,"?binhluan="+i);history.pushState({},null,u)})};CommentProduct.prototype.getListNewComment=function(){var n=0;clearInterval(n);n=setInterval(function(){$.ajax({type:"GET",url:UtilModuleCommentProduct.linkAjax().linkGetNewComment,data:{pageId:this.pageID,modulId:this.option.modulId,currentLastId:$("#list-comment").find(".like-comment").first().attr("data-id")}}).done(function(n){if(n&&Number(n.Total)>0){var t=$("<div class='new-comment-ntc'>\n<span>Bạn có <strong>0<\/strong> comment mới.<\/span>\n<a href='javascript:void(0);'>Click để xem<\/a>\n<\/div>");$("#list-comment").data("view",n.View);$(document).find(".new-comment-ntc").remove();t.insertAfter(".trg-cm-header").fadeIn("300").find("strong").text(n.Total)}})}.bind(this),UtilModuleCommentProduct.configConstant().timerGetNewComment)};CommentProduct.prototype.getValueFilter=function(){return $.extend({keyword:"",searchin:0,sort:1},{keyword:UtilModuleCommentProduct.standardizedString($(".txt-search-comment").val()),searchin:$(".trg-search-cmtchoise").attr("data-value"),sort:$(".trg-cm-hsort .active").attr("data-value")})};CommentProduct.prototype.sendComment=function(){var n=this,t="";$(document).on("click",".trg-bnt-post",function(){var t=$(this),n=t.closest(".media-body").find("textarea").val(),i=t.closest(".trg-cm-post-sub"),r=t.attr("data-id")||0;if(n=UtilModuleCommentProduct.standardizedString(n),$.type(n)==="undefined"||n.length<4){jfpts.utility.notifyWarningCenter("Bạn cần nhập nội dung lớn hơn 3 ký tự.");return}});$(document).on("keyup",".comment-box textarea",function(){var u="",i="",f="",r=$(this),e=r.parent(".comment-box").find(".fcm-login"),s=r.parent(".comment-box").find(".form-inline"),h=r.closest(".trg-cm-post-sub"),o=r.attr("data-id")||0;t=r.val();console.log("vao debug");!i&&t.length>3&&(s.hide(),e.show("slow",function(){var r=$(this);r.find("#register-information").validate({rules:{name:{required:!0,minlength:2}},messages:{name:{required:"Bạn cần nhập tên",minlength:"Họ và tên cần lớn hơn 2 ký tự"}},submitHandler:function(){return u==""&&(u=r.find("#register-information").find('input[name="email"]').val().toString()),i==""&&(i=r.find("#register-information").find('input[name="name"]').val().toString()),f=r.find("#register-information").find('input[name="phone"]').val(),$.ajax({type:"POST",url:UtilModuleCommentProduct.linkAjax().linkApiAddComment,data:{pageId:n.pageID,shopCommentID:o,content:t,name:i,email:u,phone:f}}).done(function(r){if(e.hide("slow"),r.ID===-1)return jfpts.utility.notifyWarningCenter("Bạn phải vào trang FPTShop mới có thể bình luận"),!1;if(r.ID===-2)return jfpts.utility.notifyWarningCenter("Bạn không thể bình luận liên tiếp trong 10 giây."),!1;o===0?$("#info-comment").after(n.buildImmediateComment(!0,{id:r.ID,username:i,comment:t})):h.before(n.buildImmediateComment(!1,{id:r.ID,username:i,comment:t})).hide();n.pageID=r.PageID;n.toastNts.show(UtilModuleCommentProduct.configConstant().messageSuccess);UtilModuleCommentProduct.resetInput([".comment-box textarea",".fcm-login-txt"])}),!1}})}))})};CommentProduct.prototype.SendAnsync=function(n){$.post(n.linkAnsyn,{message:n.contenComment,commentId:n.ID,title:n.title,modulId:n.modulId},function(){console.log("da gui thong bao")})};CommentProduct.prototype.sortComment=function(){var n=this;$(".trg-cm-hsort span").on("click",function(){var i=$(this),t;i.closest(".trg-cm-hsort").find(".active").removeClass("active");i.addClass("active");t=n.getValueFilter();n.loadComment(t.keyword,t.searchin,t.sort,!1);$("#list-comment").attr("data-page",2)})};CommentProduct.prototype.filterComment=function(){var n=this;$(".txt-search-comment").on("keyup",function(t){var i=n.getValueFilter();if(t.keyCode==13){if($.trim(i.keyword)===""){jfpts.utility.notifyWarning("Bạn chưa nhập thông tin tìm kiếm");return}n.loadComment(i.keyword,i.searchin,i.sort,!1);$("#list-comment").attr("data-page",2)}})};CommentProduct.prototype.likeComment=function(){var n=this;$(document).on("click",".like-comment",function(){var t=$(this),i=t.attr("data-id"),r=t.closest(".trg-botcmm").find(".number-like");t.hasClass("liked")?(t.removeClass("liked"),r.text(Number(r.text())-1),t.text("Thích"),$.post(UtilModuleCommentProduct.linkAjax().linkApiUnLike,{CommentID:i}).done(function(){n.saveLikeCommentToCookie(i,!1)})):(t.addClass("liked"),r.text(Number(r.text())+1),t.text("Bỏ thích"),$.post(UtilModuleCommentProduct.linkAjax().linkApiLike,{CommentID:i}),n.saveLikeCommentToCookie(i,!0))})};CommentProduct.prototype.buildImmediateComment=function(n,t){return n?$(["<div class='media clearfix'>","<div class='media-left'>","<a href='javascript:void(0);'>","<img src='http://fptshop.com.vn/Content/assest/images/no-avatar.png?v=9999'/>","<\/a>","<\/div>","<div class='media-body'>","<h4 class='media-heading'>"+t.username+"<\/h4>",""+t.comment,"<div class='trg-botcmm clearfix'>","<div class='left'>","<span class='comment-date'>",""+UtilModuleCommentProduct.getBackDate(new Date),"<\/span>","<span class='comment-like'><i class='icons like-icon'><\/i> <label class='number-like'>0<\/label><\/span>","<\/div>","<div class='right'>","<a data-id='"+t.id+"' class='like-comment' href='javascript:void(0);'>Thích<\/a>","<a class='answer-comment' href='javascript:void(0);'>Trả lời<\/a>","<\/div>","<\/div>","<div class='media clearfix trg-cm-post trg-cm-post-sub'>","<div class='media-left'>","<a href='javascript:javascript:void(0);' title=''><img src='http://fptshop.com.vn/Content/assest/images/no-avatar.png?v=9999'/><\/a>","<\/div>","<div class='media-body comment-box'>","<textarea class='form-control' rows='2' placeholder='Viết bình luận của bạn...'><\/textarea>","<div class='form-inline'>","<div class='form-group'>","<input type='button' class='trg-bnt-post form-control' value='Bình luận' data-id='"+t.id+"'>","<div>","<\/div>","<\/div>","<\/div>","<\/div>","<\/div>"].join("\n")):$(["<div class='media clearfix'>","<div class='media-left'>","<a href='javascript:void(0);'>","<img src='http://fptshop.com.vn/Content/assest/images/no-avatar.png?v=9999'/>","<\/a>","<\/div>","<div class='media-body'>","<h4 class='media-heading'>"+t.username+"<\/h4>",""+t.comment,"<div class='trg-botcmm clearfix'>","<div class='left'>","<span class='comment-date'>",""+UtilModuleCommentProduct.getBackDate(new Date),"<\/span>","<span class='comment-like'><i class='icons like-icon'><\/i> <label class='number-like'>0<\/label><\/span>","<\/div>","<div class='right'>","<a data-id='"+t.id+"' class='like-comment' href='javascript:void(0);'>Thích<\/a>","<\/div>","<\/div>","<\/div>","<\/div>"].join("\n"))};CommentProduct.prototype.focusInputComment=function(){$(document).on("focus",".comment-box textarea",function(){var n=$(this);$(this).closest(".comment-box").find(".form-inline").show()})};CommentProduct.prototype.setLikeCommentInit=function(){var n=UtilModuleCommentProduct.getCookie(UtilModuleCommentProduct.configConstant().nameLikeCookie),t;$.trim(n)!==""&&(t=JSON.parse(n),$(document).find(".like-comment").each(function(){var n=$(this),i=n.next().attr("data-id");$.each(t,function(t,r){Number(i)===Number(r)&&n.addClass("liked").text("Bỏ thích")})}))};CommentProduct.prototype.saveLikeCommentToCookie=function(n,t){var r=UtilModuleCommentProduct.getCookie(UtilModuleCommentProduct.configConstant().nameLikeCookie),i=[];$.trim(r)&&(i=JSON.parse(r));t?i.push(n):i=$.grep(i,function(t){return Number(t)!=Number(n)});UtilModuleCommentProduct.setCookie(UtilModuleCommentProduct.configConstant().nameLikeCookie,JSON.stringify(i),365)};ToastSuccess=function(){this.closeToast()};ToastSuccess.prototype.buildHtmlToast=function(n){return $(["<div class='nts-toast' style='width:290px;z-index:9999;margin: 0 auto;position: fixed;top: 50%;left: 50%;margin-left: -145px;margin-top: -26px;'>","<div class='nts-wrapper' style='border:1px #71b371 solid;background: #71b371;color: #fff;height: auto;border-radius: 3px;-moz-border-radius: 3px;-webkit-border-radius: 3px;padding:12px 12px 10px 1px;;font-size:12px;line-height: 24px;position: relative;'>","<div class='nts-close' style='position: absolute;right: 5px;top: 0;cursor: pointer'>x<\/div>","<div class='nts-icon-success' style='position: absolute;background: url(http://fptshop.com.vn/Content/v3/images/icon_success.png);width: 32px;height : 32px;'>","<\/div>","<div class='nts-content' style='padding-left: 40px;text-align: center;'>"+n+"<\/div>","<\/div>","<\/div>"].join("\n"))};ToastSuccess.prototype.closeToast=function(){$(document).on("click",".nts-close",function(){$("body").find(".nts-toast").fadeOut("slow",function(){setTimeout(function(){this.remove()}.bind($(this)),1e3)})})};ToastSuccess.prototype.show=function(n){$("body").append(this.buildHtmlToast(n));setTimeout(function(){$("body").find(".nts-toast").fadeOut("slow",function(){setTimeout(function(){this.remove()}.bind($(this)),1e3)})},3e3)};UtilModuleCommentProduct=function(){var n,t,i,r,u,f,e,o,s;return n=function(){var n="http://api.fptshop.com.vn/Ajax/Comment/";return{linkApiGetListComment:n+"GetListComment",linkApiAddComment:n+"AddComment",linkApiLike:n+"Like",linkApiUnLike:n+"Unlike",linkGetNewComment:n+"GetLastestComment",linkApiAsync:"http://api.fptshop.com.vn/message"}},t=function(){return{productPage:1,news:2,landing:3,oldProduct:4}},i=function(n){var t=n,r="",i;return t!==""&&(t=t.replace(/!|\$|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\'| |\"|\&|\#|\[|\]|~/g," "),i=t.match(/\S+/g),$.each(i,function(n,t){r+=$.trim(t)+" "})),t},r=function(n){for(var r=n+"=",u=document.cookie.split(";"),t,i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return""},u=function(n,t,i){var r=new Date,u;r.setTime(r.getTime()+i*864e5);u="expires="+r.toUTCString();document.cookie=n+"="+t+"; "+u},e=function(n){var t="",i=Math.round((new Date-n)/864e5),r=Math.round((new Date-n)/36e5,1),u=Math.round((new Date-n)/6e3,1),f=Math.round((new Date-n)/1e3,1);return t=f+" giây trước",u>0&&(t=u+" phút trước"),r>0&&(t=r+" giờ trước"),i>0&&(t=i+" ngày trước"),i>30&&(t="vào ngày "+n.getDate()+"/"+date.getMonth()+1+"/"+date.getFullYear()),t},s=function(){$().toastmessage("showToast",{text:this.configConstant().messageSuccess,sticky:!0,position:"top-center",type:"success"})},f=function(){return{nameEmailCookie:"ftscustomerEmail",nameCustomerCookie:"ftscustomerName",namePhoneCookie:"ftscustomerPhone",messageSuccess:"<span>Bình luận của bạn đã được ghi nhận<\/span><br/><span>Chúng tôi sẽ phản hồi bạn sau ít phút nhé!<\/span>",nameLikeCookie:"ftsCokkieLL",imgLoading:"<img src='http://fptshop.com.vn/Content/images/ajax_loader_small.gif'>",imgBigLoading:"<img style='margin:0 auto;' src='http://fptshop.com.vn/Content/images/ajax_loader_big.gif'>",timerGetNewComment:12e4}},o=function(n){n&&$.each(n,function(n,t){$(document).find(t).val("")})},{linkAjax:n,modulId:t,standardizedString:i,getCookie:r,setCookie:u,getBackDate:e,configConstant:f,resetInput:o,showSuccessToast:s}}();window.fbAsyncInit=function(){FB.init({appId:"1468144196840722",status:!0,cookie:!0,xfbml:!0})},function(n){var t,i="facebook-jssdk",r=n.getElementsByTagName("script")[0];n.getElementById(i)||(t=n.createElement("script"),t.id=i,t.async=!0,t.src="//connect.facebook.net/en_US/all.js",r.parentNode.insertBefore(t,r))}(document);CommentProduct.prototype.buidPaging=function(n,t,i,r){var u="<ul class='tesst'>",e=r/i,o,s,f;for(r%i>0&&(e=e+1),t>n+1&&(u+="<li><a  class='pageNumber' data-page='1' href='javascript:;'>««<\/a><\/li>",u+="<li><a class='pageNumber' data-page='"+(t-1)+"' href='javascript:;'>«<\/a><\/li>",u+="<li>...<\/li>"),o=t-n>1?t-n:1,s=t+n>e?e:t+n,f=o;f<=s;f++)u+=f==t?"<li class=\"active\"><a class='pageNumber' data-page='"+f+"' href='javascript:;'>"+f+"<\/a><\/li>":"<li><a class='pageNumber' data-page='"+f+"' href='javascript:;'>"+f+"<\/a><\/li>";return(t<e-n&&(u+="<li>...<\/li>",u+="<li><a class='pageNumber' data-page='"+(t+1)+"' href='javascript:;'>»<\/a><\/li>",u+="<li><a class='pageNumber' data-page='"+e+"' href='javascript:;'>»»<\/a><\/li>"),u+="<\/ul>",e>1)?u:string.Empty};jfpts.main.callConsult=function(){jfpts.productdetail.callConsult()};jfpts.productdetail=function(){function i(n){if($('.cp-item[data-id="'+n+'"]').length>0){jfpts.utility.notifyWarning("Sản phẩm đã có trong danh sách so sánh !");return}$.get("/Ajax/Product/GetCompareProduct",{id:n},function(n){if(!n.error){var t=n.data,i='<li class="cp-cell cp-item" data-id="'+t.ID+'" data-ascii="'+t.NameAscii+'"><span class="cp-remove"><a class="icons grey-remove-icon"><\/a><\/span><div class="cp-item-image"><a href="/'+t.ProductType.NameAscii+"/"+t.NameAscii+'" target="_blank"><img src="'+jfpts.utility.getUrlPicture(t.UrlPicture)+'" title="" alt="" /><\/a><\/div><h3 class="cp-item-name"><a href="/'+t.ProductType.NameAscii+"/"+t.NameAscii+'" target="_blank">'+t.Name+"<\/a><\/h3>";t.ProductVariant.Price>0&&(i+='<span class="cp-viewing"><\/span><span class="cp-item-price"><span class="current-price"><strong>'+jfpts.utility.formatPrice(t.ProductVariant.Price)+"<\/strong>đ<\/span>",t.ProductVariant.PriceMarket>0&&(i+='<span class="old-price">'+jfpts.utility.formatPrice(t.ProductVariant.PriceMarket)+"đ<\/span>"),i+="<\/span>");i+='<div class="cp-item-promotion">'+t.PromotionInfo+"<\/div><\/li>";$("#cpProduct li:first").next().after(i);$("#cpProductPromotion li:first").next().after('<li class="cp-cell" data-ascii="'+t.NameAscii+'"><div class="cp-content">'+t.HightlightsDes+"<\/div><\/li>");$(".detail-cp-more").attr("href",$(".detail-cp-more").attr("href")+"-vs-"+t.NameAscii)}})}function r(){$("#modal-get-phone").length>0&&($("#modal-get-phone").modal("show"),$(".popbestseller").show(),ga("send","event","ProductDetail","OrderDetail",$(".detail-name").text()))}function u(n,t,i){var r="";n>0&&(r+='<div class="detail-current-price" data-price="'+n+'"><strong>'+jfpts.utility.formatPrice(n)+"<label>đ<\/label><\/strong>");n>0&&n<t&&(r+=' <span class="detail-old-price content-right">'+jfpts.utility.formatPrice(t)+"đ<\/span>");n>0&&(r+="<\/div>");$(".detail-listkm").length>0&&(r+='<div class="detail-listkm">'+$(".detail-listkm").html()+"<\/div>");$(".detail-price-status").html(r);$(".sp-detail-name").text("(No."+i+")")}function n(n,i,r,u,f,e,o,s,h,c,l,a,v,y,p){var b,w,k;if(!($(".box-get-info").length>0)){if(b=$("#productId").val(),w="",$(".detail-order .detail-countdown").length>0&&(w+='<div class="detail-countdown">'+$(".detail-order .detail-countdown").html()+"<\/div>"),v?w+='<a class="detail-order-out"><label>Ngừng kinh doanh<\/label><\/a>':n||(w+='<a class="detail-order-out"><label>Tạm hết hàng<\/label><\/a>'),n&&!v){var d=$("#productId").val()+"_1_"+$(".pd-box-color.choosen>span").attr("data-id"),g="http://fptshop.com.vn/gio-hang/them-vao-don-hang?product="+d,nt=$.cookie("vMobile");nt==1&&"9251,9252,9266,9460,9944,10013,15715,19948".indexOf($("#productId").val())<0?(w+='<a class="detail-order-now"><label>MUA NGAY<span>Giao tận nơi hoặc nhận ở cửa hàng<\/span><\/label><\/a>',ga("send","event","Desktop","popup","popup")):(w+='<a href="'+g+'" id="gotoCart" style="background: -webkit-gradient(linear,center top,center bottom,from(#ec1010),to(#da0b00));background: linear-gradient(#ec1010,#da0b00);background-color: #e60d0d;"><label>MUA NGAY<span>Giao tận nơi hoặc nhận ở cửa hàng<\/span><\/label><\/a>',ga("send","event","Desktop","FullFlowDesktop","FullFlowDesktop"))}n&&!v&&o&&(w+='<a href="javascript:;" class="detail-order-now" data-id="'+b+'" data-tales="'+s+'"><label>Đặt qua tổng đài<\/label><\/a><a href="javascript:;" class="detail-order-now" data-id="'+b+'" data-tales="'+h+'"><label>Đặt qua chat<\/label><\/a>');n&&!v&&a&&(w+='<a href="javascript:;" id="btnOrderPaymentOnline" data-id="'+b+'" class="detail-order-instalments"><label>Thanh toán online<span>(Visa, Master)<\/span><\/label><\/a>');n&&!v&&f&&(k="",k=document.location.pathname.split("/").length>=4?document.location.pathname.replace(document.location.pathname.split("/")[3],""):document.location.pathname,w+=p!=""&&p!=undefined?'<a href="'+k+"/"+y+'/tra-gop" class="detail-order-instalments"><label>TRẢ GÓP<span>Xét duyệt hồ sơ qua điện thoại<\/span><\/label><\/a>':'<a href="'+k+"/"+y+'/tra-gop" class="detail-order-instalments"><label>TRẢ GÓP<span>Xét duyệt hồ sơ qua điện thoại<\/span><\/label><\/a>');n&&!v&&i>1e6?(w+='<a href="javascript:;" class="detail-order-ffriend"><label><img src="/Content/Publishing/Images/logo-ff.png" alt=""><\/label><\/a>',w+='<p class="dt-notimain">Gọi <strong>18006601<\/strong> để được tư vấn miễn phí<\/p>'):w+='<a href="javascript:jfpts.productdetail.callConsult();" class="detail-order-call desk-ntc"><label>Gọi 1800 6601<span>(Tư vấn nhanh, cước gọi miễn phí)<\/span><\/label><\/a>';$(".detail-order").html(w);t()}}function f(n){$(".block-purchased-loaded").length==0&&$(".block-purchased-loading").length==0&&($(".block-purchased").addClass("block-purchased-loading"),$.get("/Ajax/Product/GetRecommendProductV3",{isExperiment:n,productId:$("#productId").val(),productName:$(".detail-name").text()},function(n){$(".block-purchased").addClass("block-purchased-loaded");$(".block-purchased").removeClass("block-purchased-loading");n.purchased!=""&&n.purchased!=null&&(ga("send","event","BigData","Recommentdation_Purchased",$(".detail-name").text()),$(".block-purchased").html(n.purchased).removeClass("display-none"));n.viewed!=""&&n.viewed!=null&&(ga("send","event","BigData","Recommentdation_Viewed",$(".detail-name").text()),$(".block-bviewed").html(n.viewed).removeClass("display-none"));var t=new Swiper(".detail-suggest-view .swiper-container",{grabCursor:!0,slidesPerView:"auto",calculateHeight:!0,preventClicks:!1,preventClicksPropagation:!0,onSwiperCreated:function(n){swiperControl(n)}}),i=new Swiper(".detail-suggest-buy .swiper-container",{grabCursor:!0,slidesPerView:"auto",calculateHeight:!0,preventClicks:!1,preventClicksPropagation:!0,onSwiperCreated:function(n){swiperControl(n)}});$('div[data-name="'+document.location.hash+'"]').length>0&&$(document).scrollTop()<$('div[data-name="'+document.location.hash+'"]').offset().top&&n.purchased!=""&&n.purchased!=null&&n.viewed!=""&&n.viewed!=null&&$("html, body").stop().animate({scrollTop:$('div[data-name="'+document.location.hash+'"]').offset().top-100},500)}))}function t(){if($("#detail-countdown-clock").length>0){var n=$("#detail-countdown-clock").attr("data-val");$("#detail-countdown-clock").countdown(n,function(n){$(this).html(n.strftime("%D <i>NGÀY<\/i> %H:%M:%S"))}).on("finish.countdown",function(){$(".detail-countdown").length>0&&$(".detail-countdown").remove();$(".detail-listorder").length>0&&$(".detail-listorder").remove();$(".detail-order-now").length>0&&$(".detail-order-now").html("<label>Đặt trước Online<span>(Tư vấn miễn phí, không mua không sao)<\/span><\/label>")})}}function e(){$(".detail-highlight-box .swiper-container").length!=0&&(jfpts.productdetail.highlightSlide=new Swiper(".detail-highlight-box .swiper-container",{calculateHeight:!0,pagination:".detail-highlight .detail-highlight-paging",paginationClickable:!0,preventClicks:!1,preventClicksPropagation:!1,autoplay:0,loop:!0,nextButton:".detail-highlight .swiper-button-next",prevButton:".detail-highlight .swiper-button-prev",onSwiperCreated:function(n){$(n.slides[n.activeIndex]).find("img").attr("src",$(n.slides[n.activeIndex]).find("img").attr("data-original"))},onSlideChangeEnd:function(n){$(n.slides[n.activeIndex]).find("img").attr("src",$(n.slides[n.activeIndex]).find("img").attr("data-original"));$(".detail-highlight-paging .swiper-pagination-bullet").removeClass("swiper-pagination-bullet-active");var t=n.activeIndex-1;t=$(".detail-highlight-paging .swiper-pagination-bullet:nth("+t+")").length>0?t:0;$(".detail-highlight-paging .swiper-pagination-bullet:nth("+t+")").addClass("swiper-pagination-bullet-active")}}))}function o(){$(".detail-image-box .swiper-container").length!=0&&(jfpts.productdetail.suggestSwiper=new Swiper(".detail-image-box .swiper-container",{grabCursor:!0,paginationClickable:!0,preventClicks:!1,preventClicksPropagation:!1,autoplay:0,loop:!0,onInit:function(n){common.swiperControl(n);$(".detail-image .detail-thumbnail>a").removeClass("active");$(".detail-image .detail-thumbnail>a:nth(0)").addClass("active");$(".detail-image .detail-thumbnail>a").click(function(t){t.preventDefault();$(".detail-image .detail-thumbnail>a").removeClass("active");$(this).addClass("active");n.slideTo($(this).index()+1)})},onSwiperCreated:function(n){var t=$(n.slides[n.activeIndex]),i;t.hasClass("swiper-slide-video")==!1&&t.hasClass("swiper-slide-360")==!1&&t.find("img").attr("src",t.find("img").attr("data-original"));t.hasClass("swiper-slide-video")==!0&&t.html('<iframe src="'+t.attr("data-src")+'"><\/iframe>');t.hasClass("swiper-slide-360")==!0&&(i=$(".car").attr("data-img").split(","),$(".car").ThreeSixty({totalFrames:i.length,endFrame:i.length,currentFrame:1,imgList:".threesixty_images",progress:".spinner",imgArray:i.reverse(),height:415,width:792,navigation:!1}))},onSlideChangeEnd:function(n){var t,i;$(".detail-image .detail-thumbnail>a").removeClass("active");$(".detail-image .detail-thumbnail>a:nth("+(n.activeIndex-1)+")").addClass("active");t=$(n.slides[n.activeIndex]);t.hasClass("swiper-slide-video")==!1&&t.hasClass("swiper-slide-360")==!1&&t.find("img").attr("src",t.find("img").attr("data-original"));t.hasClass("swiper-slide-video")==!0&&t.html('<iframe src="'+t.attr("data-src")+'"><\/iframe>');t.hasClass("swiper-slide-360")==!0&&(i=$(".car").attr("data-img").split(","),$(".car").ThreeSixty({totalFrames:i.length,endFrame:i.length,currentFrame:1,imgList:".threesixty_images",progress:".spinner",imgArray:i.reverse(),height:415,width:792,navigation:!1}))}}))}function s(){$(".detail-specific-more").length!=0&&$(".detail-specific-more").click(function(n){n.preventDefault();$(".more-specification").toggleClass("active");$(".detail-specific-more").toggleClass("active");$(".detail-specific-more").hasClass("active")==!1&&$("html, body").stop().animate({scrollTop:$(".detail-specific-more").offset().top-100},500)})}function h(){$(window).bind("scroll",function(){$(this).scrollTop()>700?$(".detail-menu.fixed,.detail-menu").addClass("active"):$(".detail-menu.fixed,.detail-menu").removeClass("active");$(".detail-menu ul li a").removeClass("active");for(var n=0;n<$('div[data-name^="#"]').length;n++)if($(document).scrollTop()>$('div[data-name="'+$($('div[data-name^="#"]')[n]).attr("data-name")+'"]').offset().top-200&&$(document).scrollTop()<=$('div[data-name="'+$($('div[data-name^="#"]')[n]).attr("data-name")+'"]').offset().top+$('div[data-name="'+$($('div[data-name^="#"]')[n]).attr("data-name")+'"]').height()-100){$(".detail-menu ul li a").removeClass("active");$('.detail-menu ul li a[href="'+$($('div[data-name^="#"]')[n]).attr("data-name")+'"]').addClass("active");break}});$('.detail-menu ul li:not(".bt-detail-menu") a').click(function(n){var i,t;if(n.preventDefault(),$(".detail-menu ul li a").removeClass("active"),$(this).addClass("active"),i=$('div[data-name="'+$(this).attr("href")+'"]'),$(this).attr("href")=="#huong-dan-su-dung"){t=document.location.pathname;t=t.replace("/danh-gia-chi-tiet","");t=t.replace("/tin-tham-khao","");t=t.replace("/huong-dan-su-dung","");t.substring(t.length-1,t.length)=="/"&&(t=t.substring(0,t.length-1));document.location.href=t+"/huong-dan-su-dung";$("html, body").animate({scrollTop:$('div[data-name="'+$(this).attr("href")+'"]').offset().top-70},"slow");return}i.length==0&&document.location.pathname.indexOf("danh-gia-chi-tiet")>-1&&(document.location.href=document.location.pathname.replace("/danh-gia-chi-tiet","")+$(this).attr("href"));i.length==0&&document.location.pathname.indexOf("tin-tham-khao")>-1&&(document.location.href=document.location.pathname.replace("/tin-tham-khao","")+$(this).attr("href"));i.length==0&&document.location.pathname.indexOf("huong-dan-su-dung")>-1&&(document.location.href=document.location.pathname.replace("/huong-dan-su-dung","")+$(this).attr("href"));$("html, body").animate({scrollTop:$('div[data-name="'+$(this).attr("href")+'"]').offset().top-70},"slow")})}function c(){$(".box-get-info form").validate({rules:{name:{required:!0},phone:{required:!0,number:!0}},messages:{name:"Bạn vui lòng nhập tên.",phone:"Bạn vui lòng nhập số điện thoại."},submitHandler:function(){if($(".detail-order .btn-success").hasClass("updata")==!0)return!1;if($(".detail-order .btn-success").hasClass("isUpdata")==!0)return jfpts.utility.notifyWarning("Xin lỗi ! Bạn đã đăng ký nhận thông tin."),!1;$(".detail-order .btn-success").addClass("updata");jfpts.utility.showLoading();var n=$("#productId").val(),t=$('.box-get-info input[name="name"]').val(),i=$('.box-get-info input[name="phone"]').val(),r=$('.box-get-info input[name="__RequestVerificationToken"]').val();return $.post("/Ajax/Product/AddEmailReceivePromotion",{__RequestVerificationToken:r,productId:n,name:t,phone:i},function(t){if(jfpts.utility.hideLoading(),t.error){if(n==9843){$("body").append("<div class='modal fade modal-order' tabindex='-1' role='dialog' aria-labelledby='myLargeModalLabel' data-order='Đặt hàng online'><div class='modal-dialog modal-lg'><div class='modal-content'><div class='fpt-popup-main'><a href='javascript:;' class='fpt-popup-close close-f-modal' data-dismiss='modal'><\/a><div class='fpt-popup-header'>Cảm ơn bạn<\/div><div class='fpt-popup-content receive-consult-success'><i class='icon-lager-scueess'><\/i><p>Chúng tôi đã nhận được yêu cầu nghe tư vấn của bạn. <\/p><p>Tổng đài viên FPT Shop sẽ liên lạc với bạn trong vòng 30 phút <\/p><p>từ số máy gọi đến <b>08 7300 6606<\/b>.<\/p><a class='close-consult-success' href='javascript:;' data-dismiss='modal'>Đồng ý<\/a><\/div><\/div><\/div><\/div><\/div>");$("#on7div").load("/displayOn9.html?v=15");$(".modal-order").modal("show");$(".modal-order").on("hidden.bs.modal",function(){$(".not-orderdt").removeClass("not-orderdt");$(".modal-order").remove()})}else jfpts.utility.notifySuccess("Bạn đã đăng ký nhận thông tin thành công.");$(".detail-order .btn-success").removeClass("updata").addClass("isUpdata");$('.box-get-info input[name="name"]').val("");$('.box-get-info input[name="phone"]').val("")}else jfpts.utility.notifyWarning("Xin lỗi ! đăng ký nhận thông tin không thành công. Bạn hãy thử lại"),$(".detail-order .btn-success").removeClass("updata").addClass("isUpdata"),$('.box-get-info input[name="name"]').val(""),$('.box-get-info input[name="phone"]').val("")}).error(function(){jfpts.utility.notifyWarning("Xin lỗi ! có lỗi xảy ra. Bạn hãy thử lại")}),!1}})}function l(){$(".ppo_best_form").length>0&&$(".ppo_best_form").validate({rules:{phone:{required:!0,minlength:9,number:!0}},messages:{phone:"Bạn vui lòng nhập số điện thoại."},submitHandler:function(){var u=$('.ppo_best_form input[name="phone"]').val(),f=$(".detail-color .chosen-color:first").attr("data-id"),e,n,t,i,r;return $.post("/Ajax/Order/AddOrder",{sourceName:"Đặt từ SĐT đăng ký",CampaignID:0,TotalPriceCampaignOrder:"",productVariantId:f,gender:1,name:"BestSeller",email:"",phone:u,address:"",city:0,district:0,couponCode:"",accessories:"",talesSales:1,ArrPromotioID:"",typePayment:"boxselectShop",refered:"jfpts.com.vn",shopname:"",storeid:0,sendoid:"",codeEmployee:""},function(n){if(n.Error.toString()=="false"){$('.ppo_best_form input[name="phone"]').val("");$(".modal-get-phone").modal("hide");$("body").append(n.Messenger);$(".modal-order").modal("show");$(".modal-order").on("hidden.bs.modal",function(){$(".not-orderdt").removeClass("not-orderdt");$(".modal-order").remove()})}else jfpts.utility.notifyWarning("Xin lỗi ! gửi thông tin không thành công. Bạn vui lòng thử lại")}),e="Bestseller",n=$.cookie("customerName"),(n==null||n=="undefined")&&(n=""),t=$.cookie("customerEmail"),(t==null||t=="undefined")&&(t=""),i=$.cookie("customerID"),(i==null||i=="undefined")&&(i=""),r=$("#productId").val(),(r==null||r=="undefined")&&(r=0),!1}})}function a(){$("#frmRating").validate({rules:{txtNoteRating:{required:!0},txtNameRating:{required:!0},txtEmailRating:{required:!0,email:!0}},messages:{txtNoteRating:"Bạn đánh giá sản phẩm ?",txtNameRating:"Bạn cần nhập tên",txtEmailRating:"Bạn cần nhập email"},submitHandler:function(){var n=$("#txtNoteRating").val(),t=$("#txtNameRating").val(),i=$("#txtEmailRating").val(),r=$('.box-star-submit .icons[data-mark="true"]').length;return jfpts.utility.showLoading(),$.post("/Ajax/Product/AddRattingProduct",{note:n,name:t,email:i,rating:r,idProduct:$("#productId").val()},function(n){jfpts.utility.hideLoading();n.error?jfpts.utility.notifyWarning("Có lỗi xảy ra, bạn hãy thử lại !"):($(".detail-rating-dropdown").remove(),jfpts.utility.notifySuccess("Đánh giá thành công."))}),!1}});$(".box-star .icons").hover(function(n){n.preventDefault();$(this).attr({"class":"icons yellow-star","data-mark":"true"});$(this).nextAll(".icons").removeAttr("class").attr({"class":"icons grey-star","data-mark":"false"});$(this).prevAll(".icons").removeAttr("class").attr({"class":"icons yellow-star","data-mark":"true"})},function(){});$(".box-star").hover(function(n){n.preventDefault()},function(){$(".box-star .icons").each(function(){$(this).removeAttr("data-active");$(this).attr("class",$(this).data("old"))})});$(".open-rating").click(function(n){n.preventDefault();$(".detail-rating.box-star .icons").each(function(n){$(".box-star-submit .icons:nth("+n+")").attr({"class":$(this).attr("class"),"data-mark":$(this).attr("data-mark")})});$(".detail-rating-dropdown").toggle(100)});$(".to-detail-rating").click(function(n){n.preventDefault();$("html, body").stop().animate({scrollTop:$(".detail-rating-info").offset().top-100},500)})}function v(){$(document).on("click",".cp-remove",function(n){n.preventDefault();$(this).closest("li").remove();$('#cpProductPromotion li[data-ascii="'+$(this).closest("li").attr("data-ascii")+'"]').remove();$(".detail-cp-more").attr("href",$(".detail-cp-more").attr("href").replace("-vs-"+$(this).closest("li").attr("data-ascii"),""))});$(".compare-search").keyup(function(){$keyword=$(this).val();typeof xhrComplete!="undefined"&&xhrComplete.abort();xhrComplete=$.get("/Ajax/SearchLucene/AutoComplete",{searchTerm:decodeURI($keyword),searchField:"NameProduct",searchDefault:""},function(n){n._searchResults==""?$(".atc-result").html("<ul><li>Không tìm thấy<\/li><\/ul>"):($(".atc-result").html("<ul><\/ul>"),$.each(n._searchResults,function(n,t){$(".atc-result ul").append('<li data-id="'+t.ID+'" onclick="jfpts.productdetail.addProductCompare('+t.ID+')">'+t.NameProduct+"<\/li>")}))})})}function y(){$(".detail-ads").length>0&&$(".detail-ads").stick_in_parent({offset_top:60,recalc_every:1});$(".detail-adsd3").length>0&&$(".detail-adsd3").stick_in_parent({offset_top:60,recalc_every:1});$(".ads-bottom").length>0&&$(".ads-bottom").sticky({topSpacing:80,bottomSpacing:$("footer").outerHeight(!0)+30});$(".tooltip-preorder").length>0&&$(".tooltip-preorder").tooltipster({offsetY:2,theme:"tooltipster-shadow"})}function p(){$(document).on("click",".detail-order .detail-order-now, .menu-order-now, .detail-order-bulk, .detail-order-now-t, .detail-order-recu,.order_ldlanding",function(n){if(n.preventDefault(),$(this).hasClass("not-orderdt")==!1){$(this).addClass("not-orderdt");var t=$("#productId").val(),i=$(".chosen-color:first").attr("data-id"),r=null,u=0,f=1,e=$(".detail-current-price").attr("data-price");if($(this).hasClass("detail-order-bulk")){jfpts.data.addOrderBulk(t,i,r,u,f,e);return}if($(this).hasClass("detail-order-recu")){jfpts.data.addOrderRecuring(t,i,r,u,f,e);return}ga("send","event","ProductDetail","OrderDetail",$(".detail-name").text());jfpts.data.addOrder(t,i,r,u,f,e)}});$(document).on("click",".detail-order-ffriend",function(n){n.preventDefault();var t=$("#productId").val(),i=$(".chosen-color:first").attr("data-id"),r=$(".detail-current-price").attr("data-price");ga("send","event","ProductDetail","OrderDetail",$(".detail-name").text());jfpts.data.addOrderFfriend(t,i,null,0,1,r)});$(".chosen-color").click(function(t){t.preventDefault();$(".pd-box-color.choosen").removeClass("choosen");$(this).parent().addClass("choosen");var e=$(this).attr("data-button").toLowerCase()=="true",i=parseFloat($(this).attr("data-price")),r=parseFloat($(this).attr("data-pricemarket")),o=$(this).attr("data-callprice").toLowerCase()=="true",s=$(this).attr("data-isrecurring").toLowerCase()=="true",h=$(this).attr("data-islanding").toLowerCase()=="true",c=$(this).attr("data-isseller").toLowerCase()=="true",l=$(this).attr("data-seller"),a=$(this).attr("data-support"),v=$(this).attr("data-bestpricecampaign"),y=parseFloat($(this).attr("data-pricerecurring")),p=$(this).attr("data-sku"),w=$(this).attr("data-ispaymentonline").toLowerCase()=="true",b=$(this).attr("data-isnotbusiness").toLowerCase()=="true",k=$(this).attr("data-hotrepayment"),f=$(this).attr("data-id");u(i,r,p);n(e,i,r,o,s,h,c,l,a,v,y,w,b,f,k);jfpts.utility.showLoading();$.get("/Ajax/Product/GetPicturesProductVariant",{id:f},function(n){n&&($("#slider-image").html(n),$(".pgwSlider").pgwSlider({autoSlide:!1,displayControls:!1,listPosition:"left"}));jfpts.utility.hideLoading()})});var t=1,i=1,r=null,f=null,e=!0,o=!0;$(document).on("click",".detail-listorder",function(){$("#ds-khach-dat-hang").html("");t=1;i=1;$("#ds-khach-dat-coc").html("");jfpts.utility.showLoading();var n=$("#productId").val();$.get("/Ajax/Order/GetlistCustomerOrderOnline",{productId:n,page:t},function(u){if(u!=null){var s="";u.joinProduct.length>0?$.each(u.joinProduct,function(n,i){s+="<tr>";s+="<td>"+((t-1)*10+n+1)+"<\/td>";s+="<td><span>"+i.Name+"<\/span><\/td>";s+="<td>"+i.Phone+"<\/td>";s+="<\/tr>"}):t==1&&(s='<tr><td colspan="3">Dữ liệu đang cập nhật...<\/td><\/tr>');$("#ds-khach-dat-hang").append(s);$.get("/Ajax/Order/GetlistCustomerPostDeposit",{productId:n,page:i},function(u){if(u!=null){var s="";u.joinProduct.length>0?$.each(u.joinProduct,function(n,t){s+="<tr>";s+="<td>"+((i-1)*10+n+1)+"<\/td>";s+="<td><span>"+t.TenKH+"<\/span><\/td>";s+="<td>"+t.SDT+"<\/td>";s+="<\/tr>"}):i==1&&(s='<tr><td colspan="3">Dữ liệu đang cập nhật...<\/td><\/tr>');$("#ds-khach-dat-coc").append(s);$("#MyListOrder").modal("show");$("#MyListOrder").on("shown.bs.modal",function(){$("#div-ds-khach-dat-hang").hasClass("mCustomScrollbar")||$("#div-ds-khach-dat-hang").mCustomScrollbar({callbacks:{onTotalScroll:function(){r==null&&e&&(t=t+1,jfpts.utility.showLoading(),r=$.get("/Ajax/Order/GetlistCustomerOrderOnline",{productId:n,page:t},function(n){if(n!=null){var i="";n.joinProduct.length>0?(n.joinProduct.length<10&&(e=!1),$.each(n.joinProduct,function(n,r){i+="<tr>";i+="<td>"+((t-1)*10+n+1)+"<\/td>";i+="<td><span>"+r.Name+"<\/span><\/td>";i+="<td>"+r.Phone+"<\/td>";i+="<\/tr>"})):t==1&&(i='<tr><td colspan="3">Dữ liệu đang cập nhật...<\/td><\/tr>');$("#ds-khach-dat-hang").append(i);$("#div-ds-khach-dat-hang").mCustomScrollbar("update");r=null}}),jfpts.utility.hideLoading())}}});$("#div-ds-khach-dat-coc").hasClass("mCustomScrollbar")||$("#div-ds-khach-dat-coc").mCustomScrollbar({callbacks:{onTotalScroll:function(){f==null&&o&&(i=i+1,jfpts.utility.showLoading(),f=$.get("/Ajax/Order/GetlistCustomerPostDeposit",{productId:n,page:i},function(n){if(n!=null){var t="";n.joinProduct.length>0?(n.joinProduct.length<10&&(o=!1),$.each(n.joinProduct,function(n,r){t+="<tr>";t+="<td>"+((i-1)*10+n+1)+"<\/td>";t+="<td><span>"+r.TenKH+"<\/span><\/td>";t+="<td>"+r.SDT+"<\/td>";t+="<\/tr>"})):i==1&&(t='<tr><td colspan="3">Dữ liệu đang cập nhật...<\/td><\/tr>');$("#ds-khach-dat-coc").append(t);$("#ds-khach-dat-coc").mCustomScrollbar("update");f=null}}),jfpts.utility.hideLoading())}}})})}})}});jfpts.utility.hideLoading()});$(document).on("click","#btnOrderPaymentOnline",function(n){n.preventDefault();var u=$(this).data("id"),t=getURLParameter("source"),i=$(this).data("cam"),r=$(".lineprice span").attr("data-money");typeof i=="undefined"&&(i=0);typeof t=="null"&&(t="");r==="undefined"&&(r=0);typeof key=="undefined"&&(key=!1);jfpts.data.addOrderPayment(u,i,r,t)});ga("send",{hitType:"pageview",page:"/virtual/detail",title:"Product detail"})}function w(){var t=$(".pd-box-color.choosen>span"),i=t.attr("data-button").toLowerCase()=="true",r=parseFloat(t.attr("data-price")),u=parseFloat(t.attr("data-pricemarket")),f=t.attr("data-callprice").toLowerCase()=="true",e=t.attr("data-isrecurring").toLowerCase()=="true",o=t.attr("data-islanding").toLowerCase()=="true",s=t.attr("data-isseller").toLowerCase()=="true",h=t.attr("data-seller"),c=t.attr("data-support"),l=t.attr("data-bestpricecampaign"),a=parseFloat(t.attr("data-pricerecurring")),b=t.attr("data-sku"),v=t.attr("data-ispaymentonline").toLowerCase()=="true",y=t.attr("data-isnotbusiness").toLowerCase()=="true",p=t.attr("data-hotrepayment"),w=t.attr("data-id");n(i,r,u,f,e,o,s,h,c,l,a,v,y,w,p)}function b(n){if(n!=null&&n!=""&&!n.error&&n.content!=""){var t=$(".detail-color .chosen-color:first").length>0?$(".detail-color .chosen-color:first").attr("data-sku"):$("#itemCode").val(),i=document.location.pathname.split("/")[1],r=parseInt($(".detail-info").attr("data-bid"));$("body").append(n.content);ga("send","event","OrderGP_"+i+"_"+t,"OrderGP_"+i+"_"+t,"OrderGP_"+i+"_"+t);$(".fu-voucher-btnnhan").click(function(n){n.preventDefault();$('.fu-dn-color li[data-id="'+$(".choosen .chosen-color").attr("data-id")+'"]').addClass("active");$(".fu-dn-color li").click(function(n){n.preventDefault();$(".fu-dn-color li").removeClass("active");$(this).addClass("active")});$("#PuVoucher").modal("hide");$("#PuDatNgay").modal("show")});$(".fu-voucher-btnno").click(function(n){n.preventDefault();$("#PuVoucher").modal("hide")});$("#PuVoucher").on("show.bs.modal",function(){ga("send","event","OrderGP_ShowPopupVoucher_"+i+"_"+t,"OrderGP_ShowPopupVoucher_"+i+"_"+t,"OrderGP_ShowPopupVoucher_"+i+"_"+t);k()});$("#PuVoucher").on("hide.bs.modal",function(){ga("send","event","OrderGP_HidePopupVoucher_"+i+"_"+t,"OrderGP_HidePopupVoucher_"+i+"_"+t,"OrderGP_HidePopupVoucher_"+i+"_"+t)});$("#PuVoucher").on("hidden.bs.modal",function(){$("#PuVoucher").remove()});$("#PuDatNgay").on("show.bs.modal",function(){ga("send","event","OrderGP_ShowPopupOrder_"+i+"_"+t,"OrderGP_ShowPopupOrder_"+i+"_"+t,"OrderGP_ShowPopupOrder_"+i+"_"+t)});$("#PuDatNgay").on("hide.bs.modal",function(){ga("send","event","OrderGP_HidenPopupOrder_"+i+"_"+t,"OrderGP_HidenPopupOrder_"+i+"_"+t,"OrderGP_HidenPopupOrder_"+i+"_"+t)});$("#PuDatNgay").on("hidden.bs.modal",function(){$("#PuDatNgay").remove()});d()}}function k(){}function d(){$(".fodp").validate({rules:{name:{required:!0},phone:{required:!0,number:!0}},messages:{name:"Bạn vui lòng nhập tên",phone:"Bạn vui lòng nhập đúng số điện thoại"},highlight:function(n){$(n).closest(".form-group").removeClass("has-success").addClass("has-error");$(n).closest(".form-group").find(".error").removeClass("hidden")},success:function(n){$(n).closest(".form-group").removeClass("has-error").addClass("has-success");$(n).closest(".form-group").find(".error").addClass("hidden")},submitHandler:function(){if(!$(".fodp").hasClass("isPostingODP")){$(".fodp").addClass("isPostingODP");var n=$(".detail-color .chosen-color:first").length>0?$(".detail-color .chosen-color:first").attr("data-sku"):$("#itemCode").val(),t=document.location.pathname.split("/")[1];return ga("send","event","OrderGP_OrderSubmit_"+t+"_"+n,"OrderGP_OrderSubmit_"+t+"_"+n,"OrderGP_OrderSubmit_"+t+"_"+n),jfpts.utility.showLoading(),$.post("/Ajax/Order/AddOrderDP",{data:JSON.stringify({userId:$.cookie("log_6dd5cf4a-73f7-4a79-b6d6-b686d28583fc"),itemCode:n,name:$('.fodp input[name="name"]').val(),phone:$('.fodp input[name="phone"]').val(),email:$('.fodp input[name="email"]').val(),clientId:$("#clientidDP").val(),refered:typeof $.cookie(nameCookieJsScript)!="undefined"?$.cookie(nameCookieJsScript):document.referrer,source:"PynamicPricing_"+$("#PuDatNgay").attr("data-type"),total:$(".choosen .chosen-color").attr("data-price"),productVariantId:$(".detail-color .chosen-color:first").length>0?$(".detail-color .chosen-color:first").attr("data-id"):$("#itemId").val()})},function(i){if(jfpts.utility.hideLoading(),i.error)jfpts.utility.notifyWarning(i.message);else{$("#PuDatNgay").modal("hide");$("body").append(i.message);$("#PuDatThanhCong").modal("show");$("#PuDatThanhCong").on("hidden.bs.modal",function(){$("#PuDatThanhCong").remove()});ga("send","event","OrderGP_OrderSuccess_"+t+"_"+n,"OrderGP_OrderSuccess_"+t+"_"+n,"OrderGP_OrderSuccess_"+t+"_"+n)}}),!1}}})}return{addProductCompare:i,getDataFromFTG:f,callConsult:r,setupCountdown:t,initHighlightSlide:e,initImageSlide:o,initSpecification:s,initDetailMenu:h,initFormComingSoon:c,initFormGetPhone:l,initCompare:v,initRating:a,initStickyAndTooltip:y,initEventProduct:p,getVoucer:b,loadButton:w}}();$(document).ready(function(){var t,i,n;jfpts.productdetail.loadButton();t=$("#productId").val()+"_1_"+$(".pd-box-color.choosen>span").attr("data-id");i="http://fptshop.com.vn/gio-hang/them-vao-don-hang?product="+t;$("#gotoCart").attr("href",i);jfpts.productdetail.setupCountdown();jfpts.productdetail.getDataFromFTG(!0);jfpts.productdetail.setupCountdown();jfpts.productdetail.initHighlightSlide();jfpts.productdetail.initImageSlide();jfpts.productdetail.initSpecification();jfpts.productdetail.initDetailMenu();jfpts.productdetail.initFormComingSoon();jfpts.productdetail.initFormGetPhone();jfpts.productdetail.initRating();jfpts.productdetail.initCompare();jfpts.productdetail.initStickyAndTooltip();jfpts.productdetail.initEventProduct();$("header").addClass("detail-page");$("body").click(function(){$(".atc-result").html("")});$(".detail-promotion-box").length>0&&$(".detail-promotion-box").find("#f12").replaceWith("<a class='detail-order-now-t' title='Đặt online' style='color:red;text-decoration: none;'><strong>Đặt Online<\/strong><\/a>");$(".btn-fodp").length>0&&$(window).width()<1024&&$(".header-hotline").remove();(document.location.pathname.indexOf("tin-tham-khao")>-1||document.location.pathname.indexOf("huong-dan-su-dung")>-1)&&$.get("/Ajax/Product/GetTotalCommentByProduct",{productId:productId.value},function(n){n!=null&&n.total>0&&$('.detail-menu ul li a[href="#binh-luan"] label').text(n.total)});$(".detail-nmright-list >li >a").each(function(){location.search.split("=")[2]==$(this).attr("data-name")&&$(this).css("font-weight","bold")});$(window).load(function(){$(".detail-review-post").length>0&&$("html, body").stop().animate({scrollTop:$(".detail-review-post").offset().top-100},500);$('div[data-name="'+document.location.hash+'"]').length>0&&($(".detail-menu ul li a.active").removeClass("active"),$('.detail-menu ul li a[href="'+document.location.hash+'"]').addClass("active"),$("html, body").stop().animate({scrollTop:$('div[data-name="'+document.location.hash+'"]').offset().top-100},500))});n=$("#productId").val();$("#lstpro_spin").val()!=null&&$("#lstpro_spin").val().split(",").indexOf(n)>0&&$.get("/Ajax/Product/CheckProductLuckyDraw",{productID:n,ip:""},function(n){n!=undefined&&n!=null&&n.check!=undefined&&n.check&&$(".f-spin-detail").append('<a href="javascript:;" id="fStartSpin"><img src="/Content/v3/images/quay-ngay.png" /><\/a>')});$(document).on("click","#fStartSpin",function(t){t.preventDefault();$(".f-spin-popup")&&$(".f-spin-popup").length>0&&$(".f-spin-popup").remove();$.get("/Ajax/Product/CheckProductLuckyDraw",{productID:n,ip:""},function(n){if(n!=undefined&&n!=null)if(n.check!=undefined&&n.check)$("#main").append(n.content);else return alert("Chương trình quay số không áp dụng cho sản phẩm này !"),!1;else return alert("Chức năng quay số đang được bảo trì. Vui lòng thử lại sau."),!1})});$(".pgwSlider").pgwSlider({autoSlide:!1,displayControls:!1,listPosition:"left"})});!function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){"use strict";function f(n){if(n instanceof Date)return n;if(String(n).match(t))return String(n).match(/^[0-9]*$/)&&(n=Number(n)),String(n).match(/\-/)&&(n=String(n).replace(/\-/g,"/")),new Date(n);throw new Error("Couldn't cast `"+n+"` to a date object.");}function e(n){return function(t){var e=t.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi),f,s;if(e)for(f=0,s=e.length;s>f;++f){var r=e[f].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/),c=new RegExp(r[0]),h=r[1]||"",l=r[3]||"",i=null;r=r[2];u.hasOwnProperty(r)&&(i=u[r],i=Number(n[i]));null!==i&&("!"===h&&(i=o(l,i)),""===h&&10>i&&(i="0"+i.toString()),t=t.replace(c,i.toString()))}return t.replace(/%%/,"%")}}function o(n,t){var i="s",r="";return n&&(n=n.replace(/(:|;|\s)/gi,"").split(/\,/),1===n.length?i=n[0]:(r=n[0],i=n[1])),1===Math.abs(t)?r:i}var s=100,i=[],t=[],u,r;t.push(/^[0-9]*$/.source);t.push(/([0-9]{1,2}\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source);t.push(/[0-9]{4}([\/\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source);t=new RegExp(t.join("|"));u={Y:"years",m:"months",w:"weeks",d:"days",D:"totalDays",H:"hours",M:"minutes",S:"seconds"};r=function(t,r,u){this.el=t;this.$el=n(t);this.interval=null;this.offset={};this.instanceNumber=i.length;i.push(this);this.$el.data("countdown-instance",this.instanceNumber);u&&(this.$el.on("update.countdown",u),this.$el.on("stoped.countdown",u),this.$el.on("finish.countdown",u));this.setFinalDate(r);this.start()};n.extend(r.prototype,{start:function(){null!==this.interval&&clearInterval(this.interval);var n=this;this.update();this.interval=setInterval(function(){n.update.call(n)},s)},stop:function(){clearInterval(this.interval);this.interval=null;this.dispatchEvent("stoped")},pause:function(){this.stop.call(this)},resume:function(){this.start.call(this)},remove:function(){this.stop();i[this.instanceNumber]=null;delete this.$el.data().countdownInstance},setFinalDate:function(n){this.finalDate=f(n)},update:function(){return 0===this.$el.closest("html").length?void this.remove():(this.totalSecsLeft=this.finalDate.getTime()-(new Date).getTime(),this.totalSecsLeft=Math.ceil(this.totalSecsLeft/1e3),this.totalSecsLeft=this.totalSecsLeft<0?0:this.totalSecsLeft,this.offset={seconds:this.totalSecsLeft%60,minutes:Math.floor(this.totalSecsLeft/60)%60,hours:Math.floor(this.totalSecsLeft/3600)%24,days:Math.floor(this.totalSecsLeft/86400)%7,totalDays:Math.floor(this.totalSecsLeft/86400),weeks:Math.floor(this.totalSecsLeft/604800),months:Math.floor(this.totalSecsLeft/2592e3),years:Math.floor(this.totalSecsLeft/31536e3)},void(0===this.totalSecsLeft?(this.stop(),this.dispatchEvent("finish")):this.dispatchEvent("update")))},dispatchEvent:function(t){var i=n.Event(t+".countdown");i.finalDate=this.finalDate;i.offset=n.extend({},this.offset);i.strftime=e(this.offset);this.$el.trigger(i)}});n.fn.countdown=function(){var t=Array.prototype.slice.call(arguments,0);return this.each(function(){var e=n(this).data("countdown-instance"),u,f;void 0!==e?(u=i[e],f=t[0],r.prototype.hasOwnProperty(f)?u[f].apply(u,t.slice(1)):null===String(f).match(/^[$A-Z_][0-9A-Z_$]*$/i)?(u.setFinalDate.call(u,f),u.start()):n.error("Method %s does not exist on jQuery.countdown".replace(/\%s/gi,f))):new r(this,t[0],t[1])})}}),function(n){function i(t){var i=t||window.event,e=[].slice.call(arguments,1),r=0,f=0,u=0;return t=n.event.fix(i),t.type="mousewheel",i.wheelDelta&&(r=i.wheelDelta/120),i.detail&&(r=-i.detail/3),u=r,i.axis!==undefined&&i.axis===i.HORIZONTAL_AXIS&&(u=0,f=-1*r),i.wheelDeltaY!==undefined&&(u=i.wheelDeltaY/120),i.wheelDeltaX!==undefined&&(f=i.wheelDeltaX/-120),e.unshift(t,r,f,u),(n.event.dispatch||n.event.handle).apply(this,e)}var t=["DOMMouseScroll","mousewheel"],r;if(n.event.fixHooks)for(r=t.length;r;)n.event.fixHooks[t[--r]]=n.event.mouseHooks;n.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var n=t.length;n;)this.addEventListener(t[--n],i,!1);else this.onmousewheel=i},teardown:function(){if(this.removeEventListener)for(var n=t.length;n;)this.removeEventListener(t[--n],i,!1);else this.onmousewheel=null}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})}(jQuery),function(n){var i={init:function(t){var i={set_width:!1,set_height:!1,horizontalScroll:!1,scrollInertia:950,mouseWheel:!0,mouseWheelPixels:"auto",autoDraggerLength:!0,autoHideScrollbar:!1,alwaysShowScrollbar:!1,snapAmount:null,snapOffset:0,scrollButtons:{enable:!1,scrollType:"continuous",scrollSpeed:"auto",scrollAmount:40},advanced:{updateOnBrowserResize:!0,updateOnContentResize:!1,autoExpandHorizontalScroll:!1,autoScrollOnFocus:!0,normalizeMouseWheelDelta:!1},contentTouchScroll:!0,callbacks:{onScrollStart:function(){},onScroll:function(){},onTotalScroll:function(){},onTotalScrollBack:function(){},onTotalScrollOffset:0,onTotalScrollBackOffset:0,whileScrolling:function(){}},theme:"light"},t=n.extend(!0,i,t);return this.each(function(){var i=n(this),y,r,h,u,f,o,l,a,v,w,s;t.set_width&&i.css("width",t.set_width);t.set_height&&i.css("height",t.set_height);n(document).data("mCustomScrollbar-index")?(y=parseInt(n(document).data("mCustomScrollbar-index")),n(document).data("mCustomScrollbar-index",y+1)):n(document).data("mCustomScrollbar-index","1");i.wrapInner("<div class='mCustomScrollBox mCS-"+t.theme+"' id='mCSB_"+n(document).data("mCustomScrollbar-index")+"' style='position:relative; height:100%; overflow:hidden; max-width:100%;' />").addClass("mCustomScrollbar _mCS_"+n(document).data("mCustomScrollbar-index"));r=i.children(".mCustomScrollBox");t.horizontalScroll?(r.addClass("mCSB_horizontal").wrapInner("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />"),h=r.children(".mCSB_h_wrapper"),h.wrapInner("<div class='mCSB_container' style='position:absolute; left:0;' />").children(".mCSB_container").css({width:h.children().outerWidth(),position:"relative"}).unwrap()):r.wrapInner("<div class='mCSB_container' style='position:relative; top:0;' />");u=r.children(".mCSB_container");n.support.touch&&u.addClass("mCS_touch");u.after("<div class='mCSB_scrollTools' style='position:absolute;'><div class='mCSB_draggerContainer'><div class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' style='position:relative;'><\/div><\/div><div class='mCSB_draggerRail'><\/div><\/div><\/div>");var c=r.children(".mCSB_scrollTools"),p=c.children(".mCSB_draggerContainer"),e=p.children(".mCSB_dragger");t.horizontalScroll?e.data("minDraggerWidth",e.width()):e.data("minDraggerHeight",e.height());t.scrollButtons.enable&&(t.horizontalScroll?c.prepend("<a class='mCSB_buttonLeft' oncontextmenu='return false;'><\/a>").append("<a class='mCSB_buttonRight' oncontextmenu='return false;'><\/a>"):c.prepend("<a class='mCSB_buttonUp' oncontextmenu='return false;'><\/a>").append("<a class='mCSB_buttonDown' oncontextmenu='return false;'><\/a>"));r.bind("scroll",function(){i.is(".mCS_disabled")||r.scrollTop(0).scrollLeft(0)});i.data({mCS_Init:!0,mCustomScrollbarIndex:n(document).data("mCustomScrollbar-index"),horizontalScroll:t.horizontalScroll,scrollInertia:t.scrollInertia,scrollEasing:"mcsEaseOut",mouseWheel:t.mouseWheel,mouseWheelPixels:t.mouseWheelPixels,autoDraggerLength:t.autoDraggerLength,autoHideScrollbar:t.autoHideScrollbar,alwaysShowScrollbar:t.alwaysShowScrollbar,snapAmount:t.snapAmount,snapOffset:t.snapOffset,scrollButtons_enable:t.scrollButtons.enable,scrollButtons_scrollType:t.scrollButtons.scrollType,scrollButtons_scrollSpeed:t.scrollButtons.scrollSpeed,scrollButtons_scrollAmount:t.scrollButtons.scrollAmount,autoExpandHorizontalScroll:t.advanced.autoExpandHorizontalScroll,autoScrollOnFocus:t.advanced.autoScrollOnFocus,normalizeMouseWheelDelta:t.advanced.normalizeMouseWheelDelta,contentTouchScroll:t.contentTouchScroll,onScrollStart_Callback:t.callbacks.onScrollStart,onScroll_Callback:t.callbacks.onScroll,onTotalScroll_Callback:t.callbacks.onTotalScroll,onTotalScrollBack_Callback:t.callbacks.onTotalScrollBack,onTotalScroll_Offset:t.callbacks.onTotalScrollOffset,onTotalScrollBack_Offset:t.callbacks.onTotalScrollBackOffset,whileScrolling_Callback:t.callbacks.whileScrolling,bindEvent_scrollbar_drag:!1,bindEvent_content_touch:!1,bindEvent_scrollbar_click:!1,bindEvent_mousewheel:!1,bindEvent_buttonsContinuous_y:!1,bindEvent_buttonsContinuous_x:!1,bindEvent_buttonsPixels_y:!1,bindEvent_buttonsPixels_x:!1,bindEvent_focusin:!1,bindEvent_autoHideScrollbar:!1,mCSB_buttonScrollRight:!1,mCSB_buttonScrollLeft:!1,mCSB_buttonScrollDown:!1,mCSB_buttonScrollUp:!1});t.horizontalScroll?i.css("max-width")!=="none"&&(t.advanced.updateOnContentResize||(t.advanced.updateOnContentResize=!0)):i.css("max-height")!=="none"&&(f=!1,o=parseInt(i.css("max-height")),i.css("max-height").indexOf("%")>=0&&(f=o,o=i.parent().height()*f/100),i.css("overflow","hidden"),r.css("max-height",o));i.mCustomScrollbar("update");t.advanced.updateOnBrowserResize&&(a=n(window).width(),v=n(window).height(),n(window).bind("resize."+i.data("mCustomScrollbarIndex"),function(){l&&clearTimeout(l);l=setTimeout(function(){if(!i.is(".mCS_disabled")&&!i.is(".mCS_destroyed")){var t=n(window).width(),u=n(window).height();(a!==t||v!==u)&&(i.css("max-height")!=="none"&&f&&r.css("max-height",i.parent().height()*f/100),i.mCustomScrollbar("update"),a=t,v=u)}},150)}));t.advanced.updateOnContentResize&&(s=t.horizontalScroll?u.outerWidth():u.outerHeight(),w=setInterval(function(){var n;t.horizontalScroll?(t.advanced.autoExpandHorizontalScroll&&u.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:u.outerWidth(),position:"relative"}).unwrap(),n=u.outerWidth()):n=u.outerHeight();n!=s&&(i.mCustomScrollbar("update"),s=n)},300))})},update:function(){var i=n(this),u=i.children(".mCustomScrollBox"),r=u.children(".mCSB_container"),l,o,a,b,it,rt,c,v,k,ut,ft,s,h;r.removeClass("mCS_no_scrollbar");i.removeClass("mCS_disabled mCS_destroyed");u.scrollTop(0).scrollLeft(0);var f=u.children(".mCSB_scrollTools"),e=f.children(".mCSB_draggerContainer"),t=e.children(".mCSB_dragger");if(i.data("horizontalScroll")){var d=f.children(".mCSB_buttonLeft"),g=f.children(".mCSB_buttonRight"),y=u.width();i.data("autoExpandHorizontalScroll")&&r.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:r.outerWidth(),position:"relative"}).unwrap();l=r.outerWidth()}else var nt=f.children(".mCSB_buttonUp"),tt=f.children(".mCSB_buttonDown"),p=u.height(),w=r.outerHeight();w>p&&!i.data("horizontalScroll")?(f.css("display","block"),o=e.height(),i.data("autoDraggerLength")&&(a=Math.round(p/w*o),b=t.data("minDraggerHeight"),a<=b?t.css({height:b}):a>=o-10?(it=o-10,t.css({height:it})):t.css({height:a}),t.children(".mCSB_dragger_bar").css({"line-height":t.height()+"px"})),rt=t.height(),s=(w-p)/(o-rt),i.data("scrollAmount",s).mCustomScrollbar("scrolling",u,r,e,t,nt,tt,d,g),h=Math.abs(r.position().top),i.mCustomScrollbar("scrollTo",h,{scrollInertia:0,trigger:"internal"})):l>y&&i.data("horizontalScroll")?(f.css("display","block"),c=e.width(),i.data("autoDraggerLength")&&(v=Math.round(y/l*c),k=t.data("minDraggerWidth"),v<=k?t.css({width:k}):v>=c-10?(ut=c-10,t.css({width:ut})):t.css({width:v})),ft=t.width(),s=(l-y)/(c-ft),i.data("scrollAmount",s).mCustomScrollbar("scrolling",u,r,e,t,nt,tt,d,g),h=Math.abs(r.position().left),i.mCustomScrollbar("scrollTo",h,{scrollInertia:0,trigger:"internal"})):(u.unbind("mousewheel focusin"),i.data("horizontalScroll")?t.add(r).css("left",0):t.add(r).css("top",0),i.data("alwaysShowScrollbar")?i.data("horizontalScroll")?i.data("horizontalScroll")&&t.css({width:e.width()}):t.css({height:e.height()}):(f.css("display","none"),r.addClass("mCS_no_scrollbar")),i.data({bindEvent_mousewheel:!1,bindEvent_focusin:!1}))},scrolling:function(i,r,u,f,e,o,s,h){function ut(n,t,i,r){c.data("horizontalScroll")?c.mCustomScrollbar("scrollTo",f.position().left-t+r,{moveDragger:!0,trigger:"internal"}):c.mCustomScrollbar("scrollTo",f.position().top-n+i,{moveDragger:!0,trigger:"internal"})}var c=n(this),v,y,tt,it,rt,l,p,a,w,b,ft,et,d,g,ot,st;if(c.data("bindEvent_scrollbar_drag")||(n.support.pointer?(tt="pointerdown",it="pointermove",rt="pointerup"):n.support.msPointer&&(tt="MSPointerDown",it="MSPointerMove",rt="MSPointerUp"),n.support.pointer||n.support.msPointer?(f.bind(tt,function(t){t.preventDefault();c.data({on_drag:!0});f.addClass("mCSB_dragger_onDrag");var i=n(this),e=i.offset(),r=t.originalEvent.pageX-e.left,u=t.originalEvent.pageY-e.top;r<i.width()&&r>0&&u<i.height()&&u>0&&(v=u,y=r)}),n(document).bind(it+"."+c.data("mCustomScrollbarIndex"),function(n){if(n.preventDefault(),c.data("on_drag")){var i=f,t=i.offset(),r=n.originalEvent.pageX-t.left,u=n.originalEvent.pageY-t.top;ut(v,y,u,r)}}).bind(rt+"."+c.data("mCustomScrollbarIndex"),function(){c.data({on_drag:!1});f.removeClass("mCSB_dragger_onDrag")})):(f.bind("mousedown touchstart",function(t){var e,i,r,u,o;t.preventDefault();t.stopImmediatePropagation();e=n(this);i=e.offset();t.type==="touchstart"?(o=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],r=o.pageX-i.left,u=o.pageY-i.top):(c.data({on_drag:!0}),f.addClass("mCSB_dragger_onDrag"),r=t.pageX-i.left,u=t.pageY-i.top);r<e.width()&&r>0&&u<e.height()&&u>0&&(v=u,y=r)}).bind("touchmove",function(t){t.preventDefault();t.stopImmediatePropagation();var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],u=n(this),r=u.offset(),f=i.pageX-r.left,e=i.pageY-r.top;ut(v,y,e,f)}),n(document).bind("mousemove."+c.data("mCustomScrollbarIndex"),function(n){if(c.data("on_drag")){var i=f,t=i.offset(),r=n.pageX-t.left,u=n.pageY-t.top;ut(v,y,u,r)}}).bind("mouseup."+c.data("mCustomScrollbarIndex"),function(){c.data({on_drag:!1});f.removeClass("mCSB_dragger_onDrag")})),c.data({bindEvent_scrollbar_drag:!0})),n.support.touch&&c.data("contentTouchScroll")&&(c.data("bindEvent_content_touch")||(r.bind("touchstart",function(t){t.stopImmediatePropagation();l=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];p=n(this);a=p.offset();b=l.pageX-a.left;w=l.pageY-a.top;ft=w;et=b}),r.bind("touchmove",function(t){t.preventDefault();t.stopImmediatePropagation();l=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];p=n(this).parent();a=p.offset();b=l.pageX-a.left;w=l.pageY-a.top;c.data("horizontalScroll")?c.mCustomScrollbar("scrollTo",et-b,{trigger:"internal"}):c.mCustomScrollbar("scrollTo",ft-w,{trigger:"internal"})}))),c.data("bindEvent_scrollbar_click")||(u.bind("click",function(t){var i=(t.pageY-u.offset().top)*c.data("scrollAmount"),r=n(t.target);c.data("horizontalScroll")&&(i=(t.pageX-u.offset().left)*c.data("scrollAmount"));(r.hasClass("mCSB_draggerContainer")||r.hasClass("mCSB_draggerRail"))&&c.mCustomScrollbar("scrollTo",i,{trigger:"internal",scrollEasing:"draggerRailEase"})}),c.data({bindEvent_scrollbar_click:!0})),c.data("mouseWheel")&&(c.data("bindEvent_mousewheel")||(i.bind("mousewheel",function(n,t){var o,i=c.data("mouseWheelPixels"),s=Math.abs(r.position().top),e=f.position().top,h=u.height()-f.height();c.data("normalizeMouseWheelDelta")&&(t=t<0?-1:1);i==="auto"&&(i=100+Math.round(c.data("scrollAmount")/2));c.data("horizontalScroll")&&(e=f.position().left,h=u.width()-f.width(),s=Math.abs(r.position().left));(t>0&&e!==0||t<0&&e!==h)&&(n.preventDefault(),n.stopImmediatePropagation());o=s-t*i;c.mCustomScrollbar("scrollTo",o,{trigger:"internal"})}),c.data({bindEvent_mousewheel:!0}))),c.data("scrollButtons_enable"))if(c.data("scrollButtons_scrollType")==="pixels"){c.data("horizontalScroll")?(h.add(s).unbind("mousedown touchstart MSPointerDown pointerdown mouseup MSPointerUp pointerup mouseout MSPointerOut pointerout touchend",d,g),c.data({bindEvent_buttonsContinuous_x:!1}),c.data("bindEvent_buttonsPixels_x")||(h.bind("click",function(n){n.preventDefault();k(Math.abs(r.position().left)+c.data("scrollButtons_scrollAmount"))}),s.bind("click",function(n){n.preventDefault();k(Math.abs(r.position().left)-c.data("scrollButtons_scrollAmount"))}),c.data({bindEvent_buttonsPixels_x:!0}))):(o.add(e).unbind("mousedown touchstart MSPointerDown pointerdown mouseup MSPointerUp pointerup mouseout MSPointerOut pointerout touchend",d,g),c.data({bindEvent_buttonsContinuous_y:!1}),c.data("bindEvent_buttonsPixels_y")||(o.bind("click",function(n){n.preventDefault();k(Math.abs(r.position().top)+c.data("scrollButtons_scrollAmount"))}),e.bind("click",function(n){n.preventDefault();k(Math.abs(r.position().top)-c.data("scrollButtons_scrollAmount"))}),c.data({bindEvent_buttonsPixels_y:!0})));function k(n){f.data("preventAction")||(f.data("preventAction",!0),c.mCustomScrollbar("scrollTo",n,{trigger:"internal"}))}}else{c.data("horizontalScroll")?(h.add(s).unbind("click"),c.data({bindEvent_buttonsPixels_x:!1}),c.data("bindEvent_buttonsContinuous_x")||(h.bind("mousedown touchstart MSPointerDown pointerdown",function(n){n.preventDefault();var t=nt();c.data({mCSB_buttonScrollRight:setInterval(function(){c.mCustomScrollbar("scrollTo",Math.abs(r.position().left)+t,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})}),d=function(n){n.preventDefault();clearInterval(c.data("mCSB_buttonScrollRight"))},h.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",d),s.bind("mousedown touchstart MSPointerDown pointerdown",function(n){n.preventDefault();var t=nt();c.data({mCSB_buttonScrollLeft:setInterval(function(){c.mCustomScrollbar("scrollTo",Math.abs(r.position().left)-t,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})}),g=function(n){n.preventDefault();clearInterval(c.data("mCSB_buttonScrollLeft"))},s.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",g),c.data({bindEvent_buttonsContinuous_x:!0}))):(o.add(e).unbind("click"),c.data({bindEvent_buttonsPixels_y:!1}),c.data("bindEvent_buttonsContinuous_y")||(o.bind("mousedown touchstart MSPointerDown pointerdown",function(n){n.preventDefault();var t=nt();c.data({mCSB_buttonScrollDown:setInterval(function(){c.mCustomScrollbar("scrollTo",Math.abs(r.position().top)+t,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})}),ot=function(n){n.preventDefault();clearInterval(c.data("mCSB_buttonScrollDown"))},o.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",ot),e.bind("mousedown touchstart MSPointerDown pointerdown",function(n){n.preventDefault();var t=nt();c.data({mCSB_buttonScrollUp:setInterval(function(){c.mCustomScrollbar("scrollTo",Math.abs(r.position().top)-t,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})}),st=function(n){n.preventDefault();clearInterval(c.data("mCSB_buttonScrollUp"))},e.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",st),c.data({bindEvent_buttonsContinuous_y:!0})));function nt(){var n=c.data("scrollButtons_scrollSpeed");return c.data("scrollButtons_scrollSpeed")==="auto"&&(n=Math.round((c.data("scrollInertia")+100)/40)),n}}c.data("autoScrollOnFocus")&&(c.data("bindEvent_focusin")||(i.bind("focusin",function(){var t;if(i.scrollTop(0).scrollLeft(0),t=n(document.activeElement),t.is("input,textarea,select,button,a[tabindex],area,object")){var f=r.position().top,u=t.position().top,e=i.height()-t.outerHeight();c.data("horizontalScroll")&&(f=r.position().left,u=t.position().left,e=i.width()-t.outerWidth());(f+u<0||f+u>e)&&c.mCustomScrollbar("scrollTo",u,{trigger:"internal"})}}),c.data({bindEvent_focusin:!0})));c.data("autoHideScrollbar")&&!c.data("alwaysShowScrollbar")&&(c.data("bindEvent_autoHideScrollbar")||(i.bind("mouseenter",function(){i.addClass("mCS-mouse-over");t.showScrollbar.call(i.children(".mCSB_scrollTools"))}).bind("mouseleave touchend",function(n){i.removeClass("mCS-mouse-over");n.type==="mouseleave"&&t.hideScrollbar.call(i.children(".mCSB_scrollTools"))}),c.data({bindEvent_autoHideScrollbar:!0})))},scrollTo:function(i,r){function h(n){if(u.data("mCustomScrollbarIndex")){this.mcs={top:f.position().top,left:f.position().left,draggerTop:s.position().top,draggerLeft:s.position().left,topPct:Math.round(100*Math.abs(f.position().top)/Math.abs(f.outerHeight()-o.height())),leftPct:Math.round(100*Math.abs(f.position().left)/Math.abs(f.outerWidth()-o.width()))};switch(n){case"onScrollStart":u.data("mCS_tweenRunning",!0).data("onScrollStart_Callback").call(u,this.mcs);break;case"whileScrolling":u.data("whileScrolling_Callback").call(u,this.mcs);break;case"onScroll":u.data("onScroll_Callback").call(u,this.mcs);break;case"onTotalScrollBack":u.data("onTotalScrollBack_Callback").call(u,this.mcs);break;case"onTotalScroll":u.data("onTotalScroll_Callback").call(u,this.mcs)}}}var u=n(this),d={moveDragger:!1,trigger:"external",callbacks:!0,scrollInertia:u.data("scrollInertia"),scrollEasing:u.data("scrollEasing")},r=n.extend(d,r),e,o=u.children(".mCustomScrollBox"),f=o.children(".mCSB_container"),v=o.children(".mCSB_scrollTools"),y=v.children(".mCSB_draggerContainer"),s=y.children(".mCSB_dragger"),k=draggerSpeed=r.scrollInertia,w,l,b,a,p,c;f.hasClass("mCS_no_scrollbar")||(u.data({mCS_trigger:r.trigger}),u.data("mCS_Init")&&(r.callbacks=!1),(i||i===0)&&(typeof i=="number"?r.moveDragger?(e=i,i=u.data("horizontalScroll")?s.position().left*u.data("scrollAmount"):s.position().top*u.data("scrollAmount"),draggerSpeed=0):e=i/u.data("scrollAmount"):typeof i=="string"&&(p=i==="top"?0:i!=="bottom"||u.data("horizontalScroll")?i==="left"?0:i==="right"&&u.data("horizontalScroll")?f.outerWidth()-o.width():i==="first"?u.find(".mCSB_container").find(":first"):i==="last"?u.find(".mCSB_container").find(":last"):u.find(i):f.outerHeight()-o.height(),p.length===1?(i=u.data("horizontalScroll")?p.position().left:p.position().top,e=i/u.data("scrollAmount")):e=i=p),u.data("horizontalScroll")?(u.data("onTotalScrollBack_Offset")&&(l=-u.data("onTotalScrollBack_Offset")),u.data("onTotalScroll_Offset")&&(a=o.width()-f.outerWidth()+u.data("onTotalScroll_Offset")),e<0?(e=i=0,clearInterval(u.data("mCSB_buttonScrollLeft")),l||(w=!0)):e>=y.width()-s.width()?(e=y.width()-s.width(),i=o.width()-f.outerWidth(),clearInterval(u.data("mCSB_buttonScrollRight")),a||(b=!0)):i=-i,c=u.data("snapAmount"),c&&(i=Math.round(i/c)*c-u.data("snapOffset")),t.mTweenAxis.call(this,s[0],"left",Math.round(e),draggerSpeed,r.scrollEasing),t.mTweenAxis.call(this,f[0],"left",Math.round(i),k,r.scrollEasing,{onStart:function(){r.callbacks&&!u.data("mCS_tweenRunning")&&h("onScrollStart");u.data("autoHideScrollbar")&&!u.data("alwaysShowScrollbar")&&t.showScrollbar.call(v)},onUpdate:function(){r.callbacks&&h("whileScrolling")},onComplete:function(){r.callbacks&&(h("onScroll"),(w||l&&f.position().left>=l)&&h("onTotalScrollBack"),(b||a&&f.position().left<=a)&&h("onTotalScroll"));s.data("preventAction",!1);u.data("mCS_tweenRunning",!1);u.data("autoHideScrollbar")&&!u.data("alwaysShowScrollbar")&&(o.hasClass("mCS-mouse-over")||t.hideScrollbar.call(v))}})):(u.data("onTotalScrollBack_Offset")&&(l=-u.data("onTotalScrollBack_Offset")),u.data("onTotalScroll_Offset")&&(a=o.height()-f.outerHeight()+u.data("onTotalScroll_Offset")),e<0?(e=i=0,clearInterval(u.data("mCSB_buttonScrollUp")),l||(w=!0)):e>=y.height()-s.height()?(e=y.height()-s.height(),i=o.height()-f.outerHeight(),clearInterval(u.data("mCSB_buttonScrollDown")),a||(b=!0)):i=-i,c=u.data("snapAmount"),c&&(i=Math.round(i/c)*c-u.data("snapOffset")),t.mTweenAxis.call(this,s[0],"top",Math.round(e),draggerSpeed,r.scrollEasing),t.mTweenAxis.call(this,f[0],"top",Math.round(i),k,r.scrollEasing,{onStart:function(){r.callbacks&&!u.data("mCS_tweenRunning")&&h("onScrollStart");u.data("autoHideScrollbar")&&!u.data("alwaysShowScrollbar")&&t.showScrollbar.call(v)},onUpdate:function(){r.callbacks&&h("whileScrolling")},onComplete:function(){r.callbacks&&(h("onScroll"),(w||l&&f.position().top>=l)&&h("onTotalScrollBack"),(b||a&&f.position().top<=a)&&h("onTotalScroll"));s.data("preventAction",!1);u.data("mCS_tweenRunning",!1);u.data("autoHideScrollbar")&&!u.data("alwaysShowScrollbar")&&(o.hasClass("mCS-mouse-over")||t.hideScrollbar.call(v))}})),u.data("mCS_Init")&&u.data({mCS_Init:!1})))},stop:function(){var i=n(this),r=i.children().children(".mCSB_container"),u=i.children().children().children().children(".mCSB_dragger");t.mTweenAxisStop.call(this,r[0]);t.mTweenAxisStop.call(this,u[0])},disable:function(t){var r=n(this),u=r.children(".mCustomScrollBox"),i=u.children(".mCSB_container"),f=u.children(".mCSB_scrollTools"),e=f.children().children(".mCSB_dragger");u.unbind("mousewheel focusin mouseenter mouseleave touchend");i.unbind("touchstart touchmove");t&&(r.data("horizontalScroll")?e.add(i).css("left",0):e.add(i).css("top",0));f.css("display","none");i.addClass("mCS_no_scrollbar");r.data({bindEvent_mousewheel:!1,bindEvent_focusin:!1,bindEvent_content_touch:!1,bindEvent_autoHideScrollbar:!1}).addClass("mCS_disabled")},destroy:function(){var t=n(this);t.removeClass("mCustomScrollbar _mCS_"+t.data("mCustomScrollbarIndex")).addClass("mCS_destroyed").children().children(".mCSB_container").unwrap().children().unwrap().siblings(".mCSB_scrollTools").remove();n(document).unbind("mousemove."+t.data("mCustomScrollbarIndex")+" mouseup."+t.data("mCustomScrollbarIndex")+" MSPointerMove."+t.data("mCustomScrollbarIndex")+" MSPointerUp."+t.data("mCustomScrollbarIndex"));n(window).unbind("resize."+t.data("mCustomScrollbarIndex"))}},t={showScrollbar:function(){this.stop().animate({opacity:1},"fast")},hideScrollbar:function(){this.stop().animate({opacity:0},"fast")},mTweenAxis:function(n,t,i,r,u,f){function l(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()}function a(){e||y.call();e=l()-b;v();e>=n._time&&(n._time=e>n._time?e+o-(e-n._time):e+o-1,n._time<e+1&&(n._time=e+1));n._time<r?n._id=_request(a):w.call()}function v(){r>0?(n.currVal=g(n._time,s,c,r,u),h[t]=Math.round(n.currVal)+"px"):h[t]=i+"px";p.call()}function k(){o=1e3/60;n._time=e+o;_request=window.requestAnimationFrame?window.requestAnimationFrame:function(n){return v(),setTimeout(n,.01)};n._id=_request(a)}function d(){n._id!=null&&(window.requestAnimationFrame?window.cancelAnimationFrame(n._id):clearTimeout(n._id),n._id=null)}function g(n,t,i,r,u){switch(u){case"linear":return i*n/r+t;case"easeOutQuad":return n/=r,-i*n*(n-2)+t;case"easeInOutQuad":return(n/=r/2,n<1)?i/2*n*n+t:(n--,-i/2*(n*(n-2)-1)+t);case"easeOutCubic":return n/=r,n--,i*(n*n*n+1)+t;case"easeOutQuart":return n/=r,n--,-i*(n*n*n*n-1)+t;case"easeOutQuint":return n/=r,n--,i*(n*n*n*n*n+1)+t;case"easeOutCirc":return n/=r,n--,i*Math.sqrt(1-n*n)+t;case"easeOutSine":return i*Math.sin(n/r*(Math.PI/2))+t;case"easeOutExpo":return i*(-Math.pow(2,-10*n/r)+1)+t;case"mcsEaseOut":var f=(n/=r)*n,e=f*n;return t+i*(.499999999999997*e*f+-2.5*f*f+5.5*e+-6.5*f+4*n);case"draggerRailEase":return(n/=r/2,n<1)?i/2*n*n*n+t:(n-=2,i/2*(n*n*n+2)+t)}}var f=f||{},y=f.onStart||function(){},p=f.onUpdate||function(){},w=f.onComplete||function(){},b=l(),o,e=0,s=n.offsetTop,h=n.style,c;t==="left"&&(s=n.offsetLeft);c=i-s;d();k()},mTweenAxisStop:function(n){n._id!=null&&(window.requestAnimationFrame?window.cancelAnimationFrame(n._id):clearTimeout(n._id),n._id=null)},rafPolyfill:function(){for(var n=["ms","moz","webkit","o"],t=n.length;--t>-1&&!window.requestAnimationFrame;)window.requestAnimationFrame=window[n[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[t]+"CancelAnimationFrame"]||window[n[t]+"CancelRequestAnimationFrame"]}},r;t.rafPolyfill.call();n.support.touch=!!("ontouchstart"in window);n.support.pointer=window.navigator.pointerEnabled;n.support.msPointer=window.navigator.msPointerEnabled;r="https:"==document.location.protocol?"https:":"http:";n.event.special.mousewheel||document.write('<script src="'+r+'//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.0.6/jquery.mousewheel.min.js"><\/script>');n.fn.mCustomScrollbar=function(t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist");else return i.init.apply(this,arguments)}}(jQuery);$(function(){});$(document).on("click","#btnPayment",function(){var t=$(this);if($("#ppu-Form-od").valid()){$(this).hide();var i=$("#payname").val(),r=$("#payphone").val(),u=$("#txtpayname").val(),f=$("#txtpayphone").val(),e=$("#payemail").val(),o=$("#txtpayemail").val(),s=$("#payaddress").val(),h=128,n=$("#CampaignID").val(),c=$("#productVariantIdOrder").val(),l="Thanh toán đơn hàng cho sản phẩm: "+$(".puonl_tab_pro_name").text();t.parent().html("<img src='/Content/images/loader.gif'/>");$.post("/Ajax/Order/AddOrderAPI",{sourceName:"",CampaignID:n,TotalPriceCampaignOrder:"",productVariantId:c,gender:"true",name:u,email:o,phone:f,address:"",city:0,district:0,couponCode:"",accessories:"",talesSales:null,ArrPromotioID:null,typePayment:"boxselectShop",refered:""},function(t){var u=0,f;$("#IsPreOrderpop").val().toLowerCase()=="true"?u=$("#PricePreOrder").data("price"):(f=100,typeof $("#PercentPricePayment").val()!="undefined"&&$("#PercentPricePayment").val()!=""&&(f=$("#PercentPricePayment").val()),u=parseInt(f)*parseInt(t.price.split(".")[0])/100);$.post("/Ajax/TOPUP/BKPaymentstr",{select_price:t.price.split(".")[0],payer_sdt:r,cardtype:0,PaymentType:4,payer_name:i,payer_email:e,ischeckInvoices:0,CompanyName:"",address:s,bussinesscode:"",TotalAmount:u,checkbank:h,cbPaymentMethod:2,Description:l,Supplier:n,OrderID:t.orderid,__RequestVerificationToken:$("input[name='__RequestVerificationToken']").val()},function(n){window.location=n})})}});$(document).on("click",".puonl_tab_color>ul>li",function(){var n=$(this),t=n.data("id"),r=n.data("money"),u=n.data("discount"),i=parseFloat(r)-parseFloat(u);$(".puonl_tab_color>ul>li").removeClass("active");n.addClass("active");$(".ppu_tab_pro_price").text(ConvertCurrency(i.toString())+"đ");$(".ppu_tab_pro_price").attr("data-money",i);$(".ppu_tab_pro_price").attr("data-currentid",t);$("#productVariantIdOrder").val(t)});$(document).on("click","#puonl-iprod-ipcbox",function(){$("#puonl-iprod-ipcbox:checked").length>0?($("#payname").val($("#txtpayname").val()),$("#payphone").val($("#txtpayphone").val()),$("#payemail").val($("#txtpayemail").val())):($("#payname").val(""),$("#payphone").val(""),$("#payemail").val(""))});$(document).on("click","#checkcoupon",function(){$.post("/Ajax/Order/CheckCouponCodeCampaign",{coupon:$("#couponCode").val()},function(n){var t=n,i;t=="0"?($(".msgcheckcoupon").html("Bạn nhập sai mã, hoặc đã sử dụng"),$("#discount-coupon").length>0&&$("#discount-coupon").remove()):($("#labinsertcoupon").append("<input type='hidden' id='discount-coupon' value='"+parseInt(t)+"'/>"),$(".msgcheckcoupon").attr(ConvertCurrency(parseInt(t).toString())),$(".msgcheckcoupon").html("Bạn đã được giảm giá: "+ConvertCurrency(parseInt(t).toString())+" đ"),i=parseInt($(".ppu_tab_pro_price").attr("data-money"))-parseInt(t),$(".ppu_tab_pro_price").attr("data-money",i),$(".ppu_tab_pro_price").html(ConvertCurrency(parseInt(i).toString())),$("#checkcoupon").hide());$(".msgcheckcoupon").show()})});$(document).on("change","#PercentPricePayment",function(){var n=parseInt($("#PercentPricePayment").val()),t=parseInt($(".ppu_tab_pro_price").attr("data-money"));$(".ppu_tab_pro_price").html(ConvertCurrency((t*n/100).toString()))})