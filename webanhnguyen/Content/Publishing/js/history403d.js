var fhistory=(function(){function fa(){if(typeof $.cookie('log_6dd5cf4a-73f7-4a79-b6d6-b686d28583fc')=='undefined'){createCookie("log_6dd5cf4a-73f7-4a79-b6d6-b686d28583fc",generateUUID(),365);}var param={view:{name:typeof $.cookie('customerName')!=='undefined'?$.cookie('customerName'):null,guid:$.cookie('log_6dd5cf4a-73f7-4a79-b6d6-b686d28583fc'),email:typeof $.cookie('customerEmail')!=='undefined'?$.cookie('customerEmail'):null,customerId:typeof $.cookie('customerID')!=='undefined'?$.cookie('customerID'):null,productId:$('#productId').val(),keyword:typeof $.cookie('KeywordSearch')!=='undefined'?$.cookie('KeywordSearch'):null,ipAddress:null,urlCurrent:document.location.href,urlReffer:document.referrer,activity:typeof $.cookie('KeywordSearch')=='undefined'?"read":"search"},detailproduct:{guid:$.cookie('log_6dd5cf4a-73f7-4a79-b6d6-b686d28583fc'),productId:typeof $('.pd-box-color .chosen-color:first-child').attr('data-sku')!=='undefined'?$('.pd-box-color .chosen-color:first-child').attr('data-sku'):$('#itemCode').length>0?$('#itemCode').val():null,},type:$('#productId').length>0?1:0}
$.post("/Ajax/Logs/addPersonalization",{param:JSON.stringify(param.view),paramView:JSON.stringify(param.detailproduct),type:param.type},function(res){if(param.type==1){jfpts.productdetail.getVoucer(res);}});}function createCookie(name,value,days){if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));var expires="; expires="+date.toGMTString();}else var expires="";document.cookie=name+"="+value+expires+"; path=/";}function getCookie(c_name){if(document.cookie.length>0){c_start=document.cookie.indexOf(c_name+"=");if(c_start!=-1){c_start=c_start+c_name.length+1;c_end=document.cookie.indexOf(";",c_start);if(c_end==-1){c_end=document.cookie.length;}return unescape(document.cookie.substring(c_start,c_end));}}return"";}function generateUUID(){var d=new Date().getTime();var uuid='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c=='x'?r:(r&0x3|0x8)).toString(16);});return uuid;};return{fa:fa};})();fhistory.fa();